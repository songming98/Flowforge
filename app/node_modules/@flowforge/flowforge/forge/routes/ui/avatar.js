module.exports = async function (app) {
    app.get('/:id', async (request, reply) => {
        const identifier = request.params.id
        const key = Buffer.from(identifier, 'base64').toString()
        const supportedCharacters = Object.keys(font).join('')
        const rx = new RegExp('[^' + supportedCharacters + ']', 'g')
        const supportedString = key.toLowerCase().replace(rx, '')
        const parts = supportedString.trim().split(/ +/)
        const letters = []
        if (parts.length > 1) {
            letters.push(parts[0][0])
            letters.push(parts[parts.length - 1][0])
        } else {
            letters.push(parts[0][0] || ' ')
            letters.push(parts[0][1] || ' ')
        }
        const totalLetterWidth = (letterWidths[letters[0]] + letterWidths[letters[1]] + 4)

        const quickHash = key.split('').reduce(function (previousValue, currentValue) {
            return (previousValue + currentValue.charCodeAt(0)) % palette.length
        }, 0)
        const colour = palette[quickHash]

        const radius = 190

        const center = radius / 2

        const result = `<svg viewBox="0 0 ${radius} ${radius}" xmlns="http://www.w3.org/2000/svg">` +
        // `<circle fill="${colour}" cx="${center}" cy="${center}" r="${center}" />`+
        `<rect fill="${colour}" width="${radius}" height="${radius}" rx="70" />` +
        `<g transform="translate(0,${center - 42})" stroke-linecap="round"  stroke="#fff" stroke-width="4px" fill="#fff">` +
            `<path shape-rendering="geometricPrecision" transform="translate(${center - totalLetterWidth / 2 - 2} 0)" d="${font[letters[0]]}"></path>` +
            `<path shape-rendering="geometricPrecision" transform="translate(${center - totalLetterWidth / 2 + letterWidths[letters[0]] + 4} 0)" d="${font[letters[1]]}"></path>` +
        '</g>' +
        '</svg>'
        reply.header('Content-Type', 'image/svg+xml')
        reply.send(result)
    })
}

const font = {
    a: 'M24,47.022l10.938,0l0,-6.055a15.619,15.619,0,0,0,-0.508,-4.086a11.529,11.529,0,0,0,-2.886,-5.118q-2.85,-2.932,-8.127,-3.401a23.726,23.726,0,0,0,-2.102,-0.09q-3.858,0,-6.91,1.245a20.846,20.846,0,0,0,-3.5,1.814a17.682,17.682,0,0,0,-1.797,1.335l-0.489,8.057l-4.834,0l0,-11.035a26.599,26.599,0,0,1,7.764,-4.614a24.481,24.481,0,0,1,5.574,-1.407a31.888,31.888,0,0,1,4.289,-0.278q6.823,0,11.345,2.508a15.222,15.222,0,0,1,3.011,2.18a15.385,15.385,0,0,1,4.586,8.378a22.776,22.776,0,0,1,0.443,4.61l0,25.488q0,1.563,0.098,3.101a31.814,31.814,0,0,0,0.341,3.051l6.299,0.245l0,4.248l-11.523,0q-0.5,-2.459,-0.734,-4.1a32.222,32.222,0,0,1,-0.072,-0.539q-0.218,-1.744,-0.268,-3.921a53.515,53.515,0,0,1,0,-0.034a22.258,22.258,0,0,1,-7.25,6.721a25.834,25.834,0,0,1,-0.368,0.213a20.833,20.833,0,0,1,-10.139,2.682a24.518,24.518,0,0,1,-0.359,0.003a22.735,22.735,0,0,1,-4.783,-0.473q-3.049,-0.656,-5.354,-2.223a13.138,13.138,0,0,1,-1.63,-1.308q-4.248,-4.004,-4.248,-10.84q0,-4.882,2.832,-8.569a16.467,16.467,0,0,1,4.461,-3.967a22.415,22.415,0,0,1,3.571,-1.77a27.964,27.964,0,0,1,5.682,-1.538q2.697,-0.449,5.764,-0.505a48.323,48.323,0,0,1,0.883,-0.008zm10.938,15.625l0,-11.133l-10.987,0q-8.105,0,-12.695,3.491a13.095,13.095,0,0,0,-2.683,2.683a9.743,9.743,0,0,0,-1.907,5.887a10.016,10.016,0,0,0,0.522,3.297a8.523,8.523,0,0,0,2.408,3.587a9.889,9.889,0,0,0,4.328,2.234q1.519,0.375,3.31,0.401a18.499,18.499,0,0,0,0.272,0.002a19.965,19.965,0,0,0,10.278,-2.856a18.514,18.514,0,0,0,4.97,-4.18a17.022,17.022,0,0,0,2.184,-3.413z',
    b: 'M13,69.532l-0.586,7.666l-5.029,0l0,-71.241l-7.959,-0.634l0,-4.297l13.818,0l0,31.396q2.588,-4.248,6.714,-6.64q4.126,-2.393,9.79,-2.393a19.555,19.555,0,0,1,5.725,0.808a16.384,16.384,0,0,1,5.164,2.634a19.785,19.785,0,0,1,5.045,5.728a26.21,26.21,0,0,1,1.913,3.965a34.199,34.199,0,0,1,1.812,6.799q0.605,3.674,0.605,7.898l0,1.026q0,7.493,-2.169,13.102a26.412,26.412,0,0,1,-0.248,0.618a22.828,22.828,0,0,1,-2.942,5.164a18.725,18.725,0,0,1,-3.992,3.869a17.255,17.255,0,0,1,-7.961,3.046a22.4,22.4,0,0,1,-2.854,0.177a24.809,24.809,0,0,1,-4.781,-0.439a18.32,18.32,0,0,1,-5.254,-1.856q-4.223,-2.295,-6.811,-6.396zm31.103,-17.285l0,-1.026a45.06,45.06,0,0,0,-0.356,-5.81q-0.429,-3.3,-1.377,-6.104q-1.733,-5.127,-5.176,-8.008a12.248,12.248,0,0,0,-6.333,-2.733a16.407,16.407,0,0,0,-2.236,-0.148q-6.201,0,-9.888,3.101a18.777,18.777,0,0,0,-5.479,7.8a21.916,21.916,0,0,0,-0.014,0.037l0,23.828a15.931,15.931,0,0,0,5.762,7.3a14.807,14.807,0,0,0,5.547,2.313a20.832,20.832,0,0,0,4.169,0.397a16.125,16.125,0,0,0,4.895,-0.703a12.347,12.347,0,0,0,6.604,-4.986q3.233,-4.736,3.774,-12.164a42.626,42.626,0,0,0,0.108,-3.094z',
    c: 'M0,51.807l0,-2.051a36.743,36.743,0,0,1,0.69,-7.275a28.644,28.644,0,0,1,2.069,-6.397q2.759,-5.957,7.788,-9.326a19.902,19.902,0,0,1,9.031,-3.219a25.29,25.29,0,0,1,2.786,-0.15a27.847,27.847,0,0,1,5.981,0.617a22.264,22.264,0,0,1,4.956,1.702q4.785,2.32,8.008,5.982l0.098,11.963l-4.883,0l-0.782,-9.864a17.43,17.43,0,0,0,-5.712,-4.028a16.717,16.717,0,0,0,-4.35,-1.22a22.007,22.007,0,0,0,-3.17,-0.22a15.032,15.032,0,0,0,-5.451,0.968a13.924,13.924,0,0,0,-3.289,1.815a17.233,17.233,0,0,0,-4.692,5.342a21.704,21.704,0,0,0,-1.143,2.3q-2.075,4.858,-2.075,11.01l0,2.051q0,6.445,2.05,11.304a19.768,19.768,0,0,0,2.377,4.197a15.804,15.804,0,0,0,3.385,3.347a14.134,14.134,0,0,0,7.084,2.606a17.968,17.968,0,0,0,1.705,0.079a18.57,18.57,0,0,0,4.638,-0.552a14.033,14.033,0,0,0,5.225,-2.548q3.956,-3.101,4.786,-9.156l5.224,0l0.098,0.293a19.862,19.862,0,0,1,-1.254,5.502a17.48,17.48,0,0,1,-1.7,3.287a16.949,16.949,0,0,1,-6.702,5.866a19.993,19.993,0,0,1,-0.134,0.067q-4.321,2.124,-10.23,2.124a22.219,22.219,0,0,1,-6.929,-1.05a19.647,19.647,0,0,1,-4.716,-2.27a21.843,21.843,0,0,1,-6.964,-7.48a26.638,26.638,0,0,1,-0.946,-1.798q-2.857,-5.957,-2.857,-13.818z',
    d: 'M0,52.247l0,-1.026q0,-8.447,2.393,-14.697a24.774,24.774,0,0,1,2.667,-5.165a19.205,19.205,0,0,1,4.291,-4.528a17.046,17.046,0,0,1,8.784,-3.34a21.841,21.841,0,0,1,2.129,-0.102a21.912,21.912,0,0,1,4.856,0.515a16.987,16.987,0,0,1,4.739,1.829a19.082,19.082,0,0,1,6.631,6.412a22.198,22.198,0,0,1,0.083,0.131l0,-26.319l-7.959,-0.634l0,-4.297l7.959,0l5.859,0l0,71.289l7.959,0.635l0,4.248l-13.183,0l-0.44,-7.471q-2.588,4.004,-6.787,6.25a18.744,18.744,0,0,1,-5.961,1.956a24.665,24.665,0,0,1,-3.853,0.29a20.602,20.602,0,0,1,-5.647,-0.744a16.856,16.856,0,0,1,-5.193,-2.479a19.243,19.243,0,0,1,-5.694,-6.451a24.435,24.435,0,0,1,-1.24,-2.582a30.392,30.392,0,0,1,-1.831,-6.55q-0.509,-3.026,-0.557,-6.456a51.369,51.369,0,0,1,-0.005,-0.714zm36.573,11.328l0,-24.659a18.993,18.993,0,0,0,-4.203,-6.327a18.314,18.314,0,0,0,-1.364,-1.217q-3.469,-2.798,-9.041,-2.945a23.68,23.68,0,0,0,-0.627,-0.009a15.032,15.032,0,0,0,-4.09,0.532a11.789,11.789,0,0,0,-4.455,2.349a15.642,15.642,0,0,0,-3.54,4.345a21.478,21.478,0,0,0,-1.611,3.663q-1.625,4.807,-1.727,11.072a51.945,51.945,0,0,0,-0.006,0.842l0,1.026q0,9.57,3.833,15.258a12.419,12.419,0,0,0,9.086,5.536a18.346,18.346,0,0,0,2.413,0.153q5.606,0,9.378,-2.492a13.216,13.216,0,0,0,0.143,-0.096a16.413,16.413,0,0,0,5.684,-6.755a19.54,19.54,0,0,0,0.127,-0.276z',
    e: 'M0,52.344l0,-2.685a33.424,33.424,0,0,1,0.827,-7.58a27.247,27.247,0,0,1,2.103,-5.921q2.929,-5.933,7.934,-9.351a19.34,19.34,0,0,1,11.157,-3.418a25.331,25.331,0,0,1,5.323,0.533a18.717,18.717,0,0,1,5.786,2.25a18.284,18.284,0,0,1,7.08,7.837a23.719,23.719,0,0,1,2.027,6.439a32.335,32.335,0,0,1,0.439,5.451l0,4.98l-36.621,0l-0.098,2.149a28.167,28.167,0,0,0,0.62,5.786a22.503,22.503,0,0,0,1.553,4.663a18.46,18.46,0,0,0,3.198,4.842a16.507,16.507,0,0,0,2.759,2.385a15.015,15.015,0,0,0,7.623,2.592a18.684,18.684,0,0,0,1.288,0.044a26.549,26.549,0,0,0,4.406,-0.348a19.678,19.678,0,0,0,4.359,-1.239q3.784,-1.587,6.665,-4.321l2.49,4.004a24.479,24.479,0,0,1,-5.09,3.694a29.69,29.69,0,0,1,-2.356,1.164q-4.37,1.929,-10.474,1.929a23.689,23.689,0,0,1,-6.895,-0.972a20.382,20.382,0,0,1,-5.068,-2.324a22.386,22.386,0,0,1,-7.73,-8.411a26.619,26.619,0,0,1,-0.375,-0.72a27.301,27.301,0,0,1,-2.584,-8.426a35.303,35.303,0,0,1,-0.346,-5.026zm6.348,-6.64l0.097,0.293l30.371,0l0,-1.465a20.742,20.742,0,0,0,-0.533,-4.789a17.198,17.198,0,0,0,-1.249,-3.537a13.837,13.837,0,0,0,-5.078,-5.786q-3.296,-2.099,-7.935,-2.099q-4.199,0,-7.568,2.27a16.625,16.625,0,0,0,-4.653,4.786a20.102,20.102,0,0,0,-0.84,1.415a22.295,22.295,0,0,0,-2.252,6.413a27.107,27.107,0,0,0,-0.36,2.499z',
    f: 'M23,77.198l-22.265,0l0,-4.248l7.959,-0.635l0,-43.213l-8.789,0l0,-4.736l8.789,0l0,-7.764a25.299,25.299,0,0,1,0.428,-4.807q0.542,-2.795,1.767,-4.978a13.258,13.258,0,0,1,1.784,-2.471a13.007,13.007,0,0,1,7.08,-3.942a19.52,19.52,0,0,1,4.077,-0.404q1.661,0,3.394,0.22a24.589,24.589,0,0,1,3.491,0.708l-0.781,4.736a23.509,23.509,0,0,0,-2.147,-0.407a26.362,26.362,0,0,0,-0.417,-0.056a20.604,20.604,0,0,0,-1.409,-0.129a26.767,26.767,0,0,0,-1.545,-0.042a12.062,12.062,0,0,0,-2.993,0.349a8.123,8.123,0,0,0,-4.331,2.678a9.994,9.994,0,0,0,-1.864,3.517q-0.453,1.467,-0.602,3.232a21.391,21.391,0,0,0,-0.073,1.796l0,7.764l12.842,0l0,4.736l-12.842,0l0,43.213l8.447,0.635l0,4.248z',
    g: 'M6,95.118l1.562,-4.883a32.226,32.226,0,0,0,6.616,2.344a31.127,31.127,0,0,0,5.948,0.8a35.702,35.702,0,0,0,1.45,0.03a20.09,20.09,0,0,0,4.434,-0.459q4.298,-0.972,6.87,-4.009q3.266,-3.857,3.713,-10.315a30.609,30.609,0,0,0,0.071,-2.112l0,-6.445a18.328,18.328,0,0,1,-6.763,6.006a18.791,18.791,0,0,1,-5.915,1.883a24.605,24.605,0,0,1,-3.68,0.265a20.905,20.905,0,0,1,-5.554,-0.708a16.85,16.85,0,0,1,-5.334,-2.515q-4.541,-3.222,-6.983,-9.057q-2.37,-5.664,-2.439,-13.238a50.054,50.054,0,0,1,-0.002,-0.458l0,-1.026a49.388,49.388,0,0,1,0.467,-6.971q0.601,-4.211,1.974,-7.726a25.185,25.185,0,0,1,2.702,-5.165a19.453,19.453,0,0,1,4.305,-4.528a17.04,17.04,0,0,1,8.628,-3.321a22.009,22.009,0,0,1,2.334,-0.121a22.081,22.081,0,0,1,4.975,0.536a17.038,17.038,0,0,1,4.839,1.905q4.151,2.442,6.739,6.836l0.634,-8.3l4.932,0l0,52.148a31.424,31.424,0,0,1,-0.472,5.584a22.635,22.635,0,0,1,-1.994,6.135a17.687,17.687,0,0,1,-7.153,7.617a19.781,19.781,0,0,1,-6.221,2.242a27.038,27.038,0,0,1,-5.009,0.444a36.155,36.155,0,0,1,-5.253,-0.4a44.152,44.152,0,0,1,-2.902,-0.528a39.102,39.102,0,0,1,-3.969,-1.067a28.694,28.694,0,0,1,-3.55,-1.423zm30.664,-31.788l0,-24.169a19.491,19.491,0,0,0,-4.176,-6.491a18.778,18.778,0,0,0,-1.293,-1.2a12.343,12.343,0,0,0,-4.931,-2.488q-1.825,-0.476,-3.977,-0.55a23.436,23.436,0,0,0,-0.809,-0.014a14.967,14.967,0,0,0,-4.168,0.556a11.993,11.993,0,0,0,-4.426,2.35a15.929,15.929,0,0,0,-3.665,4.499a21.577,21.577,0,0,0,-1.559,3.533a31.293,31.293,0,0,0,-1.359,5.809q-0.386,2.756,-0.399,5.856a51.367,51.367,0,0,0,0,0.2l0,1.026a38.329,38.329,0,0,0,0.459,6.12q0.52,3.21,1.629,5.829a18.981,18.981,0,0,0,1.794,3.309q3.882,5.689,11.597,5.689q5.432,0,9.107,-2.344a12.954,12.954,0,0,0,0.438,-0.293a16.135,16.135,0,0,0,5.289,-6.246a19.626,19.626,0,0,0,0.449,-0.981zm12.646,-34.716l-7.959,0.781l-1.904,-5.029l9.863,0l0,4.248z',
    h: 'M22,77.198l-21.778,0l0,-4.248l7.959,-0.635l0,-66.358l-7.959,-0.634l0,-4.297l13.819,0l0,32.568a20.012,20.012,0,0,1,4.282,-5.526a18.589,18.589,0,0,1,2.676,-1.993q4.37,-2.686,10.278,-2.686a21.61,21.61,0,0,1,5.227,0.595a14.364,14.364,0,0,1,7.59,4.556q4.448,5.128,4.468,15.99a53.48,53.48,0,0,1,0,0.099l0,27.686l7.959,0.635l0,4.248l-21.777,0l0,-4.248l7.959,-0.635l0,-27.783q0,-8.643,-3.369,-12.378a11.037,11.037,0,0,0,-6.329,-3.464a16.3,16.3,0,0,0,-3.046,-0.272a18.711,18.711,0,0,0,-4.481,0.508a13.219,13.219,0,0,0,-5.895,3.106a18.772,18.772,0,0,0,-4.726,6.957a23.604,23.604,0,0,0,-0.816,2.418l0,30.908l7.959,0.635l0,4.248z',
    i: 'M22,77.198l-21.777,0l0,-4.248l7.959,-0.635l0,-43.018l-7.959,-0.634l0,-4.297l13.818,0l0,47.949l7.959,0.635l0,4.248zm-7.959,-67.725l-6.543,0l0,-8.447l6.543,0l0,8.447z',
    j: 'M0,97.608l0.635,-4.736a8.966,8.966,0,0,0,0.526,0.144q0.534,0.132,1.273,0.263a35.377,35.377,0,0,0,0.471,0.081q1.141,0.187,2.037,0.231a10.803,10.803,0,0,0,0.527,0.013a8.898,8.898,0,0,0,3.001,-0.484a7.554,7.554,0,0,0,3.566,-2.69q1.876,-2.514,2.266,-6.62a23.989,23.989,0,0,0,0.102,-2.267l0,-52.246l-7.959,-0.634l0,-4.297l13.819,0l0,57.177a27.314,27.314,0,0,1,-0.411,4.895q-0.495,2.713,-1.586,4.855a13.466,13.466,0,0,1,-1.909,2.824a12.777,12.777,0,0,1,-7.542,4.134a18.794,18.794,0,0,1,-3.347,0.285a16.386,16.386,0,0,1,-1.626,-0.078a12.926,12.926,0,0,1,-1.157,-0.167a23.2,23.2,0,0,1,-1.645,-0.381a28.484,28.484,0,0,1,-1.041,-0.302zm20.117,-88.135l-6.543,0l0,-8.447l6.543,0l0,8.447z',
    k: 'M22,77.198l-21.777,0l0,-4.248l7.959,-0.635l0,-66.358l-7.959,-0.634l0,-4.297l13.818,0l0,71.289l7.959,0.635l0,4.248zm22.266,-47.95l-30.811,31.788l-2.099,-4.883l26.025,-26.905l0.049,-0.293l-5.762,-0.292l0,-4.297l18.945,0l0,4.297l-6.347,0.585zm9.424,47.95l-19.434,0l0,-4.248l5.811,-0.293l-0.049,-0.244l-17.53,-23.682l3.321,-4.443l21.289,28.125l6.592,0.537l0,4.248z',
    l: 'M22,77.198l-21.777,0l0,-4.248l7.959,-0.635l0,-66.358l-7.959,-0.634l0,-4.297l13.818,0l0,71.289l7.959,0.635l0,4.248z',
    m: 'M22,77.198l-21.826,0l0,-4.248l7.959,-0.635l0,-43.018l-7.959,-0.634l0,-4.297l13.184,0l0.488,9.033a18.83,18.83,0,0,1,4.338,-5.623a17.821,17.821,0,0,1,2.376,-1.75a17.44,17.44,0,0,1,6.312,-2.325a23.128,23.128,0,0,1,3.869,-0.312a20.464,20.464,0,0,1,4.62,0.496a14.777,14.777,0,0,1,5.536,2.507q3.824,2.834,5.605,8.515a26.125,26.125,0,0,1,0.205,0.689a21.576,21.576,0,0,1,3.068,-5.45a18.484,18.484,0,0,1,3.646,-3.534a16.83,16.83,0,0,1,7.756,-3.067a22.163,22.163,0,0,1,3.06,-0.205a20.206,20.206,0,0,1,5.548,0.721a14.674,14.674,0,0,1,7.513,4.919q4.614,5.64,4.614,17.407l0,25.879l7.959,0.635l0,4.248l-21.826,0l0,-4.248l7.959,-0.635l0,-25.977a44.638,44.638,0,0,0,-0.215,-4.547q-0.645,-6.28,-3.227,-9.32a11.253,11.253,0,0,0,-7.263,-3.898a16.259,16.259,0,0,0,-2.283,-0.154a17.34,17.34,0,0,0,-4.358,0.516a11.876,11.876,0,0,0,-6.238,3.854a18.484,18.484,0,0,0,-3.693,7.099a24.723,24.723,0,0,0,-0.75,3.96l0,28.516l7.959,0.635l0,4.248l-21.826,0l0,-4.248l7.959,-0.635l0,-26.026a41.976,41.976,0,0,0,-0.247,-4.722q-0.554,-4.881,-2.358,-7.796a10.21,10.21,0,0,0,-0.887,-1.227a11.432,11.432,0,0,0,-7.706,-4.02a16.35,16.35,0,0,0,-1.888,-0.106a19.57,19.57,0,0,0,-4.008,0.386q-2.505,0.524,-4.414,1.761a11.019,11.019,0,0,0,-1.612,1.271a16.376,16.376,0,0,0,-3.83,5.684a21.809,21.809,0,0,0,-1.078,3.398l0,31.397l7.959,0.635l0,4.248z',
    n: 'M22,77.198l-21.777,0l0,-4.248l7.959,-0.635l0,-43.018l-7.959,-0.634l0,-4.297l13.135,0l0.488,9.472a20.649,20.649,0,0,1,3.523,-5.008a18.093,18.093,0,0,1,3.313,-2.707a17.315,17.315,0,0,1,6.672,-2.464a22.911,22.911,0,0,1,3.582,-0.27a22.472,22.472,0,0,1,5.198,0.565a14.475,14.475,0,0,1,7.888,4.684a15.961,15.961,0,0,1,2.824,5.006q1.668,4.611,1.668,11.425l0,27.246l7.959,0.635l0,4.248l-21.777,0l0,-4.248l7.959,-0.635l0,-27.197a39.86,39.86,0,0,0,-0.211,-4.251q-0.494,-4.592,-2.149,-7.318a9.206,9.206,0,0,0,-1.009,-1.371a10.927,10.927,0,0,0,-5.828,-3.355a16.728,16.728,0,0,0,-3.792,-0.405a18.869,18.869,0,0,0,-4.349,0.473a12.686,12.686,0,0,0,-6.002,3.189a18.206,18.206,0,0,0,-4.256,6.405a23.649,23.649,0,0,0,-1.018,3.166l0,30.664l7.959,0.635l0,4.248z',
    o: 'M0,51.612l0,-1.612a35.428,35.428,0,0,1,0.726,-7.324a28.024,28.024,0,0,1,2.179,-6.445q2.905,-6.006,8.154,-9.424a21.089,21.089,0,0,1,9.289,-3.254a26.725,26.725,0,0,1,2.991,-0.164a24.701,24.701,0,0,1,6.623,0.855a20.357,20.357,0,0,1,5.706,2.563q5.249,3.418,8.155,9.399a28.583,28.583,0,0,1,2.53,8.416a37.233,37.233,0,0,1,0.375,5.378l0,1.612a35.73,35.73,0,0,1,-0.726,7.361a27.991,27.991,0,0,1,-2.179,6.457a23.509,23.509,0,0,1,-4.892,6.825a21.896,21.896,0,0,1,-3.263,2.575a21.205,21.205,0,0,1,-9.466,3.253a26.731,26.731,0,0,1,-2.765,0.14a25.221,25.221,0,0,1,-6.465,-0.796a20.432,20.432,0,0,1,-5.913,-2.597a22.393,22.393,0,0,1,-7.686,-8.498a26.89,26.89,0,0,1,-0.468,-0.926a29.063,29.063,0,0,1,-2.562,-8.662a37.178,37.178,0,0,1,-0.343,-5.132zm40.869,0l0,-1.612a30.176,30.176,0,0,0,-0.702,-6.625a25.205,25.205,0,0,0,-1.398,-4.361a19.697,19.697,0,0,0,-3.015,-4.987a17.194,17.194,0,0,0,-3.015,-2.825a14.851,14.851,0,0,0,-7.241,-2.762a19.132,19.132,0,0,0,-2.159,-0.119a17.355,17.355,0,0,0,-4.937,0.676a14.383,14.383,0,0,0,-4.462,2.205a17.711,17.711,0,0,0,-5.303,6.303a21.737,21.737,0,0,0,-0.703,1.509q-2.075,4.932,-2.075,10.986l0,1.612a31.383,31.383,0,0,0,0.586,6.185a25.23,25.23,0,0,0,1.489,4.874a19.412,19.412,0,0,0,3.069,5.055a17.144,17.144,0,0,0,2.937,2.733q3.931,2.881,9.497,2.881a17.082,17.082,0,0,0,4.895,-0.676a14.266,14.266,0,0,0,4.431,-2.205a17.854,17.854,0,0,0,5.155,-6.035a21.965,21.965,0,0,0,0.851,-1.777a26.229,26.229,0,0,0,1.895,-7.335a32.556,32.556,0,0,0,0.205,-3.7z',
    p: 'M22,97.51l-21.777,0l0,-4.297l7.763,-0.634l0,-63.282l-7.959,-0.634l0,-4.297l12.842,0l0.733,8.056q2.636,-4.297,6.811,-6.665a17.946,17.946,0,0,1,6.041,-2.075a23.746,23.746,0,0,1,3.798,-0.293a19.568,19.568,0,0,1,5.817,0.834a16.52,16.52,0,0,1,5.096,2.608q4.566,3.443,6.983,9.693a34.199,34.199,0,0,1,1.812,6.799q0.605,3.674,0.605,7.898l0,1.026q0,7.493,-2.169,13.102a26.412,26.412,0,0,1,-0.248,0.618a22.828,22.828,0,0,1,-2.942,5.164a18.725,18.725,0,0,1,-3.992,3.869a17.255,17.255,0,0,1,-7.961,3.046a22.4,22.4,0,0,1,-2.854,0.177q-5.616,0,-9.79,-2.1q-4.175,-2.099,-6.763,-5.859l0,22.315l8.154,0.634l0,4.297zm22.656,-45.263l0,-1.026q0,-6.625,-1.746,-11.692a26.5,26.5,0,0,0,-0.06,-0.173a21.329,21.329,0,0,0,-1.904,-4.061a15.937,15.937,0,0,0,-3.394,-3.971a12.467,12.467,0,0,0,-6.603,-2.786a16.491,16.491,0,0,0,-2.015,-0.12a20.045,20.045,0,0,0,-4.011,0.379q-3.302,0.674,-5.633,2.551a17.945,17.945,0,0,0,-5.444,7.422l0,25.195a15.144,15.144,0,0,0,5.664,6.861a14.662,14.662,0,0,0,5.002,2.058q2.087,0.456,4.519,0.456a16.153,16.153,0,0,0,5.028,-0.742a12.657,12.657,0,0,0,6.618,-5.019a20.832,20.832,0,0,0,2.917,-6.461q1.062,-3.927,1.062,-8.871z',
    q: 'M50,97.51l-21.533,0l0,-4.297l7.959,-0.634l0,-22.168q-2.588,3.711,-6.689,5.761a19.221,19.221,0,0,1,-5.853,1.798a24.977,24.977,0,0,1,-3.62,0.253a20.602,20.602,0,0,1,-5.647,-0.744a16.856,16.856,0,0,1,-5.193,-2.479a19.243,19.243,0,0,1,-5.694,-6.451a24.435,24.435,0,0,1,-1.239,-2.582a30.392,30.392,0,0,1,-1.832,-6.55q-0.508,-3.026,-0.556,-6.456a51.369,51.369,0,0,1,-0.005,-0.714l0,-1.026q0,-8.447,2.393,-14.697a24.774,24.774,0,0,1,2.667,-5.165a19.205,19.205,0,0,1,4.291,-4.528a17.046,17.046,0,0,1,8.783,-3.34a21.841,21.841,0,0,1,2.13,-0.102a21.825,21.825,0,0,1,4.977,0.544a17.254,17.254,0,0,1,4.593,1.775a18.973,18.973,0,0,1,6.738,6.47l0.488,-7.812l5.127,0l0,68.213l7.715,0.634l0,4.297zm-13.574,-33.642l0,-25.196q-1.904,-4.394,-5.518,-7.373a12.602,12.602,0,0,0,-5.228,-2.522q-1.95,-0.456,-4.244,-0.456a14.913,14.913,0,0,0,-4.091,0.536a11.756,11.756,0,0,0,-4.454,2.369q-3.418,2.905,-5.151,8.057a31.854,31.854,0,0,0,-1.327,5.747q-0.407,2.904,-0.407,6.191l0,1.026q0,7.116,2.12,12.127a19.447,19.447,0,0,0,1.713,3.205q3.833,5.761,11.499,5.761a20.503,20.503,0,0,0,4.247,-0.417q2.892,-0.612,5.128,-2.122a15.928,15.928,0,0,0,5.581,-6.644a19.048,19.048,0,0,0,0.132,-0.289z',
    r: 'M22,77.198l-21.778,0l0,-4.248l7.959,-0.635l0,-43.018l-7.959,-0.634l0,-4.297l13.086,0l0.635,8.056l0.049,1.416a21.065,21.065,0,0,1,2.649,-4.388a17.099,17.099,0,0,1,3.454,-3.302q3.858,-2.759,9.229,-2.759a17.892,17.892,0,0,1,1.715,0.086a21.847,21.847,0,0,1,1.093,0.134a26.038,26.038,0,0,1,0.694,0.111q0.695,0.122,1.155,0.251a4.885,4.885,0,0,1,0.323,0.102l-0.732,5.371l-5.42,-0.342a17.807,17.807,0,0,0,-0.464,-0.006q-2.236,0,-4.136,0.575a11.367,11.367,0,0,0,-4.58,2.654a16.488,16.488,0,0,0,-3.862,5.671a21.819,21.819,0,0,0,-1.069,3.264l0,31.055l7.959,0.635l0,4.248z',
    s: 'M0,72.413l-0.049,-10.84l4.785,0l0.83,7.763a18.252,18.252,0,0,0,6.299,3.174a26.421,26.421,0,0,0,5.715,0.93a30.795,30.795,0,0,0,1.707,0.047q6.64,0,10.107,-2.881a10.708,10.708,0,0,0,2.079,-2.261a8.047,8.047,0,0,0,1.388,-4.575a8.318,8.318,0,0,0,-2.047,-5.466a11.679,11.679,0,0,0,-1.054,-1.101a12.059,12.059,0,0,0,-2.389,-1.669q-2.462,-1.348,-6.306,-2.38a54.549,54.549,0,0,0,-2.315,-0.566a61.788,61.788,0,0,1,-4.914,-1.261q-5.747,-1.751,-8.783,-4.207a11.147,11.147,0,0,1,-4.13,-7.769a16.044,16.044,0,0,1,-0.093,-1.753q0,-4.004,2.246,-7.226q2.246,-3.223,6.372,-5.103a20.268,20.268,0,0,1,5.078,-1.517a27.94,27.94,0,0,1,4.614,-0.363a33.86,33.86,0,0,1,4.795,0.323q2.896,0.414,5.313,1.362a24.608,24.608,0,0,1,5.086,2.686a21.42,21.42,0,0,1,2.287,1.83l0.244,10.84l-4.785,0l-0.684,-7.812q-2.197,-2.1,-5.127,-3.247q-2.529,-0.991,-6.004,-1.126a28.884,28.884,0,0,0,-1.125,-0.022q-5.957,0,-9.179,2.759q-3.223,2.759,-3.223,6.421a9.684,9.684,0,0,0,0.22,2.109a7.54,7.54,0,0,0,0.781,2.066q0.715,1.273,2.377,2.359a14.382,14.382,0,0,0,1.48,0.839q2.581,1.279,7.292,2.439a80.491,80.491,0,0,0,1.033,0.246a60.597,60.597,0,0,1,5.143,1.389q6.019,1.935,9.213,4.69a12.374,12.374,0,0,1,4.416,8.997a16.07,16.07,0,0,1,0.027,0.94a13.441,13.441,0,0,1,-1.475,6.323a13.949,13.949,0,0,1,-3.53,4.273q-3.973,3.294,-10.731,3.974a37.013,37.013,0,0,1,-3.697,0.176q-5.567,0,-10.327,-1.489a34.224,34.224,0,0,1,-8.96,-4.321z',
    t: 'M9,63.575l0,-34.473l-9.131,0l0,-4.736l9.131,0l0,-13.575l5.859,0l0,13.575l12.305,0l0,4.736l-12.305,0l0,34.473a23.536,23.536,0,0,0,0.133,2.593q0.367,3.296,1.747,4.999a6.026,6.026,0,0,0,4.383,2.296a7.94,7.94,0,0,0,0.622,0.024a24.186,24.186,0,0,0,3.272,-0.22q1.611,-0.22,3.32,-0.464l0.879,4.199q-1.758,0.537,-4.004,0.83a34.696,34.696,0,0,1,-4.492,0.293q-5.567,0,-8.643,-3.442q-3.076,-3.442,-3.076,-11.108z',
    u: 'M7,54.981l0,-25.684l-6.543,-0.634l0,-4.297l6.543,0l5.86,0l0,30.713q0,9.668,3.174,13.891q3.173,4.224,9.179,4.224a23.631,23.631,0,0,0,4.134,-0.339q2.317,-0.413,4.161,-1.326a11.849,11.849,0,0,0,2.301,-1.485a15.417,15.417,0,0,0,4.609,-6.552a19.653,19.653,0,0,0,0.616,-1.919l0,-32.276l-7.52,-0.634l0,-4.297l7.52,0l5.908,0l0,47.949l7.08,0.635l0,4.248l-12.256,0l-0.488,-8.692q-2.491,4.639,-6.665,7.178a17.031,17.031,0,0,1,-5.732,2.152a23.344,23.344,0,0,1,-4.351,0.387a19.459,19.459,0,0,1,-5.599,-0.764a14.665,14.665,0,0,1,-7.316,-4.9q-4.526,-5.556,-4.613,-17.124a60.603,60.603,0,0,1,-0.002,-0.454z',
    v: 'M30,77.198l-5.274,0l-19.189,-48.194l-5.615,-0.341l0,-4.297l18.603,0l0,4.297l-6.933,0.439l13.671,34.863l1.954,5.811l0.293,0l2.099,-5.811l13.233,-34.863l-7.032,-0.439l0,-4.297l18.604,0l0,4.297l-5.713,0.341l-18.701,48.194z',
    w: 'M26,77.198l-5.274,0l-14.746,-48.243l-5.957,-0.292l0,-4.297l18.799,0l0,4.297l-6.885,0.488l9.082,30.957l2.442,8.691l0.293,0l2.832,-8.691l12.06,-35.742l5.176,0l12.012,35.693l3.027,9.277l0.293,-0.048l2.832,-9.229l9.082,-30.957l-6.934,-0.439l0,-4.297l18.604,0l0,4.297l-5.957,0.39l-14.697,48.145l-5.664,0l-12.354,-36.035l-2.685,-8.692l-0.293,0.049l-2.637,8.643l-12.451,36.035z',
    x: 'M18,77.198l-18.262,0l0,-4.248l6.006,-0.537l16.748,-22.12l-16.065,-21.142l-5.712,-0.488l0,-4.297l17.871,0l0,4.297l-5.664,0.244l13.086,17.431l12.89,-17.431l-5.859,-0.244l0,-4.297l17.724,0l0,4.297l-5.761,0.488l-15.577,21.045l17.09,22.217l5.811,0.537l0,4.248l-18.652,0l0,-4.248l6.201,-0.245l-13.965,-18.457l-13.818,18.457l5.908,0.245l0,4.248z',
    y: 'M8,97.901l0.683,-4.834q0.684,0.097,1.929,0.22q1.199,0.117,1.787,0.121a5.984,5.984,0,0,0,0.044,0.001a9.305,9.305,0,0,0,2.712,-0.376a7.211,7.211,0,0,0,3.343,-2.139q1.632,-1.827,3.058,-4.775a37.217,37.217,0,0,0,1.043,-2.378l2.735,-7.178l-19.385,-47.559l-5.713,-0.341l0,-4.297l18.604,0l0,4.297l-6.69,0.439l13.574,34.082l2.198,6.006l0.293,0l15.088,-40.088l-6.885,-0.439l0,-4.297l18.457,0l0,4.297l-5.615,0.341l-21.68,56.69a43.033,43.033,0,0,1,-1.877,4.131a34.874,34.874,0,0,1,-1.443,2.509q-1.856,2.93,-4.639,4.566a11.185,11.185,0,0,1,-3.137,1.227q-1.405,0.329,-3.039,0.393a20.525,20.525,0,0,1,-0.806,0.016q-1.026,0,-2.466,-0.22q-1.441,-0.22,-2.173,-0.415z',
    z: 'M42,77.198l-41.846,0l0,-4.248l31.982,-43.702l-26.318,0l-0.586,10.352l-4.736,0l0,-15.234l39.062,0l0,4.297l-32.129,43.75l29.248,0l0.586,-10.401l4.737,0l0,15.186z',
    ' ': ''
}

const letterWidths = {
    a: 48,
    b: 50,
    c: 42,
    d: 50,
    e: 43,
    f: 32,
    g: 50,
    h: 56,
    i: 22,
    j: 22,
    k: 54,
    l: 22,
    m: 90,
    n: 57,
    o: 47,
    p: 51,
    q: 51,
    r: 35,
    s: 39,
    t: 30,
    u: 54,
    v: 55,
    w: 83,
    x: 53,
    y: 55,
    z: 42,
    ' ': -10
}

const palette = [
    '#822e81',
    '#955e42',
    '#9c914f',
    '#748e54',
    '#06bcc1'
]

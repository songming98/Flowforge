(self.webpackChunk_flowforge_flowforge=self.webpackChunk_flowforge_flowforge||[]).push([[350],{7797:function(e,t,a){const{Roles:i}=a(1391),n={"user:create":{description:"Create User",role:i.Admin},"user:list":{description:"List platform users",role:i.Admin},"user:read":{description:"View user Information",role:i.Admin,self:!0},"user:edit":{description:"Edit User Information",role:i.Admin,self:!0},"user:delete":{description:"Delete User",role:i.Admin,self:!0},"user:team:list":{description:"List a Users teams",role:i.Admin,self:!0},"team:create":{description:"Create Team"},"team:list":{description:"List Teams",role:i.Admin},"team:read":{description:"View a Team",role:i.Dashboard},"team:edit":{description:"Edit Team",role:i.Owner},"team:delete":{description:"Delete Team",role:i.Owner},"team:audit-log":{description:"Access Team Audit Log",role:i.Owner},"team:device:provisioning-token:create":{description:"Create a Team Auto Device Provisioning Token",role:i.Owner},"team:device:provisioning-token:edit":{description:"Edit a Team Auto Device Provisioning Token",role:i.Owner},"team:device:provisioning-token:list":{description:"List Team Auto Device Provisioning Tokens",role:i.Owner},"team:device:provisioning-token:delete":{description:"Delete a Team Auto Device Provisioning Token",role:i.Owner},"team:user:add":{description:"Add Members",role:i.Admin},"team:user:list":{description:"List Team Members",role:i.Viewer},"team:user:invite":{description:"Invite Members",role:i.Owner},"team:user:remove":{description:"Remove Member",role:i.Owner,self:!0},"team:user:change-role":{description:"Modify Member role",role:i.Owner},"team:projects:list":{description:"List Team Projects",role:i.Viewer},"project:create":{description:"Create Project",role:i.Owner},"project:delete":{description:"Delete Project",role:i.Owner},"project:read":{description:"View a Project",role:i.Viewer},"project:transfer":{description:"Transfer Project",role:i.Owner},"project:change-status":{description:"Start/Stop Project",role:i.Owner},"project:edit":{description:"Edit Project Settings",role:i.Owner},"project:edit-env":{description:"Edit Project Environment Variables",role:i.Member},"project:log":{description:"Access Project Log",role:i.Viewer},"project:audit-log":{description:"Access Project Audit Log",role:i.Viewer},"project:flows:view":{description:"View Project Flows",role:i.Viewer},"project:flows:edit":{description:"Edit Project Flows",role:i.Member},"project:flows:http":{description:"Access http endpoints of an Instance",role:i.Dashboard},"project:snapshot:create":{description:"Create Project Snapshot",role:i.Member},"project:snapshot:list":{description:"List Project Snapshots",role:i.Viewer},"project:snapshot:read":{description:"View a Project Snapshot",role:i.Viewer},"project:snapshot:delete":{description:"Delete Project Snapshot",role:i.Owner},"project:snapshot:rollback":{description:"Rollback Project Snapshot",role:i.Member},"project:snapshot:set-target":{description:"Set Device Target Snapshot",role:i.Member},"template:create":{description:"Create a Template",role:i.Admin},"template:list":{description:"List all Templates"},"template:read":{description:"View a Template"},"template:delete":{description:"Delete a Template",role:i.Admin},"template:edit":{description:"Edit a Template",role:i.Admin},"stack:create":{description:"Create a Stack",role:i.Admin},"stack:list":{description:"List all Stacks"},"stack:read":{description:"View a Stack"},"stack:delete":{description:"Delete a Stack",role:i.Admin},"stack:edit":{description:"Edit a Stack",role:i.Admin},"team:device:list":{description:"List Team Devices",role:i.Viewer},"device:list":{description:"List Devices",role:i.Admin},"device:create":{description:"Create a Device",role:i.Owner},"device:provision":{description:"Provision a Device",role:null},"device:read":{description:"View a Device",role:i.Viewer},"device:delete":{description:"Delete a Device",role:i.Owner},"device:edit":{description:"Edit a Device",role:i.Owner},"device:edit-env":{description:"Edit Device Environment Variables",role:i.Member},"project-type:create":{description:"Create a ProjectType",role:i.Admin},"project-type:list":{description:"List all ProjectTypes"},"project-type:read":{description:"View a ProjectType"},"project-type:delete":{description:"Delete a ProjectType",role:i.Admin},"project-type:edit":{description:"Edit a ProjectType",role:i.Admin},"team-type:create":{description:"Create a TeamType",role:i.Admin},"team-type:list":{description:"List all TeamTypes"},"team-type:read":{description:"View a TeamType"},"team-type:delete":{description:"Delete a TeamType",role:i.Admin},"team-type:edit":{description:"Edit a TeamType",role:i.Admin},"settings:edit":{description:"Edit platform settings",role:i.Admin},"license:read":{description:"View license information",role:i.Admin},"license:edit":{description:"Edit license information",role:i.Admin},"invitation:list":{description:"List all invitations",role:i.Admin},"platform:debug":{description:"View platform debug information",role:i.Admin},"platform:stats":{description:"View platform stats information",role:i.Admin},"platform:stats:token":{description:"Create/Delete platform stats token",role:i.Admin},"platform:audit-log":{description:"View platform audit log",role:i.Admin}};e.exports={Permissions:n,registerPermissions:function(e){Object.keys(e).forEach((t=>{n[t]=e[t]}))}}},1391:function(e){const t={None:0,Dashboard:5,Viewer:10,Member:30,Owner:50,Admin:99},a={[t.None]:"none",[t.Dashboard]:"dashboard",[t.Viewer]:"viewer",[t.Member]:"member",[t.Owner]:"owner",[t.Admin]:"admin"},i=[t.Dashboard,t.Viewer,t.Member,t.Owner];e.exports={Roles:t,RoleNames:a,TeamRoles:i}},3657:function(e){e.exports={templateFields:["disableEditor","disableTours","httpAdminRoot","dashboardUI","codeEditor","theme","page_title","page_favicon","header_title","header_url","timeZone","palette_allowInstall","palette_nodesExcludes","palette_denyList","palette_modules","modules_allowInstall","modules_denyList","httpNodeAuth_type","httpNodeAuth_user","httpNodeAuth_pass"],passwordTypes:["httpNodeAuth_pass"],defaultTemplateValues:{disableEditor:!1,disableTours:!1,httpAdminRoot:"",dashboardUI:"/ui",codeEditor:"monaco",theme:"forge-light",page_title:"FlowForge",page_favicon:"",header_title:"FlowForge",header_url:"",timeZone:"UTC",palette_allowInstall:!0,palette_nodesExcludes:"",palette_denyList:"",palette_modules:[],modules_allowInstall:!0,modules_denyList:"",httpNodeAuth_type:"",httpNodeAuth_user:"",httpNodeAuth_pass:""},defaultTemplatePolicy:{disableEditor:!0,disableTours:!0,httpAdminRoot:!0,dashboardUI:!0,codeEditor:!0,theme:!0,page_title:!1,page_favicon:!1,header_title:!0,header_url:!1,timeZone:!0,palette_allowInstall:!0,palette_nodesExcludes:!1,palette_denyList:!1,palette_modules:!0,modules_allowInstall:!0,modules_denyList:!1,httpNodeAuth_type:!0,httpNodeAuth_user:!0,httpNodeAuth_pass:!0}}},9300:function(e,t,a){"use strict";var i=a(2861),n=a(8356),s=a(9109);const o=i.default.create({headers:{"Content-Type":"application/json"},timeout:3e4});o.interceptors.response.use((function(e){return e}),(function(e){return!e.response||401!==e.response.status||s.Z.state.account.pending||s.Z.state.account.loginInflight?("ERR_NETWORK"===e.code&&s.Z.dispatch("account/setOffline",!0),Promise.reject(e)):(s.Z.dispatch("account/logout"),Promise.reject(e))})),o.interceptors.response.use((function(e){return e}),(function(e){return e.response&&500===e.response.status?(n.Z.emit(e.response.data.error+": "+e.response.data.message,"warning",7500),Promise.reject(e)):Promise.reject(e)})),t.Z=o},8919:function(e,t,a){"use strict";var i=a(9300);t.Z={getSettings:async()=>i.Z.get("/api/v1/settings").then((e=>e.data)),updateSettings:async e=>i.Z.put("/api/v1/settings",e).then((e=>e.data))}},7613:function(e,t,a){"use strict";var i=a(1391),n=a(1307),s=a(6580),o=a(1044),r=a(1826),l=a(9300);t.Z={create:async e=>l.Z.post("/api/v1/teams/",e).then((t=>{n.Z.capture("$ff-team-created",{"team-name":e.name,"created-at":t.data.createdAt},{team:t.data.id});const a={"team-name":e.name,"created-at":t.data.createdAt,"count-applications":0,"count-instances":0,"count-devices":0,"count-members":t.data.memberCount};return n.Z.groupUpdate("team",t.data.id,a),t.data})),getTeam:e=>{let t;return t="object"==typeof e?`/api/v1/teams/slug/${e.slug}`:`/api/v1/teams/${e}`,l.Z.get(t).then((e=>{const t={"team-name":e.data.name,"created-at":e.data.createdAt,"count-applications":e.data.instanceCount,"count-instances":e.data.instanceCount,"count-members":e.data.memberCount};return"billing"in e.data&&(t["billing-active"]=e.data.billing.active,t["billing-canceled"]=e.data.billing.canceled,"trial"in e.data.billing&&(t["billing-trial"]=e.data.billing.trial,t["billing-trial-ended"]=e.data.billing.trialEnded,t["billing-trial-ends-at"]=e.data.billing.trialEndsAt)),n.Z.groupUpdate("team",e.data.id,t),e.data}))},deleteTeam:async e=>await l.Z.delete(`/api/v1/teams/${e}`).then((()=>{const t=(new Date).toISOString();n.Z.capture("$ff-team-deleted",{"deleted-at":t},{team:e}),n.Z.groupUpdate("team",e,{deleted:!0,"deleted-at":t})})),updateTeam:async(e,t)=>l.Z.put(`/api/v1/teams/${e}`,t).then((e=>e.data)),getTeams:()=>l.Z.get("/api/v1/user/teams").then((e=>(e.data.teams=e.data.teams.map((e=>(e.link={name:"Team",params:{team_slug:e.slug}},e.roleName=i.RoleNames[e.role],e))),e.data))),getTeamApplications:async e=>(await l.Z.get(`/api/v1/teams/${e}/applications`)).data,getTeamApplicationsInstanceStatuses:async e=>{const t=await l.Z.get(`/api/v1/teams/${e}/applications/status`);return t.data.applications.forEach((e=>{e.instances.forEach((e=>{e.flowLastUpdatedSince=(0,s.Z)(e.flowLastUpdatedAt)}))})),t.data},getTeamInstances:async e=>{const t=await l.Z.get(`/api/v1/teams/${e}/projects`),a=[];return t.data.projects=t.data.projects.map((e=>(e.createdSince=(0,s.Z)(e.createdAt),e.updatedSince=(0,s.Z)(e.updatedAt),e.link={name:"Application",params:{id:e.id}},a.push(l.Z.get(`/api/v1/projects/${e.id}`).then((t=>{e.status=t.data.meta.state,e.flowLastUpdatedSince=(0,s.Z)(t.data.flowLastUpdatedAt)})).catch((t=>{console.error("not found",t),e.status="stopped"}))),e))),await Promise.all(a),t.data},getTeamInstancesList:async e=>(await l.Z.get(`/api/v1/teams/${e}/projects`)).data.projects.map((e=>({id:e.id,name:e.name,application:{id:e.application.id,name:e.application.name}}))),getTeamMembers:e=>l.Z.get(`/api/v1/teams/${e}/members`).then((e=>e.data)),changeTeamMemberRole:(e,t,a)=>{const i={role:a};return l.Z.put(`/api/v1/teams/${e}/members/${t}`,i)},removeTeamMember:(e,t)=>l.Z.delete(`/api/v1/teams/${e}/members/${t}`).then((()=>{n.Z.capture("$ff-team-created",{"member-removed":t,"removed-at":(new Date).toISOString()},{team:e})})),getTeamInvitations:e=>l.Z.get(`/api/v1/teams/${e}/invitations`).then((e=>(e.data.invitations=e.data.invitations.map((e=>(e.roleName=i.RoleNames[e.role||i.Roles.Member],e.createdSince=(0,s.Z)(e.createdAt),e.expires=(0,o.Z)(e.expiresAt,Date.now()),e))),e.data))),createTeamInvitation:(e,t,a)=>{const i={user:t,role:a};return l.Z.post(`/api/v1/teams/${e}/invitations`,i).then((i=>(n.Z.capture("$ff-invite-sent",{"invite-sent-to":t,"invite-role-assigned":a},{team:e}),i.data)))},removeTeamInvitation:(e,t)=>l.Z.delete(`/api/v1/teams/${e}/invitations/${t}`).then((()=>{n.Z.capture("$ff-invite-removed",{"invite-id":t},{team:e})})),getTeamAuditLog:async(e,t,a,i)=>{const n=(0,r.Z)(`/api/v1/teams/${e}/audit-log`,a,i);return l.Z.get(n,{params:t}).then((e=>e.data))},getTeamUserMembership:e=>l.Z.get(`/api/v1/teams/${e}/user`).then((e=>e.data)),getTeamDevices:async(e,t,a)=>{const i=(0,r.Z)(`/api/v1/teams/${e}/devices`,t,a),n=await l.Z.get(i);return n.data.devices.forEach((e=>{e.lastSeenSince=e.lastSeenAt?(0,s.Z)(e.lastSeenAt):"",e.project&&(e.instance=e.project)})),n.data},getTeamLibrary:async(e,t,a,i)=>{const n=(0,r.Z)(`/storage/library/${e}/${t||""}`,a,i);return(await l.Z.get(n)).data},deleteFromTeamLibrary:async(e,t,a=null)=>{let i="";return a&&(i=`?type=${a}`),await l.Z.delete(`/storage/library/${e}/${t}${i}`)},getTeamDeviceProvisioningTokens:async(e,t,a)=>{const i=(0,r.Z)(`/api/v1/teams/${e}/devices/provisioning`,t,a);return(await l.Z.get(i)).data},generateTeamDeviceProvisioningToken:async(e,t)=>{t=t||{};const{name:a,instance:i,expiresAt:n}=t;return l.Z.post(`/api/v1/teams/${e}/devices/provisioning`,{name:a||"Auto Provisioning Token",instance:i,expiresAt:n}).then((e=>e.data))},updateTeamDeviceProvisioningToken:async(e,t,a)=>{a=a||{};const{instance:i,expiresAt:n}=a;return l.Z.put(`/api/v1/teams/${e}/devices/provisioning/${t}`,{instance:i,expiresAt:n}).then((e=>e.data))},deleteTeamDeviceProvisioningToken:async(e,t)=>await l.Z.delete(`/api/v1/teams/${e}/devices/provisioning/${t}`)}},3613:function(e,t,a){"use strict";var i=a(1391),n=a(1307),s=a(6580),o=a(1044),r=a(9300);t.Z={registerUser:async e=>r.Z.post("/account/register",e).then((t=>{const a={name:e.name,username:e.username,email:e.email,"ff-cloud-user":!0,"ff-cloud-joined":(new Date).toUTCString(),"join-reason":e.join_reason};return n.Z.identify(e.username,a),n.Z.capture("$ff-user-registered"),t.data})),getUser:()=>r.Z.get("/api/v1/user/").then((e=>(n.Z.identify(e.data.username,{name:e.data.name,username:e.data.username,email:e.data.email,"ff-cloud-user":!0}),e.data))),login:(e,t)=>r.Z.post("/account/login",{username:e,password:t}).then((e=>e.data)),logout:()=>r.Z.post("/account/logout").then((e=>(window.posthog?.reset(),e.data))),changePassword:(e,t)=>r.Z.put("/api/v1/user/change_password",{old_password:e,password:t}).then((e=>e.data)),updateUser:async e=>r.Z.put("/api/v1/user",e).then((e=>e.data)),deleteUser:async()=>r.Z.delete("/api/v1/user").then((e=>e.data)),getTeamInvitations:async()=>r.Z.get("/api/v1/user/invitations").then((e=>(e.data.invitations=e.data.invitations.map((e=>(e.createdSince=(0,s.Z)(e.createdAt),e.expires=(0,o.Z)(e.expiresAt,Date.now()),e.roleName=i.RoleNames[e.role||i.Roles.Member],e))),e.data))),acceptTeamInvitation:async(e,t)=>r.Z.patch("/api/v1/user/invitations/"+e).then((a=>(n.Z.capture("$ff-invite-accepted",{"invite-id":e,"accepted-at":(new Date).toISOString()},{team:t}),a.data))),rejectTeamInvitation:async(e,t)=>r.Z.delete("/api/v1/user/invitations/"+e).then((a=>(n.Z.capture("$ff-invite-rejected",{"invite-id":e,"rejected-at":(new Date).toISOString()},{team:t}),a.data))),triggerVerification:async()=>r.Z.post("/account/verify").then((e=>e.data)),verifyEmailToken:async e=>r.Z.post(`/account/verify/${e}`).then((e=>e.data)),requestPasswordReset:async e=>r.Z.post("/account/forgot_password",e).then((e=>e.data)),resetPassword:async(e,t)=>r.Z.post(`/account/reset_password/${e}`,t).then((e=>e.data)),verifyPendingEmailChangeToken:async e=>r.Z.post(`/account/email_change/${e}`).then((e=>e.data)),triggerPendingEmailChangeVerification:async e=>r.Z.post("/account/email_change",e).then((e=>e.data))}},7870:function(e,t,a){const{createVNode:i,openBlock:n,createBlock:s}=a(6765);e.exports=function(e,t){const a=i("path",{opacity:.98,style:"color-rendering:auto;color:#000000;isolation:auto;mix-blend-mode:normal;shape-rendering:auto;solid-color:#000000;image-rendering:auto",fill:"#8f0000",d:"M8.7,405.4l8.7,5v10.1l-8.7,5l-8.7-5l0-10.1L8.7,405.4z"}),o=i("path",{style:"fill: black; fill-rule:evenodd;clip-rule:evenodd;fill-opacity:0.199;",d:"M8.7,424.5L7.8,424L1,416.6l0.1-0.4h3.4l0.6-2l0.5,0.8l1.8-2l1.5-0.4l0.1,1l1,0.1l1,0l2.7,0.1l0.5-2.2l2.3,2.7l-0.1,2l-3.6,0l-0.1,1.9l3.7,0.4l0,1.3L8.7,424.5z"}),r=i("path",{style:"opacity:0.98;fill:#FFFFFF;enable-background:new",d:"M0.7,416.6v3.4c0,0.1,0,0.1,0.1,0.1l7.9,4.5c0,0,0.1,0,0.2,0l7.9-4.5c0,0,0.1-0.1,0.1-0.1v-1.1v-0.7v-1.6v-0.7v-5c0-0.1,0-0.1-0.1-0.1l-7.9-4.5c0,0,0,0-0.1,0c0,0-0.1,0-0.1,0l-7.9,4.5c0,0-0.1,0.1-0.1,0.1v2.8v0.6v1.6V416.6zM8.7,406.5l7.7,4.5v4.9h-3.1c-0.5,0-1,0.5-1,1v0.1c-1.9,0-2.4-0.5-3.1-1.1c-0.6-0.5-1.3-1.1-2.7-1.3c0.3-0.3,0.4-0.6,0.6-0.8c0.2-0.3,0.3-0.5,0.5-0.7c0.2-0.1,0.5-0.2,0.9-0.2v0.1c0,0.5,0.4,1,1,1h4c0.5,0,1-0.4,1-1v-1c0-0.5-0.5-1-1-1l-4,0c-0.5,0-1,0.4-1,1v0.2c-0.5,0-0.9,0.1-1.2,0.3c-0.4,0.3-0.6,0.6-0.7,0.9c-0.2,0.3-0.3,0.6-0.5,0.7c-0.2,0.2-0.4,0.3-0.8,0.3c0-0.5-0.5-0.9-1-0.9H1V411L8.7,406.5z M9.4,411.8h4c0.2,0,0.3,0.1,0.3,0.3v1c0,0.2-0.1,0.3-0.3,0.3h-4c-0.2,0-0.3-0.1-0.3-0.3v-1C9.1,411.9,9.2,411.8,9.4,411.8L9.4,411.8z M1,414.3h3.2c0.2,0,0.3,0.2,0.3,0.3v1c0,0.2-0.1,0.3-0.3,0.3H1L1,414.3z M5.2,415.2c2.2,0,2.9,0.6,3.6,1.2c0.7,0.6,1.5,1.2,3.6,1.3v0.2c0,0.5,0.5,1,1,1h3.1v1l-7.7,4.5L1,419.9v-3.3h3.2c0.5,0,1-0.4,1-1L5.2,415.2zM13.4,416.6h3.1v1.6h-3.1c-0.2,0-0.3-0.1-0.3-0.3v-1C13,416.7,13.2,416.6,13.4,416.6L13.4,416.6z"}),l=i("g",{transform:"translate(.000014172 .000022107)"},[a,o,r]),c=i("g",{transform:"translate(2 -405.36)"},[l]);return n(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[c])}},2662:function(e,t,a){const{createVNode:i,openBlock:n,createBlock:s}=a(6765);e.exports=function(e,t){const a=i("path",{d:"M7,15.8 M7,3.1 M7,15.8V4.2C7,3.5,6.5,3,5.8,3H3.9C3.2,3,2.6,3.5,2.6,4.2v11.6"}),o=i("path",{d:"M14,15.8 M14,3.1 M14,15.8V4.2C14,3.5,13.5,3,12.8,3h-1.9c-0.7,0-1.2,0.5-1.2,1.2v11.6"}),r=i("path",{d:"M21,3.1 M21,15c0-2.7,0-10.8,0-10.8C21,3.5,20.5,3,19.8,3h-1.9c-0.7,0-1.2,0.5-1.2,1.2V11"}),l=i("path",{d:"M17.2,22.5c-0.2,0-0.4-0.1-0.5-0.2c-0.3-0.3-0.3-0.8,0-1.1l2.5-2.5H3c-0.4,0-0.8-0.3-0.8-0.8s0.3-0.8,0.8-0.8h16.2l-2.5-2.5c-0.3-0.3-0.3-0.8,0-1.1s0.8-0.3,1.1,0l3.8,3.8c0.1,0.1,0.1,0.2,0.2,0.2c0,0.1,0.1,0.2,0.1,0.3s0,0.2-0.1,0.3c0,0.1-0.1,0.2-0.2,0.2l-3.8,3.8C17.6,22.4,17.4,22.5,17.2,22.5z"}),c=i("path",{d:"M8,14.8"}),d=i("path",{d:"M22,14.9"}),p=i("path",{d:"M15,14.9"}),u=i("g",{},[a,o,r,l,c,d,p]);return n(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[u])}},7121:function(e,t,a){const{createVNode:i,openBlock:n,createBlock:s}=a(6765);e.exports=function(e,t){return n(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[i("path",{d:"M0,7.31v-1.72c5.09,0,5.81-.94,6.44-1.77,.72-.94,1.46-1.67,3.88-1.67v1.72c-1.76,0-2.04,.37-2.51,.99-1.02,1.34-2.31,2.45-7.81,2.45Z"}),i("path",{d:"M8.6,12.47c-2.9,0-3.47-1.58-3.88-2.73-.47-1.31-.87-2.43-4.72-2.43v-1.72c4.67,0,5.67,1.69,6.34,3.57,.38,1.06,.57,1.59,2.26,1.59v1.72Z"}),i("path",{d:"M16.78,14.62h-6.88c-.95,0-1.72-.77-1.72-1.72v-2.58c0-.95,.77-1.72,1.72-1.72h6.88c.95,0,1.72,.77,1.72,1.72v2.58c0,.95-.77,1.72-1.72,1.72Zm0-1.72v0h0Zm0-2.58h-6.88v2.58h6.88v-2.58Z"}),i("path",{d:"M18.28,6.02h-6.88c-.95,0-1.72-.77-1.72-1.72V1.72c0-.95,.77-1.72,1.72-1.72h6.88c.95,0,1.72,.77,1.72,1.72v2.58c0,.95-.77,1.72-1.72,1.72Zm0-1.72v0h0Zm0-2.58h-6.88v2.58h6.88V1.72Z"})])}},2518:function(e,t,a){const{createVNode:i,openBlock:n,createBlock:s}=a(6765);e.exports=function(e,t){return n(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",class:"animate-spin h-5 w-5 text-gray-600","aria-hidden":"true"},[i("circle",{class:"opacity-10",stroke:"currentColor","stroke-width":"4",cx:"12",cy:"12",r:"10"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})])}},4313:function(e,t,a){"use strict";a.d(t,{Z:function(){return K_}});var i=a(2201),n=a(6252);const s={key:0,class:"flex-grow flex flex-col items-center justify-center mx-auto text-gray-600 opacity-50"};var o=a(894),r=a(1357),l=a(3577);const c={class:"px-4 sm:px-6 lg:px-8 mt-4 space-y-4 text-center"},d=(0,n._)("p",{class:"text-gray-700 text-lg"},"You need to be in a team to create projects.",-1),p={key:0,class:"text-gray-700 text-lg mt-10"};var u=a(6618),m=a(7816),h=a(3613),g={name:"NoTeamsUser",components:{UserGroupIcon:u.Z,InboxInIcon:m.Z},computed:{...(0,o.rn)("account",["settings","user"])},data(){return{invitationCount:0}},mounted(){this.fetchData()},methods:{async fetchData(){const e=await h.Z.getTeamInvitations();this.invitationCount=e.count}}},f=a(3744),v=(0,f.Z)(g,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("UserGroupIcon"),u=(0,n.up)("router-link"),m=(0,n.up)("InboxInIcon");return(0,n.wg)(),(0,n.iD)("form",c,[d,0!==s.invitationCount||e.user.admin||e.settings["team:create"]?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("p",p,"Ask an Admin or Team Owner to add you to a team.")),(0,n._)("div",{class:(0,l.normalizeClass)(["flex justify-center",s.invitationCount>0?"sm:grid-cols-2":"max-w-xs mx-auto"])},[e.user.admin||e.settings["team:create"]?((0,n.wg)(),(0,n.j4)(u,{key:0,to:"/team/create",class:"forge-button-secondary p-4 sm:h-36 inline-flex sm:flex-col items-center sm:justify-center gap-4"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"w-10"}),(0,n.Uk)(" Create a new team ")])),_:1})):(0,n.kq)("v-if",!0),s.invitationCount>0?((0,n.wg)(),(0,n.j4)(u,{key:1,"data-nav":"team-invites",to:"/account/teams/invitations",class:"forge-button-secondary p-4 sm:h-36 inline-flex sm:flex-col items-center sm:justify-center gap-4"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"w-10"}),(0,n.Uk)(" You have "+(0,l.toDisplayString)(s.invitationCount)+" team "+(0,l.toDisplayString)(e.$filters.pluralize(s.invitationCount,"invitation")),1)])),_:1})):(0,n.kq)("v-if",!0)],2)])}]]),y={name:"HomePage",computed:{...(0,o.rn)("account",["pending","user","team","teams","redirectUrlAfterLogin"])},data(){return{projects:[]}},watch:{team:"redirectOnLoad",teams:"redirectOnLoad"},created(){this.redirectOnLoad()},methods:{redirectOnLoad(){!this.redirectUrlAfterLogin&&this.user.email_verified&&this.team&&this.$router.push({name:"Team",params:{team_slug:this.team.slug}})}},components:{FlowForgeLogo:r.Z,NoTeamsUser:v}},k=(0,f.Z)(y,[["render",function(e,t,a,i,o,r){const l=(0,n.up)("FlowForgeLogo"),c=(0,n.up)("NoTeamsUser");return(0,n.wg)(),(0,n.iD)("main",null,[e.pending?((0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(l,{class:"max-w-xs mx-auto w-full"})])):0===e.teams.length?((0,n.wg)(),(0,n.j4)(c,{key:1})):(0,n.kq)("v-if",!0)])}]]);const b=[(0,n._)("div",{class:"text-center"},[(0,n._)("div",{class:"text-9xl"},"404"),(0,n._)("div",{class:"text-4xl"},"Page Not Found")],-1)];var w={name:"PageNotFound"},x=(0,f.Z)(w,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)("main",null,b)}]]),A=a(4693),D=a(9109);const S={class:"flex flex-col items-center"},T=(0,n._)("h2",null,"An application would like to connect to your account",-1),C={key:0,class:"flex flex-row justify-center"},E={class:"flex"},I={class:"ff-user"},_=["src"],U=(0,n._)("div",{class:"my-4"}," This application will have access to your teams and projects. ",-1),V={class:"ff-actions flex flex-row"};var j=a(302),P=a(915),Z=a(9434),M=a(339),B={name:"AccessRequest",computed:{...(0,o.rn)("account",["user","team"])},components:{TemplateIcon:j.Z,KeyIcon:P.Z,ArrowSmRightIcon:Z.Z,ArrowSmLeftIcon:M.Z},methods:{allowAccess(){window.location.href=`/account/complete/${this.$router.currentRoute.value.params.id}`},denyAccess(){window.location.href=`/account/reject/${this.$router.currentRoute.value.params.id}`}}},F=(0,f.Z)(B,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("TemplateIcon"),l=(0,n.up)("ArrowSmLeftIcon"),c=(0,n.up)("KeyIcon"),d=(0,n.up)("ArrowSmRightIcon"),p=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)("div",S,[T,e.user?((0,n.wg)(),(0,n.iD)("div",C,[(0,n._)("div",E,[(0,n.Wm)(r,{class:"w-12"}),(0,n.Wm)(l,{class:"w-8"}),(0,n.Wm)(c,{class:"w-8"}),(0,n.Wm)(d,{class:"w-8"}),(0,n._)("div",I,[(0,n._)("img",{src:e.user.avatar,class:"ff-avatar-large"},null,8,_)])])])):(0,n.kq)("v-if",!0),U,(0,n._)("div",V,[(0,n.Wm)(p,{class:"mx-8","data-action":"deny-access",onClick:o.denyAccess},{default:(0,n.w5)((()=>[(0,n.Uk)("Deny")])),_:1},8,["onClick"]),(0,n.Wm)(p,{class:"mx-8","data-action":"allow-access",onClick:o.allowAccess},{default:(0,n.w5)((()=>[(0,n.Uk)("Allow")])),_:1},8,["onClick"])])])}]]);const W={class:"flex flex-col items-center"},N=(0,n._)("h2",null,"Redirecting back to your instance editor",-1),R={key:0,class:"flex flex-row justify-center"},L={class:"flex"},q={class:"ff-user"},H=["src"];var O={name:"AccessRequest",computed:{...(0,o.rn)("account",["user","team"])},components:{TemplateIcon:j.Z,ArrowSmRightIcon:Z.Z},mounted(){window.location.href=`/account/complete/${this.$router.currentRoute.value.params.id}`}},G=(0,f.Z)(O,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ArrowSmRightIcon"),l=(0,n.up)("TemplateIcon");return(0,n.wg)(),(0,n.iD)("div",W,[N,e.user?((0,n.wg)(),(0,n.iD)("div",R,[(0,n._)("div",L,[(0,n._)("div",q,[(0,n._)("img",{src:e.user.avatar,class:"ff-avatar-large"},null,8,H)]),(0,n.Wm)(r,{class:"w-8"}),(0,n.Wm)(l,{class:"w-12"})])])):(0,n.kq)("v-if",!0)])}]]);const Y=["innerHTML"],z={key:0,class:"max-w-md m-auto"},K=["innerHTML"],X=(0,n._)("label",null,"Username",-1),$={class:"ff-error-inline"},Q=(0,n._)("label",null,"Full Name",-1),J={class:"ff-error-inline"},ee=(0,n._)("label",null,"E-Mail Address",-1),te={class:"ff-error-inline"},ae=(0,n._)("label",null,"Password",-1),ie={class:"ff-error-inline"},ne={key:1,class:"pt-3"},se={key:2,class:"pt-3"},oe=["href"],re={key:3,class:"pt-3 ff-error-inline"},le={class:"ff-actions pt-2"},ce=(0,n._)("span",null,"Sign Up",-1),de={class:"w-4"},pe=(0,n._)("p",{class:"flex text-gray-400 font-light mt-6 gap-2 w-full justify-center"},[(0,n.Uk)(" Already registered? "),(0,n._)("a",{href:"/","data-action":"login"},"Log in here")],-1),ue={key:1},me=(0,n._)("h5",null,"Confirm your e-mail address.",-1),he={key:2},ge=(0,n._)("p",null,"You can now login using your SSO Provider.",-1);var fe=a(2518),ve=a.n(fe),ye=a(1025),ke={name:"AccountCreate",components:{"ff-layout-box":ye.Z,SpinnerIcon:ve()},data(){return{busy:!1,tooManyRequests:!1,createDisabled:!1,teams:[],emailSent:!1,ssoCreated:!1,input:{name:"",username:"",email:"",password:"",join_reason:null,tcs_accepted:!1,code:""},errors:{email:"",password:""},reasons:[{label:"Business Needs",value:"business"},{label:"Personal Use",value:"personal"},{label:"Educational Use",value:"education"},{label:"Other",value:"other"}]}},mounted(){this.input.email=(0,i.yj)().query.email||""},computed:{...(0,o.rn)("account",["settings","pending"]),splash(){return this.settings["branding:account:signUpLeftBanner"]},formValid(){return this.input.email&&!this.errors.email&&this.input.username&&!this.errors.username&&this.input.password.length>=8&&(!this.askJoinReason||this.input.join_reason)&&(!this.settings["user:tcs-required"]||this.input.tcs_accepted)&&!this.errors.name},askJoinReason(){return!!window.posthog}},watch:{"input.username":function(e){e&&!/^[a-z0-9-_]+$/i.test(e)?this.errors.username="Must only contain a-z 0-9 - _":this.errors.username=""},"input.email":function(e){e&&!/.+@.+/.test(e)?this.errors.email="Enter a valid email address":this.errors.email=""},"input.password":function(e){this.errors.password&&e.length>=8&&(this.errors.password="")},"input.name":function(e){e&&/:\/\//i.test(e)?this.errors.name="Names can not be URLs":this.errors.name=""}},methods:{checkPassword(){this.input.password.length<8?this.errors.password="Password must be at least 8 characters":this.errors.password=""},registerUser(){this.$route.query.code&&(this.input.code=this.$route.query.code);const e={...this.input,name:this.input.name||this.input.username};this.busy=!0,this.errors.general="",h.Z.registerUser(e).then((e=>{e.sso_enabled?this.ssoCreated=!0:this.emailSent=!0,this.busy=!1})).catch((e=>{console.error(e.response.data),this.busy=!1,e.response.data&&(/username/.test(e.response.data.error)&&(this.errors.username="Username unavailable"),/password/.test(e.response.data.error)&&(this.errors.password="Invalid username"),"invalid_sso_email"===e.response.data.code?this.errors.email=e.response.data.error:/email/.test(e.response.data.error)?this.errors.email="Email unavailable":429===e.response.data.statusCode?(this.errors.general="Too many attempts. Try again later.",this.tooManyRequests=!0,setTimeout((()=>{this.tooManyRequests=!1}),1e4)):"user registration not enabled"===e.response.data.error&&(this.errors.general="User registration is not enabled"))}))}}},be=(0,f.Z)(ke,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-text-input"),c=(0,n.up)("ff-radio-group"),d=(0,n.up)("ff-checkbox"),p=(0,n.up)("SpinnerIcon"),u=(0,n.up)("ff-button"),m=(0,n.up)("ff-layout-box");return(0,n.wg)(),(0,n.j4)(m,{class:"ff-signup"},(0,n.Nv)({default:(0,n.w5)((()=>[s.emailSent||s.ssoCreated?s.emailSent?((0,n.wg)(),(0,n.iD)("div",ue,[me,(0,n._)("p",null,"Please click the link in the email we sent to "+(0,l.toDisplayString)(s.input.email),1)])):((0,n.wg)(),(0,n.iD)("div",he,[ge,(0,n.Wm)(u,{to:{name:"Home"},"data-action":"login"},{default:(0,n.w5)((()=>[(0,n.Uk)("Login")])),_:1})])):((0,n.wg)(),(0,n.iD)("form",z,[e.settings["branding:account:signUpTopBanner"]?((0,n.wg)(),(0,n.iD)("p",{key:0,"data-el":"banner-text",class:"text-center -mt-6 pb-4 text-gray-400",innerHTML:e.settings["branding:account:signUpTopBanner"]},null,8,K)):(0,n.kq)("v-if",!0),(0,n._)("div",null,[X,(0,n.Wm)(r,{ref:"signup-username","data-form":"signup-username",label:"username",error:s.errors.username,modelValue:s.input.username,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.username=e)},null,8,["error","modelValue"]),(0,n._)("span",$,(0,l.toDisplayString)(s.errors.username),1),Q,(0,n.Wm)(r,{ref:"signup-fullname","data-form":"signup-fullname",label:"Full Name",error:s.errors.name,modelValue:s.input.name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.name=e)},null,8,["error","modelValue"]),(0,n._)("span",J,(0,l.toDisplayString)(s.errors.name),1),ee,(0,n.Wm)(r,{ref:"signup-email","data-form":"signup-email",label:"E-Mail Address",error:s.errors.email,modelValue:s.input.email,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.email=e)},null,8,["error","modelValue"]),(0,n._)("span",te,(0,l.toDisplayString)(s.errors.email),1),ae,(0,n.Wm)(r,{ref:"signup-password","data-form":"signup-password",label:"password",error:s.errors.password,modelValue:s.input.password,"onUpdate:modelValue":t[3]||(t[3]=e=>s.input.password=e),type:"password"},null,8,["error","modelValue"]),(0,n._)("span",ie,(0,l.toDisplayString)(s.errors.password),1)]),o.askJoinReason?((0,n.wg)(),(0,n.iD)("div",ne,[(0,n.Wm)(c,{label:"What brings you to FlowForge?",modelValue:s.input.join_reason,"onUpdate:modelValue":t[4]||(t[4]=e=>s.input.join_reason=e),orientation:"grid","data-form":"signup-join-reason",options:s.reasons},null,8,["modelValue","options"])])):(0,n.kq)("v-if",!0),e.settings["user:tcs-required"]?((0,n.wg)(),(0,n.iD)("div",se,[(0,n.Wm)(d,{modelValue:s.input.tcs_accepted,"onUpdate:modelValue":t[5]||(t[5]=e=>s.input.tcs_accepted=e),"data-form":"signup-accept-tcs"},{default:(0,n.w5)((()=>[(0,n.Uk)(" I accept the "),(0,n._)("a",{target:"_blank",href:e.settings["user:tcs-url"]},"FlowForge Terms & Conditions.",8,oe)])),_:1},8,["modelValue"])])):(0,n.kq)("v-if",!0),s.errors.general?((0,n.wg)(),(0,n.iD)("label",re,(0,l.toDisplayString)(s.errors.general),1)):(0,n.kq)("v-if",!0),(0,n._)("div",le,[(0,n.Wm)(u,{disabled:!o.formValid||s.busy||s.tooManyRequests,onClick:t[6]||(t[6]=e=>o.registerUser()),"data-action":"sign-up"},{default:(0,n.w5)((()=>[ce,(0,n._)("span",de,[s.busy||s.tooManyRequests?((0,n.wg)(),(0,n.j4)(p,{key:0,class:"ff-icon ml-3 !w-3.5"})):(0,n.kq)("v-if",!0)])])),_:1},8,["disabled"]),pe])]))])),_:2},[o.splash?{name:"splash-content",fn:(0,n.w5)((()=>[(0,n._)("div",{innerHTML:o.splash,"data-el":"splash"},null,8,Y)])),key:"0"}:void 0]),1024)}]]);const we={key:0,class:"px-4 sm:px-6 lg:px-8 mt-8 space-y-6"},xe=["textContent"];var Ae=a(3587),De={name:"PasswordRequest",data(){return{input:{email:""},errors:{email:null},flash:""}},methods:{requestPasswordReset(){if(this.errors.email="",""===this.input.email)return this.errors.email="Enter email address",!1;h.Z.requestPasswordReset({email:this.input.email}).then((()=>{this.flash="We have sent you an email with instructions to reset your password"})).catch((e=>{this.errors.email="",console.error(e)}))}},computed:(0,o.rn)("account",["settings","pending"]),components:{"ff-layout-box":ye.Z,FormRow:Ae.Z}},Se=(0,f.Z)(De,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),c=(0,n.up)("ff-button"),d=(0,n.up)("ff-layout-box");return(0,n.wg)(),(0,n.j4)(d,null,{default:(0,n.w5)((()=>[e.pending?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("form",we,[s.flash?((0,n.wg)(),(0,n.iD)("div",{key:0,textContent:(0,l.toDisplayString)(s.flash),class:"font-medium"},null,8,xe)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(r,{id:"reset_email",error:s.errors.email,modelValue:s.input.email,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.email=e)},{default:(0,n.w5)((()=>[(0,n.Uk)("Email address")])),_:1},8,["error","modelValue"]),(0,n.Wm)(c,{onClick:o.requestPasswordReset},{default:(0,n.w5)((()=>[(0,n.Uk)(" Send reset link ")])),_:1},8,["onClick"])],64))]))])),_:1})}]]);const Te={key:0,class:"px-4 sm:px-6 lg:px-8 mt-8 space-y-6"},Ce=(0,n._)("p",{class:"text-center"},"Password reset successful.",-1);var Ee=a(8356),Ie={name:"PasswordRequest",data(){return{input:{password:"",confirm:""},errors:{password:null,confirm:null},complete:!1}},methods:{resetPassword(){return this.errors.password="",this.errors.confirm="",""===this.input.password?(this.errors.password="Enter a new password",!1):this.input.password.length<8?(this.errors.password="Password too short",!1):this.input.password.length>1024?(this.errors.password="Password too long",!1):this.input.password!==this.input.confirm?(this.errors.confirm="Passwords do not match",!1):void h.Z.resetPassword(this.$route.params.token,{password:this.input.password}).then((e=>{this.complete=!0,Ee.Z.emit("Password successfully updated.","confirmation")})).catch((e=>{console.error(e)}))}},computed:(0,o.rn)("account",["settings","pending"]),components:{"ff-layout-box":ye.Z,FormRow:Ae.Z}},_e=(0,f.Z)(Ie,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-button"),l=(0,n.up)("FormRow"),c=(0,n.up)("ff-layout-box");return(0,n.wg)(),(0,n.j4)(c,{class:"ff-setup"},{default:(0,n.w5)((()=>[e.pending?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("form",Te,[s.complete?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[Ce,(0,n.Wm)(r,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Return Home")])),_:1})],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(l,{id:"new_password",type:"password",error:s.errors.password,modelValue:s.input.password,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.password=e)},{default:(0,n.w5)((()=>[(0,n.Uk)("New Password")])),_:1},8,["error","modelValue"]),(0,n.Wm)(l,{id:"confirm_password",type:"password",error:s.errors.confirm,modelValue:s.input.confirm,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.confirm=e)},{default:(0,n.w5)((()=>[(0,n.Uk)("Confirm")])),_:1},8,["error","modelValue"]),(0,n.Wm)(r,{onClick:o.resetPassword},{default:(0,n.w5)((()=>[(0,n.Uk)(" Change password ")])),_:1},8,["onClick"])],64))]))])),_:1})}]]);const Ue={key:1,class:"space-y-6"},Ve={key:0,class:"ml-4 text-red-400 font-medium inline text-sm"},je={key:1,class:"ml-4 font-medium inline text-md"};var Pe=a(5670),Ze={name:"AccountSecurityChangePassword",data(){return{loading:!1,changeComplete:!1,errors:{old_password:"",password:"",password_confirm:"",password_change:""},input:{old_password:"",password:"",password_confirm:""}}},methods:{changePassword(){return this.errors.old_password="",this.errors.password="",this.errors.password_confirm="",this.errors.password_change="",""===this.input.old_password?(this.errors.old_password="Enter your current password",!1):""===this.input.password?(this.errors.password="Enter a new password",!1):this.input.password.length<8?(this.errors.password="Password too short (min. 8 characters)",!1):this.input.password!==this.input.password_confirm?(this.errors.password_confirm="Passwords do not match",!1):(this.loading=!0,void h.Z.changePassword(this.input.old_password,this.input.password).then((()=>{this.input.password="",this.input.old_password="",this.input.password_confirm="",this.changeComplete=!0})).catch((e=>{this.changeComplete=!1,this.errors.password_change="Password change failed",console.error(e)})).finally((()=>{this.loading=!1})))}},components:{FormRow:Ae.Z,FormHeading:Pe.Z}},Me=(0,f.Z)(Ze,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),c=(0,n.up)("FormHeading"),d=(0,n.up)("FormRow"),p=(0,n.up)("ff-button");return s.loading?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Changing Password..."})):((0,n.wg)(),(0,n.iD)("form",Ue,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Change password")])),_:1}),(0,n.Wm)(d,{type:"password",error:s.errors.old_password,modelValue:s.input.old_password,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.old_password=e),id:"old_password"},{default:(0,n.w5)((()=>[(0,n.Uk)("Old Password")])),_:1},8,["error","modelValue"]),(0,n.Wm)(d,{type:"password",error:s.errors.password,modelValue:s.input.password,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.password=e),id:"password"},{default:(0,n.w5)((()=>[(0,n.Uk)("New Password")])),_:1},8,["error","modelValue"]),(0,n.Wm)(d,{type:"password",error:s.errors.password_confirm,modelValue:s.input.password_confirm,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.password_confirm=e),id:"password_confirm"},{default:(0,n.w5)((()=>[(0,n.Uk)("Confirm")])),_:1},8,["error","modelValue"]),(0,n.Wm)(p,{onClick:o.changePassword},{default:(0,n.w5)((()=>[(0,n.Uk)(" Change password ")])),_:1},8,["onClick"]),s.errors.password_change?((0,n.wg)(),(0,n.iD)("div",Ve,(0,l.toDisplayString)(s.errors.password_change),1)):(0,n.kq)("v-if",!0),s.changeComplete?((0,n.wg)(),(0,n.iD)("div",je,"Password changed")):(0,n.kq)("v-if",!0)]))}]]);const Be={class:"flex flex-col sm:flex-row"},Fe={class:"flex-grow"},We={class:"mb-6 sm:mb-0 sm:-ml-6 w-full pb-4 sm:pb-0 sm:w-32 border-b sm:border-b-0 sm:border-r overflow-hidden border-gray-400 mr-6 text-gray-500 space-y-2"};var Ne={name:"SectionSideMenu",props:["options"]},Re=(0,f.Z)(Ne,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("ul",We,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.options,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.name,class:"block"},[(0,n.Wm)(r,{to:e.path,class:"block text-sm px-3 py-1 sm:py-2 pl-3 ml-1","exact-active-class":"text-blue-700 ml-0 border-l-4 border-blue-700","data-nav":e.name.toLowerCase()},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(e.name),1)])),_:2},1032,["to","data-nav"])])))),128))])}]]);const Le=[{name:"Password",path:"/account/security/password"}];var qe={name:"AccountSecurity",components:{SectionSideMenu:Re},setup(){return{sideNavigation:Le}}},He=(0,f.Z)(qe,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionSideMenu"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",Be,[(0,n.Wm)(r,{options:i.sideNavigation},null,8,["options"]),(0,n._)("div",Fe,[(0,n.Wm)(l)])])}]]),Oe=a(9963);const Ge={key:2,class:"flex space-x-4"},Ye={class:"flex flex-col space-y-4 max-w-2xl lg:flex-row lg:items-center lg:space-y-0"},ze=(0,n._)("div",{class:"flex-grow"},[(0,n._)("div",{class:"max-w-sm"}," Before you can delete your account, teams you own must be deleted or have at least 1 other owner. ")],-1),Ke={class:"min-w-fit flex-shrink-0"};var Xe=a(3671),$e={name:"AccountSettings",data(){const e=this.$store.getters["account/user"],t=this.$store.getters["account/teams"];let a="none";const i=t.map((t=>(t.id===e.defaultTeam&&(a=t.name),{value:t.id,label:t.name})));return{loading:!1,editing:!1,user:e,errors:{},input:{username:e.username,name:e.name,email:e.email,defaultTeam:e.defaultTeam},defaultTeamName:a,changed:{},teams:i}},watch:{"input.username":function(e){e&&!/^[a-z0-9-_]+$/i.test(e)?this.errors.username="Must only contain a-z 0-9 - _":this.errors.username="",this.changed.username=this.user.username!==e},"input.email":function(e){e&&!/.+@.+/.test(e)?this.errors.email="Enter a valid email address":this.errors.email="",this.changed.email=this.user.email!==e},"input.name":function(e){e&&/:\/\//i.test(e)?this.errors.name="Names can not be URLs":this.errors.name="",this.changed.name=this.user.name!==e},"input.defaultTeam":function(e){this.changed.defaultTeam=this.user.defaultTeam!==e}},methods:{startEdit(){this.editing=!0,this.user.sso_enabled&&(this.errors.email="Cannot modify email for SSO enabled user")},resetInputs(){this.input.username=this.user.username,this.input.name=this.user.name,this.input.email=this.user.email,this.input.defaultTeam=this.user.defaultTeam,this.errors.email="",this.editing=!1},confirm(){this.loading=!0;const e={};let t=!1;this.input.username!==this.user.username&&(e.username=this.input.username,t=!0),this.input.name!==this.user.name&&(e.name=this.input.name,t=!0),this.input.email!==this.user.email&&(e.email=this.input.email,t=!0),this.input.admin!==this.user.admin&&(e.admin=this.input.admin,t=!0),this.input.defaultTeam!==this.defaultTeam&&(e.defaultTeam=this.input.defaultTeam,t=!0),t&&h.Z.updateUser(e).then((e=>{this.$store.dispatch("account/setUser",e),Ee.Z.emit("User successfully updated.","confirmation",3e3),e?.pendingEmailChange&&setTimeout((()=>{Ee.Z.emit("Check your inbox for a link to verify your new Email Address.","confirmation",7e3)}),800),this.user=e,this.teams.forEach((e=>{e.value===this.user.defaultTeam&&(this.defaultTeamName=e.label)})),this.changed={},this.resetInputs()})).catch((e=>{e.response.data?(/username/.test(e.response.data.error)&&(this.errors.username="Username unavailable"),"invalid_email"===e.response.data.code&&(this.errors.email="Invalid email"),/password/.test(e.response.data.error)&&(this.errors.password="Invalid username"),("email must be unique"===e.response.data.error||e.response.data.error.includes("already in use"))&&(this.errors.email="Email already registered")):Ee.Z.emit("Error updating user","warning")})).finally((()=>{this.loading=!1}))},deleteAccount(){Xe.Z.show({header:"Delete Account",kind:"danger",html:"<p>Are you sure you want to delete your account?</p>\n                       <p>This action cannot be undone.</p>",confirmLabel:"Delete"},(async()=>{try{await h.Z.deleteUser(),this.$store.dispatch("account/checkState"),this.$router.push({name:"login"})}catch(e){const t=e.response?.data?.error||"Error deleting account";Ee.Z.emit(t,"warning")}}))}},computed:{formValid(){return(this.changed.name||this.changed.username||this.changed.email||this.changed.defaultTeam)&&(!this.emailEditingEnabled||this.input.email&&!this.errors.email)&&this.input.username&&!this.errors.username&&this.input.name&&!this.errors.name},emailEditingEnabled(){return this.editing&&!this.user.sso_enabled}},components:{FormRow:Ae.Z,FormHeading:Pe.Z}},Qe=(0,f.Z)($e,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),l=(0,n.up)("FormRow"),c=(0,n.up)("ff-button"),d=(0,n.up)("FormHeading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.loading?((0,n.wg)(),(0,n.j4)(r,{key:0,message:""})):((0,n.wg)(),(0,n.iD)("form",{key:1,class:"space-y-6",onSubmit:t[5]||(t[5]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n.Wm)(l,{modelValue:s.input.username,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.username=e),type:s.editing?"text":"uneditable",error:s.errors.username},{default:(0,n.w5)((()=>[(0,n.Uk)("Username")])),_:1},8,["modelValue","type","error"]),(0,n.Wm)(l,{modelValue:s.input.name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.name=e),type:s.editing?"text":"uneditable",placeholder:s.input.username,error:s.errors.name},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),_:1},8,["modelValue","type","placeholder","error"]),(0,n.Wm)(l,{modelValue:s.input.email,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.email=e),type:o.emailEditingEnabled?"email":"uneditable",error:s.errors.email},{default:(0,n.w5)((()=>[(0,n.Uk)("Email")])),_:1},8,["modelValue","type","error"]),s.editing?((0,n.wg)(),(0,n.j4)(l,{key:1,modelValue:s.input.defaultTeam,"onUpdate:modelValue":t[4]||(t[4]=e=>s.input.defaultTeam=e),options:s.teams,error:s.errors.defaultTeam},{description:(0,n.w5)((()=>[(0,n.Uk)("The team you'll see when you log in")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Default Team ")])),_:1},8,["modelValue","options","error"])):((0,n.wg)(),(0,n.j4)(l,{key:0,modelValue:s.defaultTeamName,"onUpdate:modelValue":t[3]||(t[3]=e=>s.defaultTeamName=e),options:s.teams,type:"uneditable"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Default Team ")])),_:1},8,["modelValue","options"])),s.editing?((0,n.wg)(),(0,n.iD)("div",Ge,[(0,n.Wm)(c,{disabled:!o.formValid,onClick:o.confirm},{default:(0,n.w5)((()=>[(0,n.Uk)("Save Changes")])),_:1},8,["disabled","onClick"]),(0,n.Wm)(c,{kind:"secondary",onClick:o.resetInputs},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"])])):((0,n.wg)(),(0,n.j4)(c,{key:3,onClick:o.startEdit},{default:(0,n.w5)((()=>[(0,n.Uk)("Edit")])),_:1},8,["onClick"]))],32)),(0,n.Wm)(d,{class:"text-red-700 mt-6"},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete Account")])),_:1}),(0,n._)("div",Ye,[ze,(0,n._)("div",Ke,[(0,n.Wm)(c,{class:"warning",kind:"danger",onClick:o.deleteAccount},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete Account")])),_:1},8,["onClick"])])])],64)}]]);const Je={class:"space-y-6"};var et=a(2262);const tt={key:1,class:"flex align-center"},at={class:"flex flex-col justify-center"},it={class:"inline-flex flex-col"},nt={class:"text-gray-500"};var st=a(7801);const ot={class:"flex items-center"},rt={class:"flex flex-col justify-center"},lt=["src"],ct={class:"inline-flex flex-col"},dt={key:0};var pt={name:"UserCell",props:["avatar","name","username"]},ut=(0,f.Z)(pt,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)("div",ot,[(0,n._)("div",rt,[(0,n._)("img",{class:"rounded-md mr-2 w-6 inline",src:a.avatar},null,8,lt)]),(0,n._)("div",ct,[a.name?((0,n.wg)(),(0,n.iD)("div",dt,(0,l.toDisplayString)(a.name),1)):(0,n.kq)("v-if",!0),a.username?((0,n.wg)(),(0,n.iD)("div",{key:1,class:(0,l.normalizeClass)([a.name?"text-xs text-gray-400":""])},(0,l.toDisplayString)(a.username),3)):(0,n.kq)("v-if",!0)])])}]]),mt={name:"InviteUserCell",props:["user"],components:{UserCell:ut,UserCircleIcon:st.Z}},ht=(0,f.Z)(mt,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("UserCell"),c=(0,n.up)("UserCircleIcon");return a.user?.external?((0,n.wg)(),(0,n.iD)("div",tt,[(0,n._)("div",at,[(0,n.Wm)(c,{class:"text-gray-300 w-6 mr-3 inline"})]),(0,n._)("div",it,[(0,n._)("div",nt,(0,l.toDisplayString)(a.user?.email),1)])])):((0,n.wg)(),(0,n.j4)(r,{key:0,avatar:a.user?.avatar,name:a.user?.name,username:a.user?.username},null,8,["avatar","name","username"]))}]]);const gt={class:"flex flex-col justify-center"},ft=["src"],vt={class:"inline-flex flex-col"},yt={key:0,class:"text-xs text-gray-400"};var kt={name:"TeamCell",props:["avatar","name","id","slug"],methods:{goToTeam(){this.slug&&this.$router.push({name:"Team",params:{team_slug:this.slug}})}}},bt=(0,f.Z)(kt,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)("div",{class:"flex align-center cursor-pointer",onClick:t[0]||(t[0]=(...e)=>o.goToTeam&&o.goToTeam(...e))},[(0,n._)("div",gt,[(0,n._)("img",{class:"rounded-md mr-3 w-6 inline",src:a.avatar},null,8,ft)]),(0,n._)("div",vt,[(0,n._)("div",null,(0,l.toDisplayString)(a.name),1),a.id?((0,n.wg)(),(0,n.iD)("div",yt,(0,l.toDisplayString)(a.id),1)):(0,n.kq)("v-if",!0)])])}]]),wt={name:"UserInviteTable",props:["user"],emits:["invites-updated"],data(){return{invitations:[],inviteColumns:[{label:"Team",key:"team",class:["w-auto"],component:{is:(0,et.Xl)(bt),map:{id:"team.id",avatar:"team.avatar",name:"team.name"}}},{label:"Role",class:["w-40"],key:"roleName"},{label:"Sent by",key:"invitor",class:["w-auto"],component:{is:(0,et.Xl)(ht),map:{user:"invitor"}}},{label:"Expires In",key:"expires",class:["w-auto"]}]}},mounted(){this.fetchData()},methods:{async acceptInvite(e){await h.Z.acceptTeamInvitation(e.id,e.team.id),await this.fetchData(),await this.$store.dispatch("account/refreshTeams"),this.$router.push({name:"Team",params:{team_slug:e.team.slug}})},async rejectInvite(e){await h.Z.rejectTeamInvitation(e.id,e.team.id),await this.fetchData()},async fetchData(){const e=await h.Z.getTeamInvitations();await this.$store.dispatch("account/countNotifications"),this.invitations=e.invitations}}},xt=(0,f.Z)(wt,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-list-item"),l=(0,n.up)("ff-data-table");return(0,n.wg)(),(0,n.iD)("div",Je,[(0,n.Wm)(l,{"data-el":"table",columns:s.inviteColumns,rows:s.invitations},{"context-menu":(0,n.w5)((({row:e})=>[(0,n.Wm)(r,{"data-action":"accept",label:"Accept",onClick:t=>o.acceptInvite(e)},null,8,["onClick"]),(0,n.Wm)(r,{"data-action":"reject",label:"Reject",kind:"danger",onClick:t=>o.rejectInvite(e)},null,8,["onClick"])])),_:1},8,["columns","rows"])])}]]);const At={key:0,class:"text-right mb-4"};var Dt=a(7613);const St={href:"/team/create",class:"forge-button"},Tt=(0,n._)("span",null,"Create Team",-1);var Ct=a(7240),Et={name:"CreateTeamButton",components:{PlusSmIcon:Ct.Z}},It=(0,f.Z)(Et,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("PlusSmIcon");return(0,n.wg)(),(0,n.iD)("a",St,[(0,n.Wm)(r,{class:"w-5 h-5 my-1 -ml-1 mr-1"}),Tt])}]]),_t={name:"AccountTeams",computed:{...(0,o.rn)("account",["user","teams","settings"]),teamCount(){return this.teams?this.teams.length:0}},components:{CreateTeamButton:It},data(){return{columns:[{label:"Name",key:"name",class:["flex-grow"],component:{is:(0,et.Xl)(bt)}},{label:"Application Instances",key:"instanceCount",class:["w-32","text-center"]},{label:"Members",key:"memberCount",class:["w-32","text-center"]},{label:"Role",key:"roleName",class:["w-40"]}]}},methods:{teamSelected(e){this.$router.push({name:"Team",params:{team_slug:e.slug}})},removeUserDialog(e){1!==e.memberCount?Xe.Z.show({header:"Leave Team",kind:"danger",text:`Are you sure you want to leave ${e.name}?`,confirmLabel:"Leave Team"},(async()=>{try{await Dt.Z.removeTeamMember(e.id,this.user.id),Ee.Z.emit(`${this.user.username} successfully removed from ${e.name}`,"confirmation"),this.$store.dispatch("account/refreshTeams")}catch(t){Ee.Z.emit(`Failed to remove ${this.user.username} from ${e.name}: ${t.response.data.error}`,"warning"),console.warn(t)}})):Xe.Z.show({header:"Leave Team",kind:"primary",text:"You cannot leave a team you are the only member of.",confirmLabel:"Leave Team",disablePrimary:!0})}}},Ut=(0,f.Z)(_t,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("CreateTeamButton"),l=(0,n.up)("ff-list-item"),c=(0,n.up)("ff-data-table");return(0,n.wg)(),(0,n.iD)(n.HY,null,[e.settings["team:create"]?((0,n.wg)(),(0,n.iD)("div",At,[(0,n.Wm)(r)])):(0,n.kq)("v-if",!0),(0,n.Wm)(c,{columns:s.columns,rows:e.teams},{"context-menu":(0,n.w5)((({row:e})=>[(0,n.Wm)(l,{"data-action":"member-remove-from-team",label:"Leave Team",kind:"danger",onClick:t=>o.removeUserDialog(e)},null,8,["onClick"])])),_:1},8,["columns","rows"])],64)}]]);const Vt={key:0,class:"flex flex-col sm:flex-row"},jt={class:"flex-grow"};var Pt={name:"AccountTeams",components:{SectionSideMenu:Re},computed:{...(0,o.rn)("account",["user","teams"]),...(0,o.Se)("account",["notifications"])},data(){return{sideNavigation:[]}},watch:{notifications:{handler:function(){this.updateNotifications()},deep:!0}},async mounted(){this.sideNavigation=[{name:"Teams",path:"/account/teams"}],this.sideNavigation.push({name:"Invitations",path:"/account/teams/invitations"}),this.updateNotifications()},methods:{updateNotifications(){this.notifications.invitations>0?this.sideNavigation[1].name=`Invitations (${this.notifications.invitations})`:this.sideNavigation[1].name="Invitations"}}},Zt=(0,f.Z)(Pt,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionSideMenu"),l=(0,n.up)("router-view");return e.user.email_verified?((0,n.wg)(),(0,n.iD)("div",Vt,[(0,n.Wm)(r,{options:s.sideNavigation},null,8,["options"]),(0,n._)("div",jt,[(0,n.Wm)(l)])])):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)(" Please verify your email address to access teams ")],64))}]]),Mt=a.p+"./assets/92ca55a8d6a199a7e0e7.png";const Bt={key:0,class:"px-4 sm:px-6 lg:px-8 mt-4 space-y-4"},Ft={class:"text-center mx-20 -mt-10"},Wt=(0,n._)("div",{class:"inline-block"},[(0,n._)("img",{class:"max-h-32",src:Mt,alt:"Email Envelope"})],-1),Nt=(0,n._)("h3",{class:"text-lg font-bold"},"Please verify your email",-1),Rt=(0,n._)("p",{class:"text-gray-400"},"Once verified, you will be able to access the platform.",-1),Lt={class:"mx-auto mt-10"};var qt={name:"VerifyEmail",props:["token"],computed:{...(0,o.rn)(["pending"])},methods:{async verifyEmail(){try{await h.Z.verifyEmailToken(this.$route.params.token),window.location="/"}catch(e){e.response?.data?Ee.Z.emit(`Unable to verify email. ${e.response.data.error}`,"warning",4e3):(Ee.Z.emit("Unable to verify email. Check logs for details.","warning",4e3),console.error(e))}}},components:{"ff-layout-box":ye.Z}},Ht=(0,f.Z)(qt,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-button"),l=(0,n.up)("ff-layout-box");return(0,n.wg)(),(0,n.j4)(l,null,{default:(0,n.w5)((()=>[e.pending?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("form",Bt,[(0,n._)("div",Ft,[Wt,Nt,Rt,(0,n._)("div",Lt,[(0,n.Wm)(r,{class:"mx-auto",onClick:t[0]||(t[0]=e=>o.verifyEmail())},{default:(0,n.w5)((()=>[(0,n.Uk)("Verify my email")])),_:1})])])]))])),_:1})}]]);const Ot={key:0,class:"px-4 sm:px-6 lg:px-8 mt-8 space-y-6"};var Gt={name:"VerifyPendingEmailChange",props:{token:{type:String,required:!0}},computed:{...(0,o.rn)(["pending"])},methods:{async verify(){try{await h.Z.verifyPendingEmailChangeToken(this.$route.params.token),window.location="/"}catch(e){e.response?.data?Ee.Z.emit(`Unable to confirm new email. ${e.response.data.error}`,"warning",4e3):(Ee.Z.emit("Unable to confirm new email. Check logs for details.","warning",4e3),console.error(e))}}}},Yt=(0,f.Z)(Gt,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-button");return e.pending?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("form",Ot,[(0,n._)("div",null,[(0,n.Wm)(r,{class:"m-auto",onClick:t[0]||(t[0]=e=>o.verify())},{default:(0,n.w5)((()=>[(0,n.Uk)("Click here to verify your change of email address")])),_:1})])]))}]]);const zt=(0,n._)("li",{class:"ff-navigation-divider"},"User Settings",-1),Kt={class:"flex items-center mb-8"},Xt={class:"mr-3"},$t=["src"],Qt={class:"flex flex-col"},Jt={class:"text-xl font-bold"},ea={class:"text-l text-gray-400"},ta={class:"text-sm sm:px-6 mt-4 sm:mt-8"};var aa=a(4618),ia=a(37),na=a(4244),sa=a(3434),oa=a(7264);const ra={class:"ff-side-navigation ff-side-navigation--primary"},la={class:"ff-side-navigation--options"},ca={class:"ff-side-navigation--options-back"};var da={name:"FFSideNavigation",props:["mobileMenuOpen"],emits:["option-selected"]},pa=(0,f.Z)(da,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)("div",ra,[(0,n._)("ul",la,[(0,n._)("div",ca,[(0,n.WI)(e.$slots,"back")]),(0,n.WI)(e.$slots,"options")])])}]]),ua={name:"UserSettings",computed:{...(0,o.rn)("account",["user","team"]),...(0,o.Se)("account",["notifications"])},components:{SideNavigation:pa,NavItem:oa.Z},data(){return{mounted:!1,navigation:[{name:"Settings",path:"/account/settings",tag:"account-settings",icon:aa.Z},{name:"Teams",path:"/account/teams",tag:"account-teams",icon:ia.Z},{name:"Security",path:"/account/security",tag:"account-security",icon:na.Z}],icons:{chevronLeft:sa.Z}}},watch:{notifications:{handler:function(){this.updateNotifications()},deep:!0}},mounted(){this.mounted=!0,this.updateNotifications()},methods:{updateNotifications(){this.navigation[1].notifications=this.notifications.invitations}}},ma=(0,f.Z)(ua,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("nav-item"),c=(0,n.up)("router-link"),d=(0,n.up)("SideNavigation"),p=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-sidenav"},[(0,n.Wm)(d,null,(0,n.Nv)({options:(0,n.w5)((()=>[zt,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.navigation,(e=>((0,n.wg)(),(0,n.j4)(c,{key:e.label,to:e.path,"data-nav":e.tag},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:e.icon,label:e.name,notifications:e.notifications},null,8,["icon","label","notifications"])])),_:2},1032,["to","data-nav"])))),128))])),_:2},[e.team?{name:"back",fn:(0,n.w5)((()=>[(0,n.Wm)(c,{to:{name:"Team",params:{team_slug:e.team.slug}},"data-nav":"team-overview"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:s.icons.chevronLeft,label:"Back to Dashboard"},null,8,["icon"])])),_:1},8,["to"])])),key:"0"}:{name:"back",fn:(0,n.w5)((()=>[(0,n.Wm)(c,{to:{name:"CreateTeam"},"data-nav":"create-team"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:s.icons.chevronLeft,label:"Back to Create Team"},null,8,["icon"])])),_:1})])),key:"1"}]),1024)])):(0,n.kq)("v-if",!0),(0,n._)("main",null,[(0,n._)("div",Kt,[(0,n._)("div",Xt,[(0,n._)("img",{src:e.user.avatar,class:"h-14 v-14 rounded-md"},null,8,$t)]),(0,n._)("div",Qt,[(0,n._)("div",Jt,(0,l.toDisplayString)(e.user.name),1),(0,n._)("div",ea,(0,l.toDisplayString)(e.user.username),1)])]),(0,n._)("div",ta,[(0,n.Wm)(p)])])],64)}]]),ha=[{path:"/account/request/:id/editor",component:G,meta:{modal:!0}},{path:"/account/request/:id",component:F,meta:{modal:!0}},{profileLink:!0,profileMenuIndex:0,path:"/account",redirect:"/account/settings",name:"User Settings",meta:{title:"Account - Settings"},icon:A.Z,component:ma,children:[{path:"settings",component:Qe},{path:"teams",component:Zt,meta:{title:"Account - Teams"},children:[{path:"",component:Ut},{path:"invitations",component:xt}]},{path:"security",component:He,meta:{title:"Account - Security"},redirect:"/account/security/password",children:[{path:"password",component:Me}]}]},{path:"/account/create",name:"Sign up",meta:{requiresLogin:!1,title:"Sign Up"},component:be},{name:"VerifyEmail",path:"/account/verify/:token",props:!0,meta:{requiresLogin:!1},component:Ht},{name:"VerifyPendingEmailChange",path:"/account/email_change/:token",props:!0,meta:{modal:!0,requiresLogin:!0},component:Yt},{profileLink:!0,profileMenuIndex:999,path:"/account/logout",name:"Sign out",redirect:function(){return D.Z.dispatch("account/logout"),{path:"/"}}},{path:"/account/forgot-password",name:"ForgotPassword",component:Se,meta:{title:"Forgot Password",requiresLogin:!1}},{path:"/account/change-password/:token",name:"PasswordReset",component:_e,meta:{requiresLogin:!1}}],ga=a(3057);function fa(e,t,a){let i;function n(){i&&i(),D.Z.state.account.user.admin?a():a("/")}D.Z.state.account.user?n():i=D.Z.watch((e=>e.account.user),(e=>{n()}))}var va=a(6580),ya=a(1044),ka=a(1826),ba=a(9300),wa=async e=>ba.Z.get("/api/v1/admin/license",e).then((e=>e.data.expiresAt?(e.data.expires=(0,ya.Z)(e.data.expiresAt,Date.now()),e.data):null)),xa=async e=>ba.Z.put("/api/v1/admin/license",e).then((e=>e.data.expiresAt?(e.data.expires=(0,ya.Z)(e.data.expiresAt,Date.now()),e.data):null)),Aa=(e,t,a)=>{const i=(0,ka.Z)("/api/v1/users",e,t,a);return ba.Z.get(i).then((e=>e.data))},Da=async(e,t)=>ba.Z.put(`/api/v1/users/${e}`,t).then((e=>e.data)),Sa=a.p+"./assets/3e066a4fc4cccc7ff129.png";const Ta={class:"ff-section-header flex flex-nowrap border-b border-gray-400 mb-4 sm:mb-2 text-gray-500 justify-between h-12"},Ca={class:"flex"},Ea={class:"w-full flex items-center md:w-auto mb-2 mr-8 gap-x-2"},Ia={class:"flex"},_a={class:"text-gray-800 text-xl font-medium whitespace-nowrap"},Ua={key:1,class:"hidden sm:block text-gray-400"},Va={key:0,class:"flex"},ja={key:0,class:"flex-shrink-0"},Pa={class:"w-full md:w-auto flex-grow mb-2 text-right"},Za={class:"flex gap-8"},Ma=(0,n._)("img",{src:Sa},null,-1);var Ba=a(5881),Fa={name:"SectionTopMenu",props:{hero:{type:String,default:null},info:{type:String,default:null},helpHeader:{type:String,default:null},options:{type:Array,default:()=>[]}},computed:{hasInfoDialog(){return!!this.$slots.helptext}},setup(e,{slots:t}){const a=(0,et.iH)(!1);return t.tools&&t.tools().length&&(a.value=!0),{hasTools:a}},methods:{openInfoDialog(){this.$refs["help-dialog"].show()}},components:{InformationCircleIcon:Ba.Z}},Wa=(0,f.Z)(Fa,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("InformationCircleIcon"),c=(0,n.up)("router-link"),d=(0,n.up)("ff-button"),p=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Ta,[(0,n._)("div",Ca,[(0,n._)("div",Ea,[(0,n.WI)(e.$slots,"hero",{},(()=>[(0,n._)("div",Ia,[(0,n._)("div",_a,(0,l.toDisplayString)(a.hero),1)])])),o.hasInfoDialog?((0,n.wg)(),(0,n.j4)(r,{key:0,class:"min-w-[20px] ff-icon text-gray-800 cursor-pointer hover:text-blue-700",onClick:t[0]||(t[0]=e=>o.openInfoDialog())})):(0,n.kq)("v-if",!0),a.info?((0,n.wg)(),(0,n.iD)("span",Ua,(0,l.toDisplayString)(a.info),1)):(0,n.kq)("v-if",!0)]),a.options.length>0?((0,n.wg)(),(0,n.iD)("ul",Va,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.options,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.name,class:"mr-8 pt-1 flex"},[(0,n.Wm)(c,{to:e.path,class:"forge-nav-item","active-class":"forge-nav-item-active","data-nav":`section-${e.name.toLowerCase()}`},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(e.name),1)])),_:2},1032,["to","data-nav"])])))),128))])):(0,n.kq)("v-if",!0)]),i.hasTools?((0,n.wg)(),(0,n.iD)("ul",ja,[(0,n._)("li",Pa,[(0,n.WI)(e.$slots,"tools")])])):(0,n.kq)("v-if",!0)]),o.hasInfoDialog?((0,n.wg)(),(0,n.j4)(p,{key:0,ref:"help-dialog",class:"ff-dialog-box--info",header:a.helpHeader||"FlowForge Info"},{default:(0,n.w5)((()=>[(0,n._)("div",Za,[(0,n.WI)(e.$slots,"pictogram",{},(()=>[Ma])),(0,n._)("div",null,[(0,n.WI)(e.$slots,"helptext")])])])),actions:(0,n.w5)((()=>[(0,n.Wm)(d,{onClick:t[1]||(t[1]=t=>e.$refs["help-dialog"].close())},{default:(0,n.w5)((()=>[(0,n.Uk)("Close")])),_:1})])),_:3},8,["header"])):(0,n.kq)("v-if",!0)],64)}]]);const Na={class:"ff-admin-audit"},Ra={"data-el":"audit-log"},La={"data-el":"filter-event-types"},qa={"data-el":"filter-users"};var Ha=JSON.parse('{"team":{"team.created":"New Team Created","team.deleted":"Team Deleted","team.user.added":"User Added to Team","team.user.removed":"User Removed from Team","team.user.invited":"User Invited to Team","team.user.uninvited":"User Uninvited from Team","team.user.invite.accepted":"User Invite Accepted","team.user.invite.rejected":"User Invite Rejected","team.user.role-changed":"User Role Modified","team.settings.updated":"Team Settings Updated","team.device.created":"New Device Created","team.device.deleted":"Device Deleted","team.device.updated":"Device Updated","team.device.assigned":"Device Assigned from Instance","team.device.unassigned":"Device Unassigned from Instance","team.device.credentials-generated":"Device Credentials Generated","team.device.credentialsGenerated":"Device Credentials Generated","team.device.provisioning.created":"Device Provisioning Token Generated","team.device.provisioning.updated":"Device Provisioning Token Updated","team.device.provisioning.deleted":"Device Provisioning Token Deleted","team.device.developer-mode.enabled":"Developer Mode Enabled","team.device.developer-mode.disabled":"Developer Mode Disabled","team.device.remote-access.enabled":"Remote Access Enabled","team.device.remote-access.disabled":"Remote Access Disabled","application.created":"Application Created","application.updated":"Application Modified","application.deleted":"Application Deleted","application.pipeline.created":"DevOps Pipeline Created","application.pipeline.deleted":"DevOps Pipeline Deleted","application.pipeline.stage-added":"Pipeline Stage Added","project.created":"Instance Created","project.deleted":"Instance Deleted","project.duplicated":"Instance Duplicated","billing.session.created":"Billing Session Created","billing.session.completed":"Billing Session Completed","billing.subscription.deleted":"Billing Subscription Deleted"},"project":{"project.created":"Instance Created","project.deleted":"Instance Deleted","project.started":"Instance Started","project.start-failed":"Instance Start Failed","project.stopped":"Instance Stopped","project.restarted":"Instance Restarted","project.suspended":"Instance Suspended","project.copied":"Instance Copied","project.imported":"Instance Imported","project.assigned-to-pipeline-stage":"Instance Assigned to DevOps Pipeline Stage","project.device.assigned":"Device Assigned to Instance","project.device.unassigned":"Device Unassigned from Instance","project.stack.changed":"Instance Stack Changed","project.settings.updated":"Instance Settings Updated","project.snapshot.created":"Instance Snapshot Created","project.device.snapshot.created":"Device Snapshot Created","project.snapshot.rolled-back":"Instance Rolled Back","project.snapshot.rollback":"Instance Rolled Back","project.snapshot.deleted":"Instance Snapshot Deleted","project.snapshot.device-target-set":"Device Target Set","project.snapshot.imported":"Snapshot Imported","project.snapshot.deviceTarget":"Device Target Set","auth.login":"User Logged In","auth.logout":"User Logged Out","crashed":"Node-RED has crashed","stopped":"Node-RED has stopped","settings.update":"Node-RED Settings Updated","flows.set":"Flow Deployed","library.set":"Saved to Library","nodes.install":"Third-Party Nodes Installed"},"platform":{"platform.license.applied":"License Applied","platform.licence.apply":"License Applied","platform.license.inspected":"License Inspected","platform.licence.inspect":"License Inspected","platform.license.overage":"License Overage","platform.project-type.created":"New Instance Type Created","platform.project-type.deleted":"Instance Type Deleted","platform.project-type.updated":"Instance Type Updated","platform.stack.created":"New Stack Created","platform.stack.deleted":"Stack Deleted","platform.stack.updated":"Stack Updated","platform.settings.updated":"Platform Settings Updated","platform.settings.update":"Platform Settings Updated","user.added":"User Added to Team","user.removed":"User Removed from Team","user.invited":"User Invited to Team","user.uninvited":"User Uninvited from Team","user.roleChanged":"User Role Modified","account.register":"New User Registered","account.login":"User Logged In","account.logout":"User Logged Out","account.forgot-password":"Forgotten Password","account.reset-password":"Reset Password","account.verify.auto-create-team":"Created Team Verified","account.verify.request-token":"Token Requested","account.verify.verify-token":"Request Token Verified","user.updated-user":"User Updated","user.updated-password":"Password Updated","user.invite.accepted":"User Invite Accepted","user.invite.accept":"User Invite Accepted","user.invitations.accept-invite":"User Invite Accepted","user.invite.deleted":"User Invite Deleted","user.invite.delete":"User Invite Deleted","user.invitations.delete-invite":"User Invite Deleted","user.created-user":"User Created","user.deleted":"User Deleted Account","users.deleted-user":"User Deleted","users.updated-user":"User Updated","users.auto-created-team":"Team Created","platform.team.created":"New Team Created","platform.team.deleted":"Team Deleted"}}'),Oa={get(){const e={};return Object.values(Ha).forEach((t=>{for(const[a,i]of Object.entries(t))e[a]=i})),e},getGroup(e){const t=Ha[e],a={};for(const[e,i]of Object.entries(t))a[i]||(a[i]=[]),a[i].push(e);return a}};const Ga={key:1,class:"ff-no-data ff-no-data-large"},Ya={key:2,class:"px-8 py-4"},za={key:1,class:"text-gray-500"},Ka=["disabled"],Xa={ref:"content",class:"ff-accordion--content"};var $a={name:"ff-accordion",props:{label:{type:String,required:!0},setOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{isOpen:!1}},watch:{isOpen:function(e){if(!e)return null;this.$nextTick((()=>2*this.$refs.content.scrollHeight+"px"))}},methods:{toggle:function(){this.disabled||(this.isOpen?this.close():this.open())},open:function(){this.isOpen=!0},close:function(){this.isOpen=!1}},mounted(){this.setOpen&&(this.isOpen=!0)},components:{ChevronLeftIcon:sa.Z}},Qa=(0,f.Z)($a,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ChevronLeftIcon");return(0,n.wg)(),(0,n.iD)("div",{class:(0,l.normalizeClass)(["ff-accordion",{open:s.isOpen}])},[(0,n._)("button",{class:"ff-accordion--button",disabled:a.disabled,onClick:t[0]||(t[0]=e=>o.toggle())},[(0,n._)("label",null,(0,l.toDisplayString)(a.label),1),(0,n._)("div",null,[(0,n.WI)(e.$slots,"meta"),a.disabled?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.j4)(r,{key:0,class:"ff-icon"}))])],8,Ka),(0,n._)("div",Xa,[(0,n.WI)(e.$slots,"content")],512)],2)}]]);const Ja={class:"ff-audit-entry py-1 lg:py-3 border-b text-base"},ei={class:"ff-audit-entry-time"},ti={class:"ff-audit-entry-info flex items-center gap-4 lg:ml-3"},ai={class:"ff-audit-entry-icon text-center"},ii={class:"ff-audit-entry-description"},ni={key:0,class:"ff-audit-entry-trigger"};var si=a(1306),oi=a(9617),ri=a(2014),li=a(1397),ci=a(6571),di=a(7586),pi=a(1200),ui=a(5258),mi=a(1085),hi=a(5275),gi=a(6199),fi=a(7161),vi=a(5181),yi=a(2606),ki=a(6677),bi=a(4402),wi=a(7870),xi=a.n(wi),Ai=a(2662),Di=a.n(Ai),Si=a(7121),Ti=a.n(Si);const Ci={error:["error"],nodered:["crashed","stopped","settings.update","flows.set","library.set","nodes.install"],template:["application.created","application.updated","application.deleted"],project:["project.created","project.deleted","project.duplicated","project.started","project.start-failed","project.stopped","project.restarted","project.suspended"],"project-types":["platform.project-type.created","platform.project-type.deleted","platform.project-type.updated","project.type.changed"],stacks:["platform.stack.created","platform.stack.deleted","platform.stack.updated","project.stack.changed","project.stack.restart"],login:["account.login","auth.login"],logout:["account.logout","auth.logout"],security:["account.verify.auto-create-team","account.verify.request-token","account.verify.verify-token","user.updated-password","account.forgot-password","account.reset-password"],key:["platform.license.applied","platform.license.inspected","platform.licence.apply","platform.licence.inspect"],overage:["platform.license.overage"],settings:["project.copied","project.imported","platform.settings.updated","platform.settings.update","team.settings.updated","project.settings.updated"],"user-profile":["account.register","user.updated-user","users.updated-user","team.user.role-changed","user.roleChanged"],user:["users.created-user","users.deleted-user","team.user.added","team.user.removed","user.added","user.removed"],users:["team.created","team.deleted","platform.team.created","platform.team.deleted","users.auto-created-team"],mail:["user.invite.accepted","user.invite.deleted","team.user.invited","team.user.uninvited","team.user.invite.accepted","team.user.invite.rejected","user.invited","user.invite.accept","user.invitations.accept-invite","user.invite.delete","user.uninvited","user.invitations.delete-invite"],billing:["billing.session.completed","billing.session.created","billing.subscription.updated","billing.subscription.deleted","billing.subscription.credit-applied"],clock:["project.snapshot.created","project.device.snapshot.created","project.snapshot.deleted","project.snapshot.rollback","project.snapshot.rolled-back","project.snapshot.imported"],device:["project.device.unassigned","project.device.assigned","project.snapshot.device-target-set","team.device.created","team.device.deleted","team.device.updated","team.device.unassigned","team.device.assigned","team.device.credentials-generated","team.device.credentialsGenerated","project.snapshot.deviceTarget"],beaker:["team.device.developer-mode.enabled","team.device.developer-mode.disabled","team.device.remote-access.enabled","team.device.remote-access.disabled"],token:["team.device.provisioning.created","team.device.provisioning.updated","team.device.provisioning.deleted"],pipeline:["application.pipeline.created","application.pipeline.deleted","application.pipeline.stage-added","project.assigned-to-pipeline-stage"]};var Ei={name:"AuditLogIcon",props:{event:{required:!0,type:String}},setup(e){for(const[t,a]of Object.entries(Ci))if(a.includes(e.event))return{icon:t};return{icon:"default"}},components:{PipelineIcon:Di(),BeakerIcon:si.Z,DesktopComputerIcon:oi.Z,LockClosedIcon:ri.Z,ProjectIcon:Ti(),NodeRedIcon:xi(),TemplateIcon:li.Z,ChipIcon:ci.Z,ColorSwatchIcon:di.Z,MailIcon:pi.Z,CogIcon:A.Z,KeyIcon:ui.Z,ClockIcon:mi.Z,IdentificationIcon:hi.Z,UserIcon:gi.Z,UserGroupIcon:u.Z,LoginIcon:fi.Z,LogoutIcon:vi.Z,CurrencyDollarIcon:yi.Z,ExclamationCircleIcon:ki.Z,TicketIcon:bi.Z}},Ii=(0,f.Z)(Ei,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("LockClosedIcon"),l=(0,n.up)("CogIcon"),c=(0,n.up)("ProjectIcon"),d=(0,n.up)("NodeRedIcon"),p=(0,n.up)("ClockIcon"),u=(0,n.up)("BeakerIcon"),m=(0,n.up)("DesktopComputerIcon"),h=(0,n.up)("ColorSwatchIcon"),g=(0,n.up)("ChipIcon"),f=(0,n.up)("MailIcon"),v=(0,n.up)("IdentificationIcon"),y=(0,n.up)("UserIcon"),k=(0,n.up)("UserGroupIcon"),b=(0,n.up)("CurrencyDollarIcon"),w=(0,n.up)("KeyIcon"),x=(0,n.up)("LoginIcon"),A=(0,n.up)("LogoutIcon"),D=(0,n.up)("ExclamationCircleIcon"),S=(0,n.up)("TicketIcon"),T=(0,n.up)("TemplateIcon"),C=(0,n.up)("PipelineIcon");return(0,n.wg)(),(0,n.iD)(n.HY,null,["security"===i.icon?((0,n.wg)(),(0,n.j4)(r,{key:0,class:"ff-icon"})):(0,n.kq)("v-if",!0),"settings"===i.icon?((0,n.wg)(),(0,n.j4)(l,{key:1,class:"ff-icon"})):(0,n.kq)("v-if",!0),"project"===i.icon?((0,n.wg)(),(0,n.j4)(c,{key:2,class:"ff-icon text-red-700"})):(0,n.kq)("v-if",!0),"nodered"===i.icon?((0,n.wg)(),(0,n.j4)(d,{key:3,class:"ff-icon text-red-700"})):(0,n.kq)("v-if",!0),"clock"===i.icon?((0,n.wg)(),(0,n.j4)(p,{key:4,class:"ff-icon text-purple-700"})):(0,n.kq)("v-if",!0),"beaker"===i.icon?((0,n.wg)(),(0,n.j4)(u,{key:5,class:"ff-icon text-yellow-600"})):(0,n.kq)("v-if",!0),"stacks"===i.icon?((0,n.wg)(),(0,n.j4)(m,{key:6,class:"ff-icon text-red-700"})):(0,n.kq)("v-if",!0),"project-types"===i.icon?((0,n.wg)(),(0,n.j4)(h,{key:7,class:"ff-icon text-red-700"})):(0,n.kq)("v-if",!0),"device"===i.icon?((0,n.wg)(),(0,n.j4)(g,{key:8,class:"ff-icon text-blue-700"})):(0,n.kq)("v-if",!0),"mail"===i.icon?((0,n.wg)(),(0,n.j4)(f,{key:9,class:"ff-icon text-green-700"})):(0,n.kq)("v-if",!0),"user-profile"===i.icon?((0,n.wg)(),(0,n.j4)(v,{key:10,class:"ff-icon text-green-700"})):(0,n.kq)("v-if",!0),"user"===i.icon?((0,n.wg)(),(0,n.j4)(y,{key:11,class:"ff-icon text-green-700"})):(0,n.kq)("v-if",!0),"users"===i.icon?((0,n.wg)(),(0,n.j4)(k,{key:12,class:"ff-icon text-teal-700"})):(0,n.kq)("v-if",!0),"billing"===i.icon?((0,n.wg)(),(0,n.j4)(b,{key:13,class:"ff-icon text-yellow-500"})):(0,n.kq)("v-if",!0),"key"===i.icon?((0,n.wg)(),(0,n.j4)(w,{key:14,class:"ff-icon text-green-700"})):(0,n.kq)("v-if",!0),"overage"===i.icon?((0,n.wg)(),(0,n.j4)(w,{key:15,class:"ff-icon text-red-700"})):(0,n.kq)("v-if",!0),"login"===i.icon?((0,n.wg)(),(0,n.j4)(x,{key:16,class:"ff-icon text-blue-700"})):(0,n.kq)("v-if",!0),"logout"===i.icon?((0,n.wg)(),(0,n.j4)(A,{key:17,class:"ff-icon text-gray-600"})):(0,n.kq)("v-if",!0),"error"===i.icon?((0,n.wg)(),(0,n.j4)(D,{key:18,class:"ff-icon text-red-500"})):(0,n.kq)("v-if",!0),"token"===i.icon?((0,n.wg)(),(0,n.j4)(S,{key:19,class:"ff-icon text-blue-500"})):(0,n.kq)("v-if",!0),"template"===i.icon?((0,n.wg)(),(0,n.j4)(T,{key:20,class:"ff-icon text-red-700"})):(0,n.kq)("v-if",!0),"pipeline"===i.icon?((0,n.wg)(),(0,n.j4)(C,{key:21,class:"ff-icon text-indigo-600"})):(0,n.kq)("v-if",!0)],64)}]]);const _i={key:0},Ui={key:0},Vi={key:1},ji={key:0},Pi={key:1},Zi={key:0},Mi={key:1},Bi={key:0},Fi={key:1},Wi={key:0},Ni={key:1},Ri={key:0},Li={key:1},qi={key:0},Hi={key:1},Oi={key:0},Gi={key:1},Yi={key:0},zi={key:1},Ki={key:0},Xi={key:1},$i={key:0},Qi={key:1},Ji={key:0},en={key:1},tn={key:0},an={key:1},nn={key:0},sn={key:1},on={key:0},rn={key:1},ln={key:0},cn={key:1},dn={key:0},pn={key:1},un={key:0},mn={key:1},hn={key:0},gn={key:1},fn={key:0},vn={key:1},yn={key:0},kn={key:1},bn={key:0},wn={key:1},xn={key:0},An={key:1},Dn={key:0},Sn={key:1},Tn={key:0},Cn={key:1},En={key:0},In={key:1},_n={key:0},Un={key:1},Vn={key:0},jn={key:1},Pn={key:0},Zn={key:1},Mn={key:0},Bn={key:0},Fn={key:0},Wn={key:1},Nn={key:0},Rn={key:1},Ln={key:0},qn={key:1},Hn={key:0},On={key:1},Gn={key:0},Yn={key:1},zn={key:0},Kn={key:1},Xn={key:0},$n={key:1},Qn={key:0},Jn={key:1},es={key:0},ts={key:1},as={key:0},is={key:1},ns={key:0},ss={key:1},os={key:0},rs={key:1},ls={key:0},cs={key:1},ds={key:0},ps={key:1},us={key:0},ms={key:1},hs={key:0},gs={key:1},fs={key:0},vs={key:1},ys={key:0},ks={key:1},bs={key:0},ws={key:1},xs={key:0},As={key:1},Ds={key:0},Ss={key:1},Ts={key:0},Cs={key:1},Es={key:0},Is={key:1},_s={key:0},Us={key:1},Vs={key:0},js={key:1},Ps={key:0},Zs={key:1},Ms={key:0},Bs={key:1},Fs={key:0},Ws={key:1},Ns={key:0},Rs={key:1},Ls={key:0},qs={key:1},Hs={key:0},Os={key:1},Gs={key:0},Ys={key:1},zs={key:0},Ks={key:1},Xs={key:0},$s={key:1},Qs={key:0},Js={key:1},eo={key:0},to={key:1},ao={key:0},io={key:1},no={key:0},so={key:1},oo={key:0},ro={key:1},lo={key:0},co={key:1},po={key:0},uo={key:1},mo=(0,n._)("label",null,"Instance Type Changed",-1),ho={key:0},go={key:1},fo={key:0},vo={key:1},yo={key:0},ko={key:1},bo={key:0},wo={key:1},xo={key:0},Ao={key:1},Do={key:0},So={key:1},To={key:0},Co={key:1},Eo={key:0},Io={key:1},_o={key:0},Uo={key:1},Vo={key:0},jo={key:1},Po=(0,n._)("span",null,"Something has gone wrong. Check the instance logs to investigate further.",-1),Zo=(0,n._)("span",null,"Something has gone wrong. Check the instance logs to investigate further.",-1),Mo=(0,n._)("span",null,"Node-RED editor user settings have been updated.",-1),Bo=(0,n._)("span",null,"A new flow has been deployed",-1),Fo=(0,n._)("span",null,"A flow or function has been saved to the Library",-1),Wo=(0,n._)("span",null,'Nodes have been installed via the "Manage Palette" option inside Node-RED',-1),No=(0,n._)("span",null,"We have no details available for this event type",-1),Ro={key:90,class:"ff-audit-entry--error"};var Lo=a(1461),qo=a(6523),Ho={name:"AuditEntryUpdates",props:{updates:{type:Array,required:!0}}};var Oo=(0,f.Z)(Ho,[["render",function(e,t,a,i,s,o){return(0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.updates,((e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:e.key},[(0,n.Uk)(" '"+(0,l.toDisplayString)(e.key)+"' has been changed from '"+(0,l.toDisplayString)(e.old)+"' to '"+(0,l.toDisplayString)(e.new)+"'",1),t<a.updates.length-1?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)(", ")],64)):(0,n.kq)("v-if",!0)],64)))),128)}]]),Go={name:"AuditEntryVerbose",props:{entry:{type:Object,required:!0}},computed:{error:function(){return void 0!==this.entry.body?.error}},setup(){return{AuditEvents:Oa.get()}},components:{ChevronRightIcon:Lo.Z,ChevronDownIcon:qo.Z,AuditEntryUpdates:Oo}},Yo={name:"AuditLogEntry",props:{entry:{required:!0,type:Object}},components:{AuditEntryIcon:Ii,AuditEntryVerbose:(0,f.Z)(Go,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("AuditEntryUpdates"),c=(0,n.up)("ChevronRightIcon"),d=(0,n.up)("ChevronDownIcon");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.kq)(" "),o.error?((0,n.wg)(),(0,n.iD)("label",_i,"Error: ")):(0,n.kq)("v-if",!0),(0,n.kq)(" Team Scoped Events "),"team.created"===a.entry.event||"platform.team.created"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.team?((0,n.wg)(),(0,n.iD)("span",Ui,"Team '"+(0,l.toDisplayString)(a.entry.body.team?.name)+"' has been created.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Vi,"Team data not found in audit entry."))],64)):"team.deleted"===a.entry.event||"platform.team.deleted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:2},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.team?((0,n.wg)(),(0,n.iD)("span",ji,"Team '"+(0,l.toDisplayString)(a.entry.body.team?.name)+"' has been deleted.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Pi,"Team data not found in audit entry."))],64)):"team.user.added"===a.entry.event||"user.added"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:3},[(0,n.kq)(" Team User Events "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",Zi,"User '"+(0,l.toDisplayString)(a.entry.body.user.name)+"' has been added to the team.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Mi,"User data not found in audit entry."))],64)):"team.user.removed"===a.entry.event||"user.removed"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:4},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",Bi,"User '"+(0,l.toDisplayString)(a.entry.body.user.name)+"' has been removed from the team.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Fi,"User data not found in audit entry."))],64)):"team.user.invited"===a.entry.event||"user.invited"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:5},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",Wi,"User '"+(0,l.toDisplayString)(a.entry.body.user.name)+"' has been invited to the team.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Ni,"User data not found in audit entry."))],64)):"team.user.uninvited"===a.entry.event||"user.uninvited"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:6},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",Ri,"User '"+(0,l.toDisplayString)(a.entry.body.user.name)+"' has been uninvited from the team.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Li,"User data not found in audit entry."))],64)):"team.user.invite.accepted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:7},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",qi,"User '"+(0,l.toDisplayString)(a.entry.body.user.name)+"' has accepted the invite to join the team"+(0,l.toDisplayString)(a.entry.body.role?` as a ${a.entry.body.role}`:"")+".",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Hi,"User data not found in audit entry."))],64)):"team.user.invite.rejected"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:8},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",Oi,"User '"+(0,l.toDisplayString)(a.entry.body.user.name)+"' has rejected the invite to join the team"+(0,l.toDisplayString)(a.entry.body.role?` as a ${a.entry.body.role}`:"")+".",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Gi,"User data not found in audit entry."))],64)):"team.user.role-changed"===a.entry.event||"user.roleChanged"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:9},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",Yi,[(0,n.Uk)("The role for '"+(0,l.toDisplayString)(a.entry.body.user.name)+"' has been changed ",1),(0,n.Wm)(r,{updates:a.entry.body.updates},null,8,["updates"]),(0,n.Uk)(".")])):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",zi,"User data not found in audit entry."))],64)):"team.settings.updated"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:10},[(0,n.kq)(" Team Settings Events "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.updates?((0,n.wg)(),(0,n.iD)("span",Ki,[(0,n.Uk)("The following updates have been made to the team settings: "),(0,n.Wm)(r,{updates:a.entry.body.updates},null,8,["updates"]),(0,n.Uk)(".")])):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Xi,"Updates not found in audit entry."))],64)):"team.device.developer-mode.enabled"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:11},[(0,n.kq)(" Team Device Developer Mode "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.device?((0,n.wg)(),(0,n.iD)("span",$i,"Developer Mode has been enabled for the Device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Qi,"Device data not found in audit entry."))],64)):"team.device.developer-mode.disabled"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:12},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.device?((0,n.wg)(),(0,n.iD)("span",Ji,"Developer Mode has been disabled for the Device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",en,"Device data not found in audit entry."))],64)):"team.device.remote-access.enabled"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:13},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.device?((0,n.wg)(),(0,n.iD)("span",tn,"Remote Access has been enabled for device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",an,"Device data not found in audit entry."))],64)):"team.device.remote-access.disabled"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:14},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.device?((0,n.wg)(),(0,n.iD)("span",nn,"Remote Access has been disabled for device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",sn,"Device data not found in audit entry."))],64)):"team.device.created"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:15},[(0,n.kq)(" Team Device Events "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.device?((0,n.wg)(),(0,n.iD)("span",on,"Device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"' has been created.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",rn,"Device data not found in audit entry."))],64)):"team.device.deleted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:16},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.device?((0,n.wg)(),(0,n.iD)("span",ln,"Device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"' has been deleted.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",cn,"Device data not found in audit entry."))],64)):"team.device.updated"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:17},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.device?((0,n.wg)(),(0,n.iD)("span",dn,[(0,n.Uk)("Device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"' has been updated with the following changes: ",1),(0,n.Wm)(r,{updates:a.entry.body.updates},null,8,["updates"]),(0,n.Uk)(".")])):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",pn,"Device data not found in audit entry."))],64)):"team.device.assigned"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:18},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.device?((0,n.wg)(),(0,n.iD)("span",un,"Device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"' has been assigned from the Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",mn,"Device data not found in audit entry."))],64)):"team.device.unassigned"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:19},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.device?((0,n.wg)(),(0,n.iD)("span",hn,"Device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"' has been unassigned from the Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",gn,"Device data not found in audit entry."))],64)):"team.device.credentials-generated"===a.entry.event||"team.device.credentialsGenerated"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:20},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.device?((0,n.wg)(),(0,n.iD)("span",fn,"Credentials generated for Device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",vn,"Device data not found in audit entry."))],64)):"team.device.provisioning.created"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:21},[(0,n.kq)(" Team Device Auto Provisioning Tokens Events "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.info?((0,n.wg)(),(0,n.iD)("span",yn,"Token name '"+(0,l.toDisplayString)(a.entry.body.info.tokenName)+"' was generated.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",kn,"Provisioning data not found in audit entry."))],64)):"team.device.provisioning.updated"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:22},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.info?((0,n.wg)(),(0,n.iD)("span",bn,[(0,n.Uk)("Token name '"+(0,l.toDisplayString)(a.entry.body.info.tokenName)+"' with ID '"+(0,l.toDisplayString)(a.entry.body.info.tokenId)+"' has been updated with the following changes: ",1),(0,n.Wm)(r,{updates:a.entry.body.updates},null,8,["updates"])])):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",wn,"Provisioning data not found in audit entry."))],64)):"team.device.provisioning.deleted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:23},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.info?((0,n.wg)(),(0,n.iD)("span",xn,"Token Name '"+(0,l.toDisplayString)(a.entry.body.info.tokenName)+"' with ID '"+(0,l.toDisplayString)(a.entry.body.info.tokenId)+"' was deleted.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",An,"Provisioning data not found in audit entry."))],64)):"account.register"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:24},[(0,n.kq)(" Account Scoped Events "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",Dn,"'"+(0,l.toDisplayString)(a.entry.body.user?.username)+"' has registered on FlowForge.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Sn,"User data not found in audit entry."))],64)):"account.login"===a.entry.event||"auth.login"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:25},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.trigger?.name?((0,n.wg)(),(0,n.iD)("span",Tn,"User '"+(0,l.toDisplayString)(a.entry.trigger.name)+"' has logged in.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Cn,"User data not found in audit entry."))],64)):"account.logout"===a.entry.event||"auth.logout"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:26},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.trigger?.name?((0,n.wg)(),(0,n.iD)("span",En,"User '"+(0,l.toDisplayString)(a.entry.trigger.name)+"' has logged out.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",In,"User data not found in audit entry."))],64)):"account.forgot-password"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:27},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",_n,"'"+(0,l.toDisplayString)(a.entry.body.user?.name)+"' has forgotten their password.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Un,"User data not found in audit entry."))],64)):"account.reset-password"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:28},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",Vn,"'"+(0,l.toDisplayString)(a.entry.body.user?.name)+"' has reset their password.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",jn,"User data not found in audit entry."))],64)):"account.verify.auto-create-team"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:29},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.team?((0,n.wg)(),(0,n.iD)("span",Pn,"The team '"+(0,l.toDisplayString)(a.entry.body.team?.name)+"' has been created and verified.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Zn,"Team data not found in audit entry."))],64)):"account.verify.request-token"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:30},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Mn,"A token has been requested."))],64)):"account.verify.verify-token"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:31},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Bn,"The request token has been verified successfully."))],64)):"user.updated-user"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:32},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",Fn,"User '"+(0,l.toDisplayString)(a.entry.body.user?.name)+"' has been updated, with the following changes:",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Wn,"User data not found in audit entry."))],64)):"user.updated-password"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:33},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",Nn,"User '"+(0,l.toDisplayString)(a.entry.body.user?.name)+"' has updated their password",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Rn,"User data not found in audit entry."))],64)):"user.invite.accepted"===a.entry.event||"user.invite.accept"===a.entry.event||"user.invitations.accept-invite"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:34},[(0,n.kq)(" TODO: Add team/invite data to this event "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.trigger.user?((0,n.wg)(),(0,n.iD)("span",Ln,"User '"+(0,l.toDisplayString)(a.entry.trigger.user?.name)+"' has accepted the invite.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",qn,"User data not found in audit entry."))],64)):"user.invite.deleted"===a.entry.event||"user.invite.delete"===a.entry.event||"user.invitations.delete-invite"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:35},[(0,n.kq)(" TODO: Add team/invite data to this event "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.trigger.user?((0,n.wg)(),(0,n.iD)("span",Hn,"User '"+(0,l.toDisplayString)(a.entry.trigger.user?.name)+"' has deleted the invite.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",On,"User data not found in audit entry."))],64)):"user.created-user"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:36},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.trigger.user&&a.entry.body.user?((0,n.wg)(),(0,n.iD)("span",Gn,"User '"+(0,l.toDisplayString)(a.entry.trigger.user?.name)+"' has created a new user, '"+(0,l.toDisplayString)(a.entry.body.user?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Yn,"User data not found in audit entry."))],64)):"user.deleted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:37},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",zn,"User '"+(0,l.toDisplayString)(a.entry.body?.user?.name)+"' has deleted their account.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Kn,"User data not found in audit entry."))],64)):"users.deleted-user"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:38},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.trigger.user&&a.entry.body.user?((0,n.wg)(),(0,n.iD)("span",Xn,"User '"+(0,l.toDisplayString)(a.entry.trigger.user?.name)+"' has deleted the user, '"+(0,l.toDisplayString)(a.entry.body.user?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",$n,"User data not found in audit entry."))],64)):"users.updated-user"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:39},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.user?((0,n.wg)(),(0,n.iD)("span",Qn,"User '"+(0,l.toDisplayString)(a.entry.body.user?.name)+"' has been updated, with the following changes "+(0,l.toDisplayString)(a.entry.body.updates)+".",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Jn,"User data not found in audit entry."))],64)):"users.auto-created-team"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:40},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.team?((0,n.wg)(),(0,n.iD)("span",es,"Team '"+(0,l.toDisplayString)(a.entry.body.team?.name)+"' has been created for the User '"+(0,l.toDisplayString)(a.entry.body.user?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",ts,"Team data not found in audit entry."))],64)):"billing.session.created"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:41},[(0,n.kq)(" Billing Events "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.billingSession?((0,n.wg)(),(0,n.iD)("span",as,"A billing session has been created with Stripe.")):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",is,"Billing data not found in audit entry."))],64)):"billing.session.completed"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:42},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.billingSession?((0,n.wg)(),(0,n.iD)("span",ns,"The billing session has been completed via Stripe.")):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",ss,"Billing data not found in audit entry."))],64)):"billing.subscription.deleted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:43},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.billingSession?((0,n.wg)(),(0,n.iD)("span",os)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",rs,"Billing data not found in audit entry."))],64)):"platform.license.applied"===a.entry.event||"platform.licence.apply"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:44},[(0,n.kq)(" Platform License Events "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.license?((0,n.wg)(),(0,n.iD)("span",ls,"A new license has been applied with the following details: "+(0,l.toDisplayString)(a.entry.body.license),1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",cs,"License data not found in audit entry."))],64)):"platform.license.inspected"===a.entry.event||"platform.licence.inspect"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:45},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.license?((0,n.wg)(),(0,n.iD)("span",ds,"A license was inspected with the following details: "+(0,l.toDisplayString)(a.entry.body.license),1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",ps,"License data not found in audit entry."))],64)):"platform.license.overage"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:46},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),o.error||"object"!=typeof a.entry.body?.info?o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",ms,"License data not found in audit entry.")):((0,n.wg)(),(0,n.iD)("span",us,"Type: '"+(0,l.toDisplayString)(a.entry.body.info.resource)+"', Limit: "+(0,l.toDisplayString)(a.entry.body.info.limit)+", Count: "+(0,l.toDisplayString)(a.entry.body.info.count),1))],64)):"platform.project-type.created"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:47},[(0,n.kq)(" Platform instance type Events "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.projectType?((0,n.wg)(),(0,n.iD)("span",hs,"A new instance type '"+(0,l.toDisplayString)(a.entry.body.projectType)+"' has been created.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",gs,"Instance Type data not found in audit entry."))],64)):"platform.project-type.deleted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:48},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.projectType?((0,n.wg)(),(0,n.iD)("span",fs,"Instance type '"+(0,l.toDisplayString)(a.entry.body.projectType)+"' has been deleted.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",vs,"Instance Type data not found in audit entry."))],64)):"platform.project-type.updated"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:49},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.projectType?((0,n.wg)(),(0,n.iD)("span",ys,[(0,n.Uk)("Instance type '"+(0,l.toDisplayString)(a.entry.body.projectType)+"' has been updated with the following changes: ",1),(0,n.Wm)(r,{updates:a.entry.body.updates},null,8,["updates"])])):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",ks,"Instance Type data not found in audit entry."))],64)):"platform.stack.created"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:50},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.stack?((0,n.wg)(),(0,n.iD)("span",bs,"Stack '"+(0,l.toDisplayString)(a.entry.body.stack.name)+"' has been created.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",ws,"Stack data not found in audit entry."))],64)):"platform.stack.deleted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:51},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.stack?((0,n.wg)(),(0,n.iD)("span",xs,"Stack '"+(0,l.toDisplayString)(a.entry.body.stack.name)+"' has been deleted.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",As,"Stack data not found in audit entry."))],64)):"platform.stack.updated"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:52},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.stack?((0,n.wg)(),(0,n.iD)("span",Ds,[(0,n.Uk)("Stack '"+(0,l.toDisplayString)(a.entry.body.stack.name)+"' has been updated with the following changes: ",1),(0,n.Wm)(r,{updates:a.entry.body.updates},null,8,["updates"])])):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Ss,"Stack data not found in audit entry."))],64)):"platform.settings.updated"===a.entry.event||"platform.settings.update"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:53},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.updates?((0,n.wg)(),(0,n.iD)("span",Ts,[(0,n.Uk)("Platform settings have been updated with the following changes: "),(0,n.Wm)(r,{updates:a.entry.body.updates},null,8,["updates"])])):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Cs,"Update data not found in audit entry."))],64)):"application.created"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:54},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.application?((0,n.wg)(),(0,n.iD)("span",Es,"Application "+(0,l.toDisplayString)(a.entry.body.application?.name)+" was created "+(0,l.toDisplayString)(a.entry.body.team?`in Team '${a.entry.body.team.name}'`:""),1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Is,"Instance data not found in audit entry."))],64)):"application.updated"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:55},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.updates?((0,n.wg)(),(0,n.iD)("span",_s,[(0,n.Uk)("The following updates have been made to the Application: "),(0,n.Wm)(r,{updates:a.entry.body.updates},null,8,["updates"]),(0,n.Uk)(".")])):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Us,"Updates not found in audit entry."))],64)):"application.deleted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:56},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.application?((0,n.wg)(),(0,n.iD)("span",Vs,"Application "+(0,l.toDisplayString)(a.entry.body.application?.name)+" was deleted "+(0,l.toDisplayString)(a.entry.body.team?`in Team '${a.entry.body.team.name}'`:""),1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",js,"Application data not found in audit entry."))],64)):"application.pipeline.created"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:57},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.pipeline?((0,n.wg)(),(0,n.iD)("span",Ps,"DevOps Pipeline '"+(0,l.toDisplayString)(a.entry.body.pipeline?.name)+"' has been created "+(0,l.toDisplayString)(a.entry.body.application?`in Application '${a.entry.body.application.name}'`:""),1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Zs,"Pipeline data not found in audit entry."))],64)):"application.pipeline.deleted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:58},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.pipeline?((0,n.wg)(),(0,n.iD)("span",Ms,"DevOps Pipeline '"+(0,l.toDisplayString)(a.entry.body.pipeline?.name)+"' was deleted "+(0,l.toDisplayString)(a.entry.body.application?`in Application '${a.entry.body.application.name}'`:""),1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Bs,"Pipeline data not found in audit entry."))],64)):"application.pipeline.stage-added"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:59},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.pipeline&&a.entry.body?.pipelineStage?((0,n.wg)(),(0,n.iD)("span",Fs,"Pipeline Stage '"+(0,l.toDisplayString)(a.entry.body.pipelineStage?.name)+"' was added to the DevOps Pipeline '"+(0,l.toDisplayString)(a.entry.body.pipeline?.name)+"' "+(0,l.toDisplayString)(a.entry.body.application?`in Application '${a.entry.body.application.name}'`:""),1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Ws,"Pipeline data not found in audit entry."))],64)):"project.created"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:60},[(0,n.kq)(" Instance Events "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",Ns,"Instance "+(0,l.toDisplayString)(a.entry.body.project?.name)+" was created "+(0,l.toDisplayString)(a.entry.body.team?`in Team '${a.entry.body.team.name}'`:""),1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Rs,"Instance data not found in audit entry."))],64)):"project.deleted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:61},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",Ls,"Instance "+(0,l.toDisplayString)(a.entry.body.project?.name)+" was deleted "+(0,l.toDisplayString)(a.entry.body.team?`in Team '${a.entry.body.team.name}'`:""),1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",qs,"Instance data not found in audit entry."))],64)):"project.duplicated"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:62},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.sourceProject&&a.entry.body.project?((0,n.wg)(),(0,n.iD)("span",Hs,"Instance '"+(0,l.toDisplayString)(a.entry.body.sourceProject?.name)+"' was duplicated to a new Instance '"+(0,l.toDisplayString)(a.entry.body.project.name)+"'",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Os,"Instance data not found in audit entry."))],64)):"project.started"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:63},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",Gs,"Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"' was started.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Ys,"Instance data not found in audit entry."))],64)):"project.start-failed"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:64},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",zs,"Something went wrong, and we were unable to start Instance '"+(0,l.toDisplayString)(a.entry.body.project.name)+"'. Please check the logs to find out more.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Ks,"Instance data not found in audit entry."))],64)):"project.stopped"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:65},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",Xs,"Instance '"+(0,l.toDisplayString)(a.entry.body.project.name)+"' was stopped.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",$s,"Instance data not found in audit entry."))],64)):"project.restarted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:66},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",Qs,"Instance '"+(0,l.toDisplayString)(a.entry.body.project.name)+"' was restarted.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Js,"Instance data not found in audit entry."))],64)):"project.suspended"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:67},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",eo,"Instance '"+(0,l.toDisplayString)(a.entry.body.project.name)+"' was suspended.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",to,"Instance data not found in audit entry."))],64)):"project.copied"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:68},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project&&a.entry.body?.targetProject?((0,n.wg)(),(0,n.iD)("span",ao,"Instance '"+(0,l.toDisplayString)(a.entry.body.project.name)+"' was copied to '"+(0,l.toDisplayString)(a.entry.body.targetProject.name)+"'",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",io,"Instance data not found in audit entry."))],64)):"project.imported"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:69},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project&&a.entry.body?.sourceProject?((0,n.wg)(),(0,n.iD)("span",no,"Instance '"+(0,l.toDisplayString)(a.entry.body.sourceProject.name)+"' was copied to '"+(0,l.toDisplayString)(a.entry.body.project.name)+"'",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",so,"Instance data not found in audit entry."))],64)):"project.assigned-to-pipeline-stage"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:70},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",oo,"Instance '"+(0,l.toDisplayString)(a.entry.body.project.name)+"' was assigned to the '"+(0,l.toDisplayString)(a.entry.body.pipelineStage.name)+"' Stage in the '"+(0,l.toDisplayString)(a.entry.body.pipeline.name)+"' Pipeline",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",ro,"Instance data not found in audit entry."))],64)):"project.device.assigned"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:71},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",lo,"Device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"' was assigned to Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"'",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",co,"Instance data not found in audit entry."))],64)):"project.device.unassigned"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:72},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",po,"Device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"' was unassigned from Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"'",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",uo,"Instance data not found in audit entry."))],64)):"project.type.changed"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:73},[mo,!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",ho,"The type for Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"' has been changed to Type '"+(0,l.toDisplayString)(a.entry.body.projectType?.name)+"'",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",go,"Instance data not found in audit entry."))],64)):"project.stack.changed"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:74},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",fo,"The stack for Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"' has been changed to Stack '"+(0,l.toDisplayString)(a.entry.body.stack?.name)+"'",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",vo,"Instance data not found in audit entry."))],64)):"project.stack.restart"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:75},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",yo,"The stack for Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"' has been restarted",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",ko,"Instance data not found in audit entry."))],64)):"project.settings.updated"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:76},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project?((0,n.wg)(),(0,n.iD)("span",bo,[(0,n.Uk)("Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"' has had the following changes made to its settings: ",1),(0,n.Wm)(r,{updates:a.entry.body.updates},null,8,["updates"])])):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",wo,"Instance data not found in audit entry."))],64)):"project.snapshot.created"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:77},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project&&a.entry.body.snapshot?((0,n.wg)(),(0,n.iD)("span",xo,"A new Snapshot '"+(0,l.toDisplayString)(a.entry.body.snapshot?.name)+"' has been created for Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Ao,"Instance data not found in audit entry."))],64)):"project.device.snapshot.created"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:78},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project&&a.entry.body.snapshot?((0,n.wg)(),(0,n.iD)("span",Do,"A new Snapshot '"+(0,l.toDisplayString)(a.entry.body.snapshot?.name)+"' has been created from Device '"+(0,l.toDisplayString)(a.entry.body.device?.name)+"' for Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",So,"Instance data not found in audit entry."))],64)):"project.snapshot.rolled-back"===a.entry.event||"project.snapshot.rollback"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:79},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project&&a.entry.body.snapshot?((0,n.wg)(),(0,n.iD)("span",To,"Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"' has been rolled back to the Snapshot '"+(0,l.toDisplayString)(a.entry.body.snapshot?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Co,"Instance data not found in audit entry."))],64)):"project.snapshot.deleted"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:80},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project&&a.entry.body.snapshot?((0,n.wg)(),(0,n.iD)("span",Eo,"Snapshot '"+(0,l.toDisplayString)(a.entry.body.snapshot?.name)+"' has been deleted in Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Io,"Instance data not found in audit entry."))],64)):"project.snapshot.device-target-set"===a.entry.event||"project.snapshot.deviceTarget"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:81},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project&&a.entry.body.snapshot?((0,n.wg)(),(0,n.iD)("span",_o,"Snapshot '"+(0,l.toDisplayString)(a.entry.body.snapshot?.name)+"' has been set as the device target for Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Uo,"Instance data not found in audit entry."))],64)):"project.snapshot.imported"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:82},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),!o.error&&a.entry.body?.project&&a.entry.body.snapshot?((0,n.wg)(),(0,n.iD)("span",Vo,"Snapshot '"+(0,l.toDisplayString)(a.entry.body.snapshot?.name)+"' has been imported for Instance '"+(0,l.toDisplayString)(a.entry.body.project?.name)+"' from Instance '"+(0,l.toDisplayString)(a.entry.body.sourceProject?.name)+"'.",1)):o.error?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",jo,"Instance data not found in audit entry."))],64)):"crashed"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:83},[(0,n.kq)(" Node-RED Events "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),Po],64)):"stopped"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:84},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),Zo],64)):"settings.update"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:85},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),Mo],64)):"flows.set"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:86},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),Bo],64)):"library.set"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:87},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),Fo],64)):"nodes.install"===a.entry.event?((0,n.wg)(),(0,n.iD)(n.HY,{key:88},[(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event]),1),Wo],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:89},[(0,n.kq)(" Catch All "),(0,n._)("label",null,(0,l.toDisplayString)(i.AuditEvents[a.entry.event])+": "+(0,l.toDisplayString)(a.entry.event),1),No],64)),o.error?((0,n.wg)(),(0,n.iD)("details",Ro,[(0,n._)("summary",null,[(0,n.Wm)(c,{class:"ff-icon ff-icon-sm"}),(0,n.Uk)(" Show Error ")]),(0,n._)("span",null,[(0,n.Uk)((0,l.toDisplayString)(a.entry.body)+" ",1),(0,n.Wm)(d,{class:"ff-icon ff-icon-sm"})])])):(0,n.kq)("v-if",!0)],64)}]])}},zo={name:"AuditLog",props:{entries:{type:[null,Array],required:!0},showLoadMore:{type:Boolean,default:!0},disableAccordion:{type:Boolean,default:!1}},emits:["load-more"],computed:{hasNoEntries(){return 0===Object.keys(this.logEntriesByDate).length},logEntriesByDate(){const e={};let t=null;return this.entries?.forEach((a=>{const i=new Date(a.createdAt),n=i.toDateString();e[n]||(e[n]=[]),n!==t&&(a.date=i.toDateString(),t=n),a.time?a.date&&(t=a.date):a.time=i.toLocaleTimeString(),e[n].push(a)})),e}},data(){return{loading:!1,nextCursor:!1}},methods:{loadMore:async function(){this.$emit("load-more")}},components:{"ff-accordion":Qa,AuditEntry:(0,f.Z)(Yo,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("AuditEntryIcon"),c=(0,n.up)("AuditEntryVerbose");return(0,n.wg)(),(0,n.iD)("div",Ja,[(0,n.kq)(" Time "),(0,n._)("div",ei,(0,l.toDisplayString)(a.entry.time),1),(0,n.kq)(" Icon "),(0,n._)("div",ti,[(0,n._)("div",ai,[a.entry.body?.error?((0,n.wg)(),(0,n.j4)(r,{key:0,event:"error"})):((0,n.wg)(),(0,n.j4)(r,{key:1,event:a.entry.event},null,8,["event"]))]),(0,n.kq)(" Event "),(0,n._)("div",ii,[(0,n.Wm)(c,{entry:a.entry},null,8,["entry"])])]),(0,n.kq)(" User/Trigger "),"unknown"!==a.entry.trigger.name?((0,n.wg)(),(0,n.iD)("div",ni,(0,l.toDisplayString)(a.entry.trigger.name),1)):(0,n.kq)("v-if",!0)])}]])}},Ko=a(3379),Xo=a.n(Ko),$o=a(7795),Qo=a.n($o),Jo=a(569),er=a.n(Jo),tr=a(3565),ar=a.n(tr),ir=a(9216),nr=a.n(ir),sr=a(4589),or=a.n(sr),rr=a(2660),lr={};lr.styleTagTransform=or(),lr.setAttributes=ar(),lr.insert=er().bind(null,"head"),lr.domAPI=Qo(),lr.insertStyleElement=nr(),Xo()(rr.Z,lr),rr.Z&&rr.Z.locals&&rr.Z.locals;var cr=(0,f.Z)(zo,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),c=(0,n.up)("AuditEntry"),d=(0,n.up)("ff-accordion");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.loading?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Loading Activity..."})):(0,n.kq)("v-if",!0),o.hasNoEntries&&!s.loading?((0,n.wg)(),(0,n.iD)("div",Ga," No Activity Found ")):(0,n.kq)("v-if",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.logEntriesByDate,((e,t,i)=>((0,n.wg)(),(0,n.j4)(d,{key:t,label:t,"set-open":i<3,"data-el":"accordion",disabled:a.disableAccordion},{meta:(0,n.w5)((()=>[(0,n._)("span",null,(0,l.toDisplayString)(e.length)+" Event"+(0,l.toDisplayString)(1===e.length?"":"s"),1)])),content:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.id},[(0,n.Wm)(c,{entry:e},null,8,["entry"])])))),128))])),_:2},1032,["label","set-open","disabled"])))),128)),!o.hasNoEntries&&!1!==a.showLoadMore&&s.nextCursor?((0,n.wg)(),(0,n.iD)("div",Ya,[s.loading?((0,n.wg)(),(0,n.iD)("div",za,"Loading...")):((0,n.wg)(),(0,n.iD)("a",{key:0,class:"forge-button-inline",onClick:t[0]||(t[0]=(0,Oe.withModifiers)(((...e)=>o.loadMore&&o.loadMore(...e)),["stop"]))},"Load more..."))])):(0,n.kq)("v-if",!0)],64)}]]),dr={name:"AuditLogPage",components:{AuditLog:cr,SectionTopMenu:Wa,FormHeading:Pe.Z},inheritAttrs:!1,props:{users:{type:Array,required:!0},logEntries:{type:Array,required:!0},logType:{type:String,required:!0}},emits:["load-entries"],data(){return{loading:!0,auditFilters:{type:void 0,types:[],user:null,users:[]}}},watch:{"auditFilters.user":function(){this.loadEntries()},"auditFilters.type":function(){this.loadEntries()},users:function(e){this.auditFilters.users=e}},created(){this.loadEntries(),this.auditFilters.types=Object.entries(Oa.getGroup(this.logType)).sort(((e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0)),this.auditFilters.users=this.users},methods:{loadEntries(){const e=new URLSearchParams;this.auditFilters.user&&e.append("username",this.auditFilters.user),this.auditFilters.type&&this.auditFilters.type.forEach((t=>{e.append("event",t)})),this.$emit("load-entries",e)}}};const pr=(0,f.Z)(dr,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("AuditLog"),l=(0,n.up)("SectionTopMenu"),c=(0,n.up)("FormHeading"),d=(0,n.up)("ff-dropdown-option"),p=(0,n.up)("ff-dropdown");return(0,n.wg)(),(0,n.iD)("div",Na,[(0,n._)("div",Ra,[(0,n.WI)(e.$slots,"title"),(0,n.Wm)(r,{entries:a.logEntries},null,8,["entries"])]),(0,n._)("div",null,[(0,n.Wm)(l,{hero:"Filters"}),(0,n.WI)(e.$slots,"extraFilters"),(0,n.Wm)(c,{class:"mt-4"},{default:(0,n.w5)((()=>[(0,n.Uk)("Event Type:")])),_:1}),(0,n._)("div",La,[(0,n.Wm)(p,{modelValue:s.auditFilters.type,"onUpdate:modelValue":t[0]||(t[0]=e=>s.auditFilters.type=e),class:"w-full"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"Show All",value:void 0}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.auditFilters.types,(e=>((0,n.wg)(),(0,n.j4)(d,{key:e[1],label:`${e[0]}`,value:e[1]},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,n.Wm)(c,{class:"mt-4"},{default:(0,n.w5)((()=>[(0,n.Uk)("User:")])),_:1}),(0,n._)("div",qa,[(0,n.Wm)(p,{modelValue:s.auditFilters.user,"onUpdate:modelValue":t[1]||(t[1]=e=>s.auditFilters.user=e),class:"w-full"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"Show All",value:void 0}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.auditFilters.users,(e=>((0,n.wg)(),(0,n.j4)(d,{key:e.username,label:`${e.name} (${e.username})`,value:e.username},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])])}]]);var ur=pr,mr={name:"PlatformAuditLog",components:{SectionTopMenu:Wa,AuditLogBrowser:ur},data(){return{logEntries:[],users:[]}},computed:{...(0,o.rn)("account",["user"])},created(){this.loadUsers()},methods:{async loadUsers(){this.users=(await Aa()).users},async loadEntries(e=new URLSearchParams,t=void 0){this.logEntries=(await(async(e,t,a)=>{const i=(0,ka.Z)("/api/v1/admin/audit-log",t,a);return ba.Z.get(i,{params:e}).then((e=>e.data))})(e,t,200)).log}}},hr=(0,f.Z)(mr,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("AuditLogBrowser");return(0,n.wg)(),(0,n.j4)(l,{ref:"AuditLog",users:s.users,logEntries:s.logEntries,logType:"project",onLoadEntries:o.loadEntries},{title:(0,n.w5)((()=>[(0,n.Wm)(r,{hero:"Platform Audit Log",info:"Recorded events that have taken place at the Platform level."})])),_:1},8,["users","logEntries","onLoadEntries"])}]]);const gr={class:"space-y-6"},fr={key:0},vr={key:1},yr=a(970);var kr=async(e,t,a)=>{let i=(0,ka.Z)("/api/v1/project-types",e,t);if(a){const e=new URLSearchParams;e.append("filter",a);const t=e.toString();/\?/.test(i)?i+="&":i+="?",i+=t}return ba.Z.get(i).then((e=>(e.data.types=e.data.types.map((e=>(e.value=e.id,e.label=e.name,e.htmlDescription=yr.parse(e.description),e))),e.data.types.sort(((e,t)=>e.order!==t.order?e.order-t.order:e.name.localeCompare(t.name))),e.data)))};const br=["innerHTML"],wr=a(970);var xr={name:"InstanceTypeDescriptionCell",props:["description"],computed:{renderedDescription(){return wr.parse(this.description)}}},Ar=(0,f.Z)(xr,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.kq)(" eslint-disable-next-line vue/no-v-html "),(0,n._)("div",{class:"list-disc",innerHTML:o.renderedDescription},null,8,br)],2112)}]]);const Dr={key:0},Sr=(0,n._)("p",null,"Billing configuration for the Instance Types must be set within the Team Type configuration",-1),Tr={class:"w-full grow flex justify-between"},Cr={class:"flex"};var Er=async(e,t,a,i)=>{let n=(0,ka.Z)("/api/v1/stacks",e,t);if(a||i){const e=new URLSearchParams;a&&e.append("filter",a),i&&e.append("projectType",i);const t=e.toString();/\?/.test(n)?n+="&":n+="?",n+=t}return ba.Z.get(n).then((e=>e.data))},Ir={name:"AdminInstanceTypeCreateDialog",emits:["instance-type-updated","instance-type-created","show-delete-dialog"],components:{FormRow:Ae.Z,FormHeading:Pe.Z},data(){return{instanceType:null,stacks:[],input:{name:"",active:!0,description:"",properties:{},defaultStack:""},errors:{},editDisabled:!1}},computed:{...(0,o.rn)("account",["features"]),formValid(){return this.input.name},dialogTitle(){return this.instanceType?"Edit instance type":"Create instance type"}},methods:{confirm(){if(this.formValid){const e={name:this.input.name,active:this.input.active,description:this.input.description,order:parseInt(this.input.order),defaultStack:this.input.defaultStack,properties:{}};this.features.billing&&(e.properties.billingProductId=this.input.properties.billingProductId,e.properties.billingPriceId=this.input.properties.billingPriceId,e.properties.billingDescription=this.input.properties.billingDescription),this.instanceType?(delete e.properties,(async(e,t)=>ba.Z.put(`/api/v1/project-types/${e}`,t).then((e=>e.data)))(this.instanceType.id,e).then((e=>{this.$emit("instance-type-updated",e)})).catch((e=>{console.error(e.response.data),e.response.data&&/name/.test(e.response.data.error)&&(this.errors.name="Name unavailable")}))):(async e=>ba.Z.post("/api/v1/project-types/",e).then((e=>e.data)))(e).then((e=>{this.$emit("instance-type-created",e)})).catch((e=>{console.error(e.response.data),e.response.data&&/name/.test(e.response.data.error)&&(this.errors.name="Name unavailable")}))}}},setup(){return{show(e){this.$refs.dialog.show(),this.instanceType=e,this.stacks=[],e?(this.editDisabled=e.instanceCount>0,this.input={name:e.name,active:e.active,properties:e.properties,description:e.description,order:""+e.order},Er(null,null,null,e.id).then((t=>{this.stacks=t.stacks.filter((e=>e.active)).map((e=>({value:e.id,label:e.name}))),this.input.defaultStack=e.defaultStack}))):(this.editDisabled=!1,this.input={active:!0,name:"",properties:{},description:"",order:"1"}),this.errors={}}}}},_r=(0,f.Z)(Ir,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),c=(0,n.up)("FormHeading"),d=(0,n.up)("ff-button"),p=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(p,{ref:"dialog",header:o.dialogTitle},{default:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-6 mt-2",onSubmit:t[6]||(t[6]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n.Wm)(r,{modelValue:s.input.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.name=e),error:s.errors.name,"data-form":"name"},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),_:1},8,["modelValue","error"]),(0,n.Wm)(r,{modelValue:s.input.active,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.active=e),type:"checkbox","data-form":"active"},{default:(0,n.w5)((()=>[(0,n.Uk)("Active")])),_:1},8,["modelValue"]),(0,n.Wm)(r,{modelValue:s.input.description,"onUpdate:modelValue":t[3]||(t[3]=e=>s.input.description=e),error:s.errors.description,"data-form":"description"},{description:(0,n.w5)((()=>[(0,n.Uk)("Use markdown for formatting")])),input:(0,n.w5)((()=>[(0,n.wy)((0,n._)("textarea",{class:"w-full",rows:"6","onUpdate:modelValue":t[2]||(t[2]=e=>s.input.description=e)},null,512),[[Oe.vModelText,s.input.description]])])),default:(0,n.w5)((()=>[(0,n.Uk)("Description ")])),_:1},8,["modelValue","error"]),(0,n.Wm)(r,{options:s.stacks,modelValue:s.input.defaultStack,"onUpdate:modelValue":t[4]||(t[4]=e=>s.input.defaultStack=e),disabled:0===s.stacks.length,id:"stack","data-form":"stack"},{description:(0,n.w5)((()=>[0===s.stacks.length?((0,n.wg)(),(0,n.iD)("div",Dr,"There are no stacks defined for this Instance Type yet.")):(0,n.kq)("v-if",!0)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Default Stack ")])),_:1},8,["options","modelValue","disabled"]),e.features.billing?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Billing")])),_:1}),Sr],64)):(0,n.kq)("v-if",!0),(0,n.Wm)(r,{modelValue:s.input.order,"onUpdate:modelValue":t[5]||(t[5]=e=>s.input.order=e)},{description:(0,n.w5)((()=>[(0,n.Uk)("Set the sort order when listing the types")])),default:(0,n.w5)((()=>[(0,n.Uk)("Order ")])),_:1},8,["modelValue"])],32)])),actions:(0,n.w5)((()=>[(0,n._)("div",Tr,[(0,n._)("div",null,[s.instanceType?((0,n.wg)(),(0,n.j4)(d,{key:0,kind:"danger",style:{margin:"0"},onClick:t[7]||(t[7]=t=>{e.$emit("show-delete-dialog",s.instanceType),e.$refs.dialog.close()})},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete Instance Type")])),_:1})):(0,n.kq)("v-if",!0)]),(0,n._)("div",Cr,[(0,n.Wm)(d,{kind:"secondary",onClick:t[8]||(t[8]=t=>e.$refs.dialog.close())},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1}),(0,n.Wm)(d,{onClick:t[9]||(t[9]=t=>{o.confirm(),e.$refs.dialog.close()}),disabled:!o.formValid},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(s.instanceType?"Update":"Create"),1)])),_:1},8,["disabled"])])])])),_:1},8,["header"])}]]);const Ur=a(970);var Vr={name:"AdminInstanceTypes",data(){return{instanceTypes:[],loading:!1,nextCursor:null,columns:[{label:"ID",key:"id",sortable:!0,class:["w-32"]},{label:"Type",key:"name",sortable:!0},{label:"Description",key:"description",sortable:!0,component:{is:(0,et.Xl)(Ar)}},{label:"Default Stack",class:["w-48"],key:"defaultStack",sortable:!0},{label:"Application Instances",class:["w-32","text-center"],key:"instanceCount",sortable:!0},{label:"Stacks",class:["w-32","text-center"],key:"stackCount",sortable:!0}]}},async created(){await this.loadItems()},computed:{...(0,o.rn)("account",["settings"]),activeInstanceTypes(){return this.instanceTypes.filter((e=>e.active))},inactiveInstanceTypes(){return this.instanceTypes.filter((e=>!e.active))}},methods:{instanceTypeAction(e,t){const a=this.instanceTypes.findIndex((e=>e.id===t)),i=this.instanceTypes[a];switch(e){case"edit":this.showEditInstanceTypeDialog(i);break;case"delete":this.showConfirmInstanceTypeDeleteDialog(i)}},showCreateInstanceTypeDialog(){this.$refs.adminInstanceTypeEditDialog.show()},showEditInstanceTypeDialog(e){this.$refs.adminInstanceTypeEditDialog.show(e)},showConfirmInstanceTypeDeleteDialog(e){const t=e.instanceCount>0?"You cannot delete an instance type that is still being used by instances.":"Are you sure you want to delete this instance type?";Xe.Z.show({header:"Delete Instance Type",kind:"danger",text:t,confirmLabel:"Delete",disablePrimary:e.instanceCount>0},(async()=>{await(async e=>await ba.Z.delete(`/api/v1/project-types/${e}`))(e.id);const t=this.instanceTypes.findIndex((t=>t.id===e.id));this.instanceTypes.splice(t,1)}))},async instanceTypeCreated(e){this.instanceTypes.push(e),this.resortTypes()},async instanceTypeUpdated(e){const t=this.instanceTypes.findIndex((t=>t.id===e.id));t>-1&&(e.htmlDescription=Ur.parse(e.description),this.instanceTypes[t]=e,this.resortTypes())},resortTypes(){this.instanceTypes.sort(((e,t)=>e.order!==t.order?e.order-t.order:e.name.localeCompare(t.name)))},loadItems:async function(){this.loading=!0;const e=await kr(this.nextCursor,30,"all");this.nextCursor=e.meta.next_cursor,e.types.forEach((e=>{this.instanceTypes.push(e)}))}},components:{SectionTopMenu:Wa,PlusSmIcon:Ct.Z,InstanceTypeEditDialog:_r}},jr=(0,f.Z)(Vr,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("PlusSmIcon"),l=(0,n.up)("ff-button"),c=(0,n.up)("SectionTopMenu"),d=(0,n.up)("ff-tile-selection-option"),p=(0,n.up)("ff-tile-selection"),u=(0,n.up)("ff-list-item"),m=(0,n.up)("ff-data-table"),h=(0,n.up)("InstanceTypeEditDialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",gr,[(0,n.Wm)(c,{hero:"Instance Types"},{tools:(0,n.w5)((()=>[(0,n.Wm)(l,{onClick:o.showCreateInstanceTypeDialog,"data-action":"create-type"},{"icon-right":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Create instance type ")])),_:1},8,["onClick"])])),_:1}),(0,n.Wm)(p,{"data-el":"active-types"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.activeInstanceTypes,((e,t)=>((0,n.wg)(),(0,n.j4)(d,{key:t,editable:!0,onEdit:t=>o.showEditInstanceTypeDialog(e),price:e.properties?.billingDescription?.split("/")[0],"price-interval":e.properties?.billingDescription?.split("/")[1],label:e.name,description:e.description,meta:[{key:"ID",value:e.id},{key:"Instance Count",value:e.instanceCount},{key:"Stack Count",value:e.stackCount}]},null,8,["onEdit","price","price-interval","label","description","meta"])))),128))])),_:1}),s.nextCursor?((0,n.wg)(),(0,n.iD)("div",fr,[s.loading?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("a",{key:0,onClick:t[0]||(t[0]=(0,Oe.withModifiers)(((...e)=>o.loadItems&&o.loadItems(...e)),["stop"])),class:"forge-button-inline"},"Load more..."))])):(0,n.kq)("v-if",!0),(0,n.Wm)(c,{hero:"Inactive Types"}),(0,n.Wm)(m,{columns:s.columns,rows:o.inactiveInstanceTypes,"data-el":"inactive-types"},{"context-menu":(0,n.w5)((({row:e})=>[(0,n.Wm)(u,{label:"Edit Instance Type",onClick:t=>o.instanceTypeAction("edit",e.id)},null,8,["onClick"]),(0,n.Wm)(u,{label:"Delete Instance Type",kind:"danger",onClick:t=>o.instanceTypeAction("delete",e.id)},null,8,["onClick"])])),_:1},8,["columns","rows"]),s.nextCursor?((0,n.wg)(),(0,n.iD)("div",vr,[s.loading?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("a",{key:0,onClick:t[1]||(t[1]=(0,Oe.withModifiers)(((...e)=>o.loadItems&&o.loadItems(...e)),["stop"])),class:"forge-button-inline"},"Load more..."))])):(0,n.kq)("v-if",!0)]),(0,n.Wm)(h,{ref:"adminInstanceTypeEditDialog",onInstanceTypeCreated:o.instanceTypeCreated,onInstanceTypeUpdated:o.instanceTypeUpdated,onShowDeleteDialog:o.showConfirmInstanceTypeDeleteDialog},null,8,["onInstanceTypeCreated","onInstanceTypeUpdated","onShowDeleteDialog"])],64)}]]);const Pr={class:"grid grid-cols-4 gap-4 text-gray-700"},Zr={class:"border rounded px-4 py-2 text-center"},Mr={class:"text-xl"},Br=(0,n._)("div",null,"Users",-1),Fr={class:"w-full grid grid-cols-2 pt-1 mt-2 border-t"},Wr={class:"border rounded p-4 text-center"},Nr={class:"text-xl"},Rr={class:"border rounded p-4 text-center"},Lr={class:"text-xl"},qr={key:0,class:"w-full grid grid-cols-1 pt-1 mt-2 border-t"},Hr={class:"border rounded p-4 text-center"},Or={class:"text-xl"},Gr={class:"border rounded p-4 col-span-4"},Yr=(0,n._)("div",{class:"text-xl mb-1 border-b"},"License",-1),zr={key:0},Kr=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"Type",-1),Xr={class:"p-2"},$r={key:0},Qr={key:1,class:"font-bold"},Jr=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"Organisation",-1),el={class:"p-2"},tl=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"Expires",-1),al={class:"p-2"},il=(0,n._)("br",null,null,-1),nl={class:"text-xs"},sl={key:1},ol=[(0,n._)("table",null,[(0,n._)("tr",null,[(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"Type"),(0,n._)("td",{class:"p-2"},"FlowForge Community Edition")])],-1)],rl={class:"border rounded p-4 col-span-4"},ll=(0,n._)("div",{class:"text-xl mb-1 border-b"},"Version",-1),cl=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"Forge Application",-1),dl={class:"p-2"},pl=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"NodeJS",-1),ul={class:"p-2"};var ml=a(8919),hl={name:"AdminSettingsGeneral",data:function(){return{license:{},stats:{},settings:{}}},async mounted(){this.stats=await(async e=>ba.Z.get("/api/v1/admin/stats",e).then((e=>e.data)))(),this.license=await wa(),this.settings=await ml.Z.getSettings()},components:{SectionTopMenu:Wa}},gl=(0,f.Z)(hl,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),c=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{hero:"Admin Settings"}),(0,n._)("div",Pr,[(0,n._)("div",Zr,[(0,n.Wm)(c,{to:"/admin/users/general"},{default:(0,n.w5)((()=>[(0,n._)("div",Mr,(0,l.toDisplayString)(e.stats.userCount)+"/"+(0,l.toDisplayString)(e.stats.maxUsers),1),Br])),_:1}),(0,n._)("div",Fr,[(0,n._)("div",null,(0,l.toDisplayString)(e.stats.adminCount)+" "+(0,l.toDisplayString)(e.$filters.pluralize(e.stats.adminCount,"admin")),1),(0,n._)("div",null,[(0,n.Wm)(c,{to:"/admin/users/invitations"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(e.stats.inviteCount)+" "+(0,l.toDisplayString)(e.$filters.pluralize(e.stats.inviteCount,"invite")),1)])),_:1})])])]),(0,n._)("div",Wr,[(0,n.Wm)(c,{to:"/admin/teams"},{default:(0,n.w5)((()=>[(0,n._)("div",Nr,(0,l.toDisplayString)(e.stats.teamCount)+"/"+(0,l.toDisplayString)(e.stats.maxTeams),1),(0,n._)("div",null,(0,l.toDisplayString)(e.$filters.pluralize(e.stats.teamCount,"Team")),1)])),_:1})]),(0,n._)("div",Rr,[(0,n._)("div",Lr,(0,l.toDisplayString)(e.stats.instanceCount)+"/"+(0,l.toDisplayString)(e.stats.maxInstances),1),(0,n._)("div",null,(0,l.toDisplayString)(e.$filters.pluralize(e.stats.instanceCount,"Project")),1),e.stats.instancesByState&&Object.keys(e.stats.instancesByState).length>0?((0,n.wg)(),(0,n.iD)("div",qr,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.stats.instancesByState,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t},(0,l.toDisplayString)(e)+" "+(0,l.toDisplayString)(t),1)))),128))])):(0,n.kq)("v-if",!0)]),(0,n._)("div",Hr,[(0,n._)("div",Or,(0,l.toDisplayString)(e.stats.deviceCount)+"/"+(0,l.toDisplayString)(e.stats.maxDevices),1),(0,n._)("div",null,(0,l.toDisplayString)(e.$filters.pluralize(e.stats.deviceCount,"Device")),1)]),(0,n._)("div",Gr,[Yr,e.license?((0,n.wg)(),(0,n.iD)("table",zr,[(0,n._)("tr",null,[Kr,(0,n._)("td",Xr,[e.license.dev?((0,n.wg)(),(0,n.iD)("span",Qr,"FlowForge Development Only")):((0,n.wg)(),(0,n.iD)("span",$r,"FlowForge Enterprise Edition"))])]),(0,n._)("tr",null,[Jr,(0,n._)("td",el,(0,l.toDisplayString)(e.license.organisation),1)]),(0,n._)("tr",null,[tl,(0,n._)("td",al,[(0,n.Uk)((0,l.toDisplayString)(e.license.expires),1),il,(0,n._)("span",nl,(0,l.toDisplayString)(e.license.expiresAt),1)])])])):((0,n.wg)(),(0,n.iD)("div",sl,ol))]),(0,n._)("div",rl,[ll,(0,n._)("table",null,[(0,n._)("tr",null,[cl,(0,n._)("td",dl,(0,l.toDisplayString)(e.settings["version:forge"]),1)]),(0,n._)("tr",null,[pl,(0,n._)("td",ul,(0,l.toDisplayString)(e.settings["version:node"]),1)])])])])],64)}]]);const fl=(0,n._)("p",null,"Email is not currently configured for the platform. This restricts some of the available features.",-1),vl=(0,n._)("p",null,"To configure email, refer to the documentation.",-1),yl={key:1,class:""},kl={class:"font-medium p-2 pr-4 align-top"},bl={class:"font-mono p-2"};var wl={name:"AdminSettingsEmail",computed:{...(0,o.rn)("account",["settings"])},components:{FormHeading:Pe.Z}},xl=(0,f.Z)(wl,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormHeading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Email Configuration")])),_:1}),e.settings.email?((0,n.wg)(),(0,n.iD)("table",yl,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.settings.email,((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{class:"text-sm",key:t},[(0,n._)("td",kl,(0,l.toDisplayString)(t),1),(0,n._)("td",bl,(0,l.toDisplayString)(e),1)])))),128))])):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[fl,vl],64))],64)}]]);const Al={key:1,class:"space-y-4"},Dl=(0,n._)("p",null,"Changing this URL will require all users to reaccept the terms the next time they access the platform",-1),Sl={class:"flex items-center space-x-2"},Tl=(0,n._)("p",null,"Require users to reaccept the terms now: ",-1),Cl=(0,n._)("p",null,"If a user creates a team, they become its Owner. Otherwise they must be invited to an existing team by an Administrator or Team Owner.",-1),El=(0,n._)("p",null,"Administrators can always create teams.",-1),Il=(0,n._)("p",null,"Users can invite existing users to join a team. If they provide an email address of an unregistered user, the invitation will be sent to that email address.",-1),_l=(0,n._)("p",null," This can be used to enable remote monitoring of the platform without providing full access to the admin API. ",-1),Ul=(0,n._)("p",null," The token is generated when this option is enabled. Once enabled, the token cannot be retrieved. ",-1),Vl=(0,n._)("p",null," To regenerate the token, disable, then re-enable this option. ",-1),jl=(0,n._)("p",null,"The following token can be used to access the platform statistics api.",-1),Pl={class:"block my-2"},Zl=(0,n._)("p",null," This is the only time this token will be shared. Make sure you save it before closing this dialog. ",-1),Ml={key:1},Bl=(0,n._)("p",null,"This will delete the active token used to access the platform statistics.",-1),Fl=(0,n._)("p",null,"Are you sure?",-1),Wl=(0,n._)("p",null," We collect anonymous statistics about how FlowForge is used. This allows us to improve how it works and make a better product. ",-1),Nl=(0,n._)("p",null,[(0,n.Uk)(" For more information about the data we collect and how it is used, please see our "),(0,n._)("a",{class:"forge-link",href:"https://github.com/flowforge/flowforge/tree/main/docs/admin/telemetry.md",target:"_blank"},"Usage Data Collection Policy")],-1),Rl={class:"pt-8"},Ll=a(970);var ql=async(e,t,a)=>{let i=(0,ka.Z)("/api/v1/team-types",e,t);if(a){const e=new URLSearchParams;e.append("filter",a);const t=e.toString();/\?/.test(i)?i+="&":i+="?",i+=t}return ba.Z.get(i).then((e=>(e.data.types=e.data.types.map((e=>{if(e.value=e.id,e.label=e.name,e.htmlDescription=Ll.parse(e.description||""),e.isFree=!e.properties?.billing?.description||"free"===e.properties?.billing?.description,e.isFree)e.billingPrice="free",e.billingInterval="";else{const[t,a]=e.properties?.billing?.description.split("/");e.billingPrice=t,e.billingInterval=a}return e})),e.data)))};const Hl=["user:signup","user:reset-password","user:team:auto-create","user:team:auto-create:teamType","user:team:auto-create:instanceType","user:tcs-required","user:tcs-url","user:tcs-date","team:create","team:user:invite:external","telemetry:enabled","branding:account:signUpTopBanner","branding:account:signUpLeftBanner","platform:stats:token"];var Ol={name:"AdminSettingsGeneral",data(){return{loading:!1,input:{},platformStatsTokenEnabled:!1,platformStatsToken:null,errors:{requiresEmail:null,termsAndConditions:null},teamTypes:[],instanceTypes:[],teamTypesOptions:[],platformStatsTokenGenerating:!1}},computed:{...(0,o.rn)("account",["features","settings"]),isLicensed(){return!!this.settings["platform:licensed"]},tcsDate(){const e=this.input["user:tcs-date"];return e&&("string"==typeof e||e instanceof Date&&!isNaN(e)&&e>0)?new Date(e).toUTCString():"<Not Set>"},saveEnabled(){let e=!1;return this.validate()&&Hl.forEach((t=>{"user:tsc-date"!==t&&("user:tsc-url"!==t||this.input["user:tcs-required"])&&(e=e||this.input[t]!==this.settings[t])})),e},autoCreateInstanceError(){return this.input["user:team:auto-create:teamType"]?this.selectedTeamType?this.instanceTypeOptionsForSelectedTeamType?.length?null:"No instance types found for selected Team Type":"Selected Team Type not found":"Requires Team Type to be set"},selectedTeamType(){return this.teamTypes.find((e=>e.id===this.input["user:team:auto-create:teamType"]))},instanceTypeOptionsForSelectedTeamType(){if(!this.input["user:team:auto-create:teamType"]||!this.selectedTeamType)return[{value:null,label:"None"}];const e=Object.keys(this.selectedTeamType.properties.instances),t=this.instanceTypes.filter((t=>e.includes(t.id))).map((e=>({value:e.id,label:e.name})));return t.unshift({value:null,label:"None"}),t}},async created(){this.settings.email||(this.errors.requiresEmail="This option requires email to be configured"),Hl.forEach((e=>{this.input[e]=this.settings[e]})),this.instanceTypes=(await kr()).types,this.teamTypes=(await ql()).types,this.teamTypesOptions=this.teamTypes.map((e=>({order:e.order,value:e.id,label:e.name}))),this.teamTypesOptions.sort(((e,t)=>e.order-t.order)),this.platformStatsTokenEnabled=this.input["platform:stats:token"],this.platformStatsTokenEnabled||(this.platformStatsToken="")},watch:{platformStatsTokenEnabled:function(e){null!==this.platformStatsToken?e?this.showGenerateStatsToken():this.showDisableStatsToken():this.platformStatsToken=""}},methods:{validate(){return this.input["user:tcs-required"]&&""===(this.input["user:tcs-url"]||"").trim()?(this.errors.termsAndConditions="A URL for the Terms & Conditions must be set.",!1):(this.errors.termsAndConditions="",!0)},async saveChanges(){this.loading=!0;const e={};Hl.forEach((t=>{this.input[t]!==this.settings[t]&&(e[t]=this.input[t])})),delete e["user:tcs-date"],this.input["user:tcs-required"]||(this.settings["user:tcs-url"]?e["user:tcs-url"]="":delete e["user:tcs-url"]),this.input["user:tcs-required"]&&e["user:tcs-url"]&&(e["user:tcs-updated"]=!0),ml.Z.updateSettings(e).then((()=>{this.$store.dispatch("account/refreshSettings"),this.input["user:tcs-date"]=this.settings["user:tcs-date"],Ee.Z.emit("Settings changed successfully.","confirmation")})).catch((e=>{console.warn(e),Ee.Z.emit(`Something went wrong: ${e}`,"warning")})).finally((()=>{this.loading=!1}))},async updateTermsAndConditions(){this.input["user:tcs-required"]&&Xe.Z.show({header:"Update Terms and Conditions",kind:"danger",html:"<p>This action will require all existing users to reaccept the Terms and Conditions the next time they access the platform.</p><p>Are you sure?</p>",confirmLabel:"Continue"},(async()=>{this.loading=!0;const e={"user:tcs-updated":!0};try{await ml.Z.updateSettings(e),this.$store.dispatch("account/refreshSettings"),Ee.Z.emit("Terms and Conditions update success","info",5e3)}catch(e){console.warn(e)}finally{this.loading=!1}}))},showGenerateStatsToken(){this.platformStatsTokenGenerating=!0,this.$refs.enablePlatformStatsToken.show(),(async()=>ba.Z.post("/api/v1/admin/stats-token",{}).then((e=>e.data)))().then((e=>{this.platformStatsToken=e.token,this.platformStatsTokenGenerating=!1}))},showDisableStatsToken(){this.$refs.disablePlatformStatsToken.show()},cancelDisablePlatformStatsToken(){this.$refs.disablePlatformStatsToken.close(),this.platformStatsToken=null,this.platformStatsTokenEnabled=!0},disableStatsToken(){this.$refs.disablePlatformStatsToken.close(),this.platformStatsToken="",this.platformStatsTokenEnabled=!1,(async()=>ba.Z.delete("/api/v1/admin/stats-token").then((e=>e.data)))().then((e=>{}))}},components:{FormRow:Ae.Z,FormHeading:Pe.Z}},Gl=(0,f.Z)(Ol,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),c=(0,n.up)("FormHeading"),d=(0,n.up)("FormRow"),p=(0,n.up)("ff-button"),u=(0,n.up)("ff-dialog");return s.loading?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Saving Settings..."})):((0,n.wg)(),(0,n.iD)("div",Al,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Users")])),_:1}),(0,n.Wm)(d,{"data-el":"enable-signup",modelValue:s.input["user:signup"],"onUpdate:modelValue":t[0]||(t[0]=e=>s.input["user:signup"]=e),type:"checkbox",error:s.errors.requiresEmail,disabled:!!s.errors.requiresEmail},{description:(0,n.w5)((()=>[(0,n.Uk)(" If self-registration is not enabled, an Administrator must create users and provide their login details manually ")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Allow new users to register on the login screen ")])),_:1},8,["modelValue","error","disabled"]),s.input["user:signup"]?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Wm)(d,{"data-el":"banner",modelValue:s.input["branding:account:signUpTopBanner"],"onUpdate:modelValue":t[1]||(t[1]=e=>s.input["branding:account:signUpTopBanner"]=e),containerClass:"max-w-sm ml-9"},{default:(0,n.w5)((()=>[(0,n.Uk)(" HTML content to show above the sign-up form ")])),_:1},8,["modelValue"]),(0,n.Wm)(d,{modelValue:s.input["branding:account:signUpLeftBanner"],"onUpdate:modelValue":t[3]||(t[3]=e=>s.input["branding:account:signUpLeftBanner"]=e),containerClass:"max-w-sm ml-9"},{input:(0,n.w5)((()=>[(0,n.wy)((0,n._)("textarea",{"data-el":"splash",class:"w-full",rows:"6","onUpdate:modelValue":t[2]||(t[2]=e=>s.input["branding:account:signUpLeftBanner"]=e)},null,512),[[Oe.vModelText,s.input["branding:account:signUpLeftBanner"]]])])),default:(0,n.w5)((()=>[(0,n.Uk)(" HTML content to show to the left of the sign-up form ")])),_:1},8,["modelValue"])],64)):(0,n.kq)("v-if",!0),(0,n.Wm)(d,{modelValue:s.input["user:team:auto-create"],"onUpdate:modelValue":t[4]||(t[4]=e=>s.input["user:team:auto-create"]=e),type:"checkbox"},{description:(0,n.w5)((()=>[(0,n.Uk)(" If a team is not automatically created, they will either have to manually create one, or be invited to join an existing team. ")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Create a personal team for users when they register ")])),_:1},8,["modelValue"]),s.input["user:team:auto-create"]?((0,n.wg)(),(0,n.j4)(d,{key:1,modelValue:s.input["user:team:auto-create:teamType"],"onUpdate:modelValue":t[5]||(t[5]=e=>s.input["user:team:auto-create:teamType"]=e),options:s.teamTypesOptions,containerClass:"max-w-sm ml-9"},{description:(0,n.w5)((()=>[(0,n.Uk)(" The type of team to create for a user when they register. "),e.features.billing?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)("Trial mode is configured within the individual TeamTypes.")],64)):(0,n.kq)("v-if",!0)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Personal Team Type ")])),_:1},8,["modelValue","options"])):(0,n.kq)("v-if",!0),s.input["user:team:auto-create"]?((0,n.wg)(),(0,n.j4)(d,{key:2,modelValue:s.input["user:team:auto-create:instanceType"],"onUpdate:modelValue":t[6]||(t[6]=e=>s.input["user:team:auto-create:instanceType"]=e),options:o.instanceTypeOptionsForSelectedTeamType,disabled:!s.input["user:team:auto-create:teamType"],error:o.autoCreateInstanceError,containerClass:"max-w-sm ml-9"},{description:(0,n.w5)((()=>[(0,n.Uk)(" To optionally create a starter instance when users first register, set the instance type. "),e.features.billing?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)("Ensure TeamType is configured to allow this instance type at no charge.")],64)):(0,n.kq)("v-if",!0)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Starter Instance Type ")])),_:1},8,["modelValue","options","disabled","error"])):(0,n.kq)("v-if",!0),(0,n.Wm)(d,{modelValue:s.input["user:reset-password"],"onUpdate:modelValue":t[7]||(t[7]=e=>s.input["user:reset-password"]=e),type:"checkbox",error:s.errors.requiresEmail,disabled:!!s.errors.requiresEmail},{description:(0,n.w5)((()=>[(0,n.Uk)(" Users will be sent an email with a link back to the platform to reset their password. ")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Allow users to reset their password on the login screen ")])),_:1},8,["modelValue","error","disabled"]),(0,n.Wm)(d,{modelValue:s.input["user:tcs-required"],"onUpdate:modelValue":t[8]||(t[8]=e=>s.input["user:tcs-required"]=e),type:"checkbox","data-el":"terms-and-condition-required"},{description:(0,n.w5)((()=>[(0,n.Uk)(" When signing up, users will be presented with a link to the terms and conditions, and will be required to accept them in order to register. ")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Require user agreement to Terms & Conditions ")])),_:1},8,["modelValue"]),s.input["user:tcs-required"]?((0,n.wg)(),(0,n.j4)(d,{key:3,containerClass:"max-w-sm ml-9",modelValue:s.input["user:tcs-url"],"onUpdate:modelValue":t[9]||(t[9]=e=>s.input["user:tcs-url"]=e),type:"text",error:s.errors.termsAndConditions,"data-el":"terms-and-condition-url"},{description:(0,n.w5)((()=>[Dl])),default:(0,n.w5)((()=>[(0,n.Uk)(" Terms & Conditions URL ")])),_:1},8,["modelValue","error"])):(0,n.kq)("v-if",!0),s.input["user:tcs-required"]?((0,n.wg)(),(0,n.j4)(d,{key:4,containerClass:"max-w-sm ml-9"},{description:(0,n.w5)((()=>[(0,n._)("p",null,"Last updated: "+(0,l.toDisplayString)(o.tcsDate)+".",1),(0,n._)("div",Sl,[Tl,(0,n.Wm)(p,{size:"small",disabled:s.loading,kind:"tertiary",onClick:o.updateTermsAndConditions,"data-action":"terms-and-condition-update"},{default:(0,n.w5)((()=>[(0,n.Uk)("update now")])),_:1},8,["disabled","onClick"])])])),input:(0,n.w5)((()=>[(0,n.Uk)(" ")])),_:1})):(0,n.kq)("v-if",!0),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Teams")])),_:1}),(0,n.Wm)(d,{modelValue:s.input["team:create"],"onUpdate:modelValue":t[10]||(t[10]=e=>s.input["team:create"]=e),type:"checkbox"},{description:(0,n.w5)((()=>[Cl,El])),default:(0,n.w5)((()=>[(0,n.Uk)(" Allow users to create teams ")])),_:1},8,["modelValue"]),(0,n.Wm)(d,{modelValue:s.input["team:user:invite:external"],"onUpdate:modelValue":t[11]||(t[11]=e=>s.input["team:user:invite:external"]=e),type:"checkbox",disabled:!!s.errors.requiresEmail,error:s.errors.requiresEmail},{description:(0,n.w5)((()=>[Il])),default:(0,n.w5)((()=>[(0,n.Uk)(" Allow users to invite external users to teams ")])),_:1},8,["modelValue","disabled","error"]),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Platform")])),_:1}),(0,n.Wm)(d,{modelValue:s.platformStatsTokenEnabled,"onUpdate:modelValue":t[12]||(t[12]=e=>s.platformStatsTokenEnabled=e),type:"checkbox"},{description:(0,n.w5)((()=>[_l,Ul,Vl])),default:(0,n.w5)((()=>[(0,n.Uk)(" Allow token-based access to platform statistics ")])),_:1},8,["modelValue"]),(0,n.Wm)(u,{ref:"enablePlatformStatsToken",header:"Allow token-based access to platform statistics"},{default:(0,n.w5)((()=>[s.platformStatsTokenGenerating?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Generating token..."})):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[jl,(0,n._)("code",Pl,(0,l.toDisplayString)(s.platformStatsToken),1),Zl],64))])),actions:(0,n.w5)((()=>[s.platformStatsTokenGenerating?((0,n.wg)(),(0,n.iD)("span",Ml," ")):((0,n.wg)(),(0,n.j4)(p,{key:0,onClick:t[13]||(t[13]=t=>e.$refs.enablePlatformStatsToken.close())},{default:(0,n.w5)((()=>[(0,n.Uk)("Close")])),_:1}))])),_:1},512),(0,n.Wm)(u,{ref:"disablePlatformStatsToken",header:"Disable token-based access to platform statistics"},{default:(0,n.w5)((()=>[Bl,Fl])),actions:(0,n.w5)((()=>[(0,n.Wm)(p,{onClick:o.cancelDisablePlatformStatsToken},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"]),(0,n.Wm)(p,{onClick:o.disableStatsToken,kind:"danger"},{default:(0,n.w5)((()=>[(0,n.Uk)("Disable")])),_:1},8,["onClick"])])),_:1},512),o.isLicensed?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.j4)(d,{key:5,modelValue:s.input["telemetry:enabled"],"onUpdate:modelValue":t[14]||(t[14]=e=>s.input["telemetry:enabled"]=e),type:"checkbox"},{description:(0,n.w5)((()=>[Wl,Nl])),default:(0,n.w5)((()=>[(0,n.Uk)(" Enable collection of anonymous statistics ")])),_:1},8,["modelValue"])),(0,n._)("div",Rl,[(0,n.Wm)(p,{disabled:!o.saveEnabled,onClick:o.saveChanges,"data-action":"save-settings"},{default:(0,n.w5)((()=>[(0,n.Uk)("Save settings")])),_:1},8,["disabled","onClick"])])]))}]]);const Yl={key:2,class:"space-y-6"},zl={"data-el":"license-details"},Kl={key:0},Xl=[(0,n._)("td",{class:"font-medium p-2 pr-4 align-top",colspan:"2"},null,-1)],$l=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"Type",-1),Ql={class:"p-2"},Jl={key:0},ec={key:1,class:"font-bold"},tc=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"License ID",-1),ac={class:"p-2"},ic=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"Organisation",-1),nc={class:"p-2"},sc=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"Tier",-1),oc={class:"p-2"},rc=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"Expires",-1),lc={class:"p-2"},cc=(0,n._)("br",null,null,-1),dc={class:"text-xs"},pc={class:"break-words"},uc={key:1},mc=[(0,n._)("tr",null,[(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"Type"),(0,n._)("td",{class:"p-2"},"FlowForge Community Edition")],-1)],hc={class:"space-x-4 whitespace-nowrap"},gc={class:"space-x-4 whitespace-nowrap flex"},fc={key:0},vc=[(0,n._)("td",{class:"font-medium p-2 pr-4 align-top",colspan:"2"},"Development-mode Only",-1)],yc=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"License ID",-1),kc={class:"p-2"},bc=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"Organisation",-1),wc={class:"p-2"},xc=(0,n._)("td",{class:"font-medium p-2 pr-4 align-top"},"Expires",-1),Ac={class:"p-2"},Dc=(0,n._)("br",null,null,-1),Sc={class:"text-xs"},Tc={class:"break-words"},Cc={class:"space-x-4 whitespace-nowrap flex"};var Ec={name:"AdminSettingsLicense",components:{FormRow:Ae.Z,FormHeading:Pe.Z},data(){return{loading:{updating:!1,checking:!1},license:null,inspectedLicense:null,errors:{license:null},editing:{license:!1},input:{license:""}}},async mounted(){this.license=await wa()},computed:{formValid(){return this.input.license.length>0},isLoading(){return this.loading.updating||this.loading.checking}},watch:{"input.license":function(){this.errors.license=null}},methods:{editLicense(){this.input.license="",this.editing.license=!0,this.$nextTick((()=>{this.$refs["row-license"].focus()}))},async inspectLicense(){this.loading.checking=!0;try{this.inspectedLicense=await xa({license:this.input.license,action:"inspect"}),this.loading.checking=!1}catch(e){e.response&&e.response.data&&e.response.data.error?this.errors.license=e.response.data.error:this.errors.license="Error inspecting license",this.loading.checking=!1}},async applyLicense(){this.loading.updating=!0;try{this.license=await xa({license:this.input.license,action:"apply"}),this.$store.dispatch("account/refreshSettings"),this.cancelEditLicense(),this.loading.updating=!1}catch(e){console.error(e),e.response&&e.response.data&&e.response.data.error?this.errors.license=e.response.data.error:this.errors.license="Error applying license",this.loading.updating=!1}},cancelEditLicense(){this.inspectedLicense=null,this.editing.license=!1,this.input.license="",this.errors.license=null}}},Ic=(0,f.Z)(Ec,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),c=(0,n.up)("FormHeading"),d=(0,n.up)("ff-button"),p=(0,n.up)("FormRow");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.loading.updating?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Updating License..."})):(0,n.kq)("v-if",!0),s.loading.checking?((0,n.wg)(),(0,n.j4)(r,{key:1,message:"Checking License..."})):o.isLoading?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("div",Yl,[s.editing.license?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("License")])),_:1}),s.license?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("table",zl,[s.license.dev?((0,n.wg)(),(0,n.iD)("tr",Kl,Xl)):(0,n.kq)("v-if",!0),(0,n._)("tr",null,[$l,(0,n._)("td",Ql,[s.license.dev?((0,n.wg)(),(0,n.iD)("span",ec,"FlowForge Development Only")):((0,n.wg)(),(0,n.iD)("span",Jl,"FlowForge Enterprise Edition"))])]),(0,n._)("tr",null,[tc,(0,n._)("td",ac,(0,l.toDisplayString)(s.license.id),1)]),(0,n._)("tr",null,[ic,(0,n._)("td",nc,(0,l.toDisplayString)(s.license.organisation),1)]),(0,n._)("tr",null,[sc,(0,n._)("td",oc,(0,l.toDisplayString)(s.license.tier),1)]),(0,n._)("tr",null,[rc,(0,n._)("td",lc,[(0,n.Uk)((0,l.toDisplayString)(s.license.expires),1),cc,(0,n._)("span",dc,(0,l.toDisplayString)(s.license.expiresAt),1)])])]),(0,n._)("details",null,[(0,n._)("pre",pc,(0,l.toDisplayString)(s.license),1)])],64)):((0,n.wg)(),(0,n.iD)("table",uc,mc)),(0,n._)("div",hc,[(0,n.Wm)(d,{onClick:o.editLicense,"data-form":"update-licence"},{default:(0,n.w5)((()=>[(0,n.Uk)("Update license")])),_:1},8,["onClick"])])],64)),s.editing.license?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("1. Upload new license")])),_:1}),s.inspectedLicense?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Wm)(p,{modelValue:s.input.license,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.license=e),error:s.errors.license,id:"license",placeholder:"Enter new license",ref:"row-license","data-form":"license"},null,8,["modelValue","error"]),(0,n._)("div",gc,[(0,n.Wm)(d,{onClick:o.cancelEditLicense},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"]),(0,n.Wm)(d,{disabled:!o.formValid,onClick:o.inspectLicense,"data-form":"check-license"},{default:(0,n.w5)((()=>[(0,n.Uk)("Check license")])),_:1},8,["disabled","onClick"])])],64)),s.inspectedLicense?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("2. Check license details")])),_:1}),(0,n._)("table",null,[s.inspectedLicense.dev?((0,n.wg)(),(0,n.iD)("tr",fc,vc)):(0,n.kq)("v-if",!0),(0,n._)("tr",null,[yc,(0,n._)("td",kc,(0,l.toDisplayString)(s.inspectedLicense.id),1)]),(0,n._)("tr",null,[bc,(0,n._)("td",wc,(0,l.toDisplayString)(s.inspectedLicense.organisation),1)]),(0,n._)("tr",null,[xc,(0,n._)("td",Ac,[(0,n.Uk)((0,l.toDisplayString)(s.inspectedLicense.expires),1),Dc,(0,n._)("span",Sc,(0,l.toDisplayString)(s.inspectedLicense.expiresAt),1)])])]),(0,n._)("details",null,[(0,n._)("pre",Tc,(0,l.toDisplayString)(s.inspectedLicense),1)]),(0,n._)("div",Cc,[(0,n.Wm)(d,{kind:"secondary",onClick:o.cancelEditLicense},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"]),(0,n.Wm)(d,{kind:"primary",onClick:o.applyLicense,"data-form":"submit"},{default:(0,n.w5)((()=>[(0,n.Uk)("Apply license")])),_:1},8,["onClick"])])],64)):(0,n.kq)("v-if",!0)],64)):(0,n.kq)("v-if",!0)]))],64)}]]);const _c={class:"max-w-2xl m-auto"},Uc={key:2,class:"space-y-6"};var Vc={name:"AdminEditSSOProvider",data(){return{mounted:!1,loading:!1,provider:{},icons:{chevronLeft:sa.Z},originalValues:"",input:{name:"",domainFilter:"",active:!1,options:{}},errors:{}}},computed:{...(0,o.rn)("account",["features"]),isCreate(){return"create"===this.$route.params.id},formValid(){return this.isCreate&&!!this.input.domainFilter||!this.isCreate&&JSON.stringify(this.input)!==this.originalValues},pageTitle(){return this.isCreate?"Create new SSO Configuration":"Edit SSO Configuration"}},async beforeMount(){this.features.sso||this.$router.push({path:"/admin/settings"})},mounted(){this.mounted=!0},methods:{createProvider(){this.formValid&&(this.loading=!0,(async e=>ba.Z.post("/ee/sso/providers",e).then((e=>e.data)))({name:this.input.name,domainFilter:this.input.domainFilter}).then((e=>{this.$router.push({name:"AdminSettingsSSOEdit",params:{id:e.id}}),this.loading=!1,this.provider=e})))},updateProvider(){if(this.formValid){const e={...this.input};delete e.id,(async(e,t)=>ba.Z.put(`/ee/sso/providers/${e}`,t).then((e=>e.data)))(this.provider.id,e).then((e=>{this.$router.push({name:"AdminSettingsSSO"})})).catch((e=>{console.error(e)}))}},async loadProvider(){if("create"===this.$route.params.id)this.provider={},this.input.name="",this.input.domainFilter="",this.input.active=!1,this.input.options={};else{this.loading=!0;try{this.provider=await(async e=>ba.Z.get(`/ee/sso/providers/${e}`).then((e=>e.data)))(this.$route.params.id),this.input.name=this.provider.name,this.input.domainFilter=this.provider.domainFilter,this.input.active=this.provider.active,this.input.options={...this.provider.options},this.originalValues=JSON.stringify(this.input)}catch(e){404===e.response.status&&this.$router.push({name:"AdminSettingsSSO"}),console.error(e)}finally{this.loading=!1}}}},async created(){await this.loadProvider()},components:{FormRow:Ae.Z,FormHeading:Pe.Z,SideNavigation:pa,NavItem:oa.Z}},jc=(0,f.Z)(Vc,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("nav-item"),c=(0,n.up)("router-link"),d=(0,n.up)("SideNavigation"),p=(0,n.up)("ff-loading"),u=(0,n.up)("FormHeading"),m=(0,n.up)("FormRow"),h=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-sidenav"},[(0,n.Wm)(d,null,{back:(0,n.w5)((()=>[(0,n.Wm)(c,{to:{name:"AdminSettingsSSO"}},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:s.icons.chevronLeft,label:"Back to SSO"},null,8,["icon"])])),_:1})])),_:1})])):(0,n.kq)("v-if",!0),(0,n._)("main",null,[(0,n._)("div",_c,[s.loading&&!o.isCreate?((0,n.wg)(),(0,n.j4)(p,{key:0,message:"Loading SSO Configuration..."})):(0,n.kq)("v-if",!0),s.loading&&o.isCreate?((0,n.wg)(),(0,n.j4)(p,{key:1,message:"Creating SSO Configuration..."})):((0,n.wg)(),(0,n.iD)("form",Uc,[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(o.pageTitle),1)])),_:1}),(0,n.Wm)(m,{modelValue:s.input.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.name=e),error:s.errors.name},{default:(0,n.w5)((()=>[(0,n.Uk)(" Configuration Name ")])),_:1},8,["modelValue","error"]),(0,n.Wm)(m,{modelValue:s.input.domainFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.domainFilter=e),error:s.errors.domainFilter,placeholder:"@example.com"},{description:(0,n.w5)((()=>[(0,n.Uk)("The email domain this provider should be used for.")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Email Domain ")])),_:1},8,["modelValue","error"]),o.isCreate?((0,n.wg)(),(0,n.j4)(h,{key:0,disabled:!o.formValid,onClick:t[2]||(t[2]=e=>o.createProvider())},{default:(0,n.w5)((()=>[(0,n.Uk)(" Create configuration ")])),_:1},8,["disabled"])):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(m,{modelValue:s.provider.acsURL,"onUpdate:modelValue":t[3]||(t[3]=e=>s.provider.acsURL=e),type:"uneditable"},{default:(0,n.w5)((()=>[(0,n.Uk)("ACS URL")])),_:1},8,["modelValue"]),(0,n.Wm)(m,{modelValue:s.provider.entityID,"onUpdate:modelValue":t[4]||(t[4]=e=>s.provider.entityID=e),type:"uneditable"},{default:(0,n.w5)((()=>[(0,n.Uk)("Entity ID / Issuer")])),_:1},8,["modelValue"]),(0,n.Wm)(m,{modelValue:s.input.options.entryPoint,"onUpdate:modelValue":t[5]||(t[5]=e=>s.input.options.entryPoint=e)},{description:(0,n.w5)((()=>[(0,n.Uk)("Supplied by your Identity Provider")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Identity Provider Single Sign-On URL ")])),_:1},8,["modelValue"]),(0,n.Wm)(m,{modelValue:s.input.options.idpIssuer,"onUpdate:modelValue":t[6]||(t[6]=e=>s.input.options.idpIssuer=e)},{description:(0,n.w5)((()=>[(0,n.Uk)("Supplied by your Identity Provider")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Identity Provider Issuer ID / URL ")])),_:1},8,["modelValue"]),(0,n.Wm)(m,{modelValue:s.input.options.cert,"onUpdate:modelValue":t[8]||(t[8]=e=>s.input.options.cert=e)},{description:(0,n.w5)((()=>[(0,n.Uk)("Supplied by your Identity Provider")])),input:(0,n.w5)((()=>[(0,n.wy)((0,n._)("textarea",{class:"font-mono w-full",placeholder:"---BEGIN CERTIFICATE---\nloremipsumdolorsitamet\nconsecteturadipiscinge\n---END CERTIFICATE---\n",rows:"6","onUpdate:modelValue":t[7]||(t[7]=e=>s.input.options.cert=e)},null,512),[[Oe.vModelText,s.input.options.cert]])])),default:(0,n.w5)((()=>[(0,n.Uk)(" X.509 Certificate Public Key ")])),_:1},8,["modelValue"]),(0,n.Wm)(m,{modelValue:s.input.active,"onUpdate:modelValue":t[9]||(t[9]=e=>s.input.active=e),type:"checkbox"},{default:(0,n.w5)((()=>[(0,n.Uk)("Active")])),_:1},8,["modelValue"]),(0,n.Wm)(h,{disabled:!o.formValid,onClick:t[10]||(t[10]=e=>o.updateProvider())},{default:(0,n.w5)((()=>[(0,n.Uk)(" Update configuration ")])),_:1},8,["disabled"])],64))]))])])],64)}]]),Pc={name:"AdminSettingsSSO",computed:{...(0,o.rn)("account",["features"]),providerColumns(){return[{label:"Active",key:"active",class:["w-16"]},{label:"Configuration Name",key:"name"},{label:"Email Domain",key:"domainFilter"}]}},data(){return{loading:!1,providers:[],selectedProvider:null}},methods:{fetchData:async function(){const e=await(async()=>ba.Z.get("/ee/sso/providers").then((e=>e.data)))();this.providers=e.providers,this.loading=!1},providerSelected:function(e){this.$router.push({name:"AdminSettingsSSOEdit",params:{id:e.id}})},deleteProvider:function(e){Xe.Z.show({header:"Delete SAML Provider",kind:"danger",text:"Are you sure you want to delete this SAML Provider configuration? Any users with a matching email domain will no longer be able to login using SSO and will have to reset their FlowForge password to continue.",confirmLabel:"Delete"},(async()=>{(async e=>await ba.Z.delete(`/ee/sso/providers/${e}`))(e.id).then((()=>{this.fetchData()})).catch((e=>{e.response&&e.response.data&&e.response.data.error?Ee.Z.emit(e.response.data.error,"warning"):Ee.Z.emit(e.message,"warning")}))}))}},async beforeMount(){this.features.sso||this.$router.push({path:"/admin/settings"})},mounted(){this.fetchData()},components:{FormHeading:Pe.Z,PlusSmIcon:Ct.Z}},Zc=(0,f.Z)(Pc,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormHeading"),l=(0,n.up)("PlusSmIcon"),c=(0,n.up)("ff-button"),d=(0,n.up)("ff-list-item"),p=(0,n.up)("ff-data-table");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)("SSO Configurations")])),_:1}),(0,n.Wm)(p,{"data-el":"sso-providers",columns:o.providerColumns,rows:s.providers,"rows-selectable":!0,onRowSelected:o.providerSelected,"show-search":!0},{actions:(0,n.w5)((()=>[(0,n.Wm)(c,{to:{name:"AdminSettingsSSOEdit",params:{id:"create"}}},{"icon-right":(0,n.w5)((()=>[(0,n.Wm)(l)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Create SSO SAML Configuration ")])),_:1})])),"context-menu":(0,n.w5)((({row:e})=>[(0,n.Wm)(d,{label:"Edit Properties",onClick:(0,Oe.withModifiers)((t=>o.providerSelected(e)),["stop"])},null,8,["onClick"]),(0,n.Wm)(d,{label:"Delete SAML Configuration",kind:"danger",onClick:(0,Oe.withModifiers)((t=>o.deleteProvider(e)),["stop"])},null,8,["onClick"])])),_:1},8,["columns","rows","onRowSelected"])],64)}]]);const Mc={class:"flex-grow"};var Bc={name:"AdminSettings",data(){return{sideNavigation:[{name:"General",path:"./general"},{name:"License",path:"./license"},{name:"Email",path:"./email"}]}},mounted(){this.features.sso&&this.sideNavigation.push({name:"SSO",path:"./sso"})},computed:{...(0,o.rn)("account",["features"])},components:{SectionTopMenu:Wa}},Fc=(0,f.Z)(Bc,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{hero:"Settings",options:s.sideNavigation},null,8,["options"]),(0,n._)("div",Mc,[(0,n.Wm)(l)])],64)}]]);const Wc={class:"space-y-6"},Nc={key:2},Rc={key:5},Lc={class:"font-medium"},qc={class:"pl-2"};var Hc={name:"StackPropertiesCell",computed:{...(0,o.rn)("account",["settings"])},props:["properties"]},Oc=(0,f.Z)(Hc,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.settings.stacks.properties,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n._)("div",Lc,(0,l.toDisplayString)(e.label),1),(0,n._)("div",qc,(0,l.toDisplayString)(a.properties[t]),1)])))),128))])}]]);const Gc={key:0},Yc={key:0},zc={key:1},Kc={key:2};var Xc={name:"AdminStackCreateDialog",components:{FormRow:Ae.Z},emits:["stack-created","stack-updated"],data(){return{stack:null,stacks:[],instanceTypes:[],loading:!1,input:{name:"",label:"",active:!0,properties:{},replaces:null},errors:{},editDisabled:!1,editTypeDisabled:!1}},watch:{"input.properties":{deep:!0,handler(e){this.stackProperties.forEach((t=>{e[t.name]&&!t.validator.test(e[t.name])?this.errors[t.name]=t.invalidMessage:this.errors[t.name]=""}))}},"input.name":function(e){e&&!/^[a-z0-9-_/@.]+$/i.test(e)?this.errors.name="Must only contain a-z 0-9 - _ / @ .":this.errors.name=""}},computed:{...(0,o.rn)("account",["settings"]),dialogTitle(){return this.stack?"Update stack":this.input.replaces?"Create new stack version":"Create stack"},formValid(){let e=!1;return this.stackProperties.forEach((t=>{this.input.properties[t.name]&&!this.errors[t.name]||(e=!0)})),!e&&this.input.name&&!this.errors.name&&this.input.projectType},stackProperties(){return Object.entries(this.settings.stacks.properties).map((([e,t])=>({name:e,label:t.label,description:t.description,invalidMessage:t.invalidMessage||"Invalid",validator:new RegExp(t.validate)})))}},mounted(){this.loadTypes()},methods:{async loadTypes(){const e=await kr(null,100,"all");this.instanceTypes=e.types.map((e=>(e.active||(e.label=e.label+" (inactive)"),e))),this.instanceTypes.sort((function(e,t){return e.active!==t.active?e.active?-1:1:e.order!==t.order?e.order-t.order:e.name.localeCompare(t.name)}))},confirm(){if(this.formValid||!this.loading){this.loading=!0;let e={name:this.input.name,label:this.input.label,active:this.input.active,projectType:this.input.projectType,properties:{}};this.input.replaces&&(e.replace=this.input.replaces.id),this.stackProperties.forEach((t=>{e.properties[t.name]=this.input.properties[t.name]})),this.stack?(this.editDisabled&&(e={active:this.input.active,label:this.input.label},!this.editTypeDisabled&&this.input.projectType&&(e.projectType=this.input.projectType)),(async(e,t)=>ba.Z.put(`/api/v1/stacks/${e}`,t).then((e=>e.data)))(this.stack.id,e).then((e=>{this.$emit("stack-updated",e)})).catch((e=>{console.error(e.response.data),e.response.data&&/name/.test(e.response.data.error)&&(this.errors.name="Name unavailable")})).finally((()=>{this.loading=!1}))):(async e=>ba.Z.post("/api/v1/stacks/",e).then((e=>e.data)))(e).then((e=>{this.input.replaces&&(this.input.replaces.active=!1,this.input.replaces.replacedBy=e.id),this.$emit("stack-created",e,this.input.replaces)})).catch((e=>{console.error(e.response.data),e.response.data&&/name/.test(e.response.data.error)&&(this.errors.name="Name unavailable")})).finally((()=>{this.loading=!1}))}}},setup(){return{showCreate(){this.$refs.dialog.show(),this.stack=null,this.editDisabled=!1,this.editTypeDisabled=!1,this.input={active:!0,name:"",properties:{},replaces:null},this.errors={},0===this.instanceTypes.length&&(this.errors.projectType="No instance types available. Ask an Administrator to create a new instance type definition")},showEdit(e){this.$refs.dialog.show(),this.stack=e,this.editDisabled=e.instanceCount>0,this.editTypeDisabled=!!e.projectType,this.input={name:e.name,label:e.label,active:e.active,properties:{},replaces:null,projectType:e.projectType},e.properties&&Object.entries(e.properties).forEach((([e,t])=>{this.input.properties[e]=t})),this.errors={}},showCreateVersion(e){this.$refs.dialog.show(),this.stack=null,this.editDisabled=!1,this.editTypeDisabled=!0,this.input={active:!0,name:e.name+"-copy",label:e.label,properties:{},projectType:e.projectType,replaces:e},e.properties&&Object.entries(e.properties).forEach((([e,t])=>{this.input.properties[e]=t})),this.errors={}}}}},$c=(0,f.Z)(Xc,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),c=(0,n.up)("FormRow"),d=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(d,{ref:"dialog",header:o.dialogTitle,"confirm-label":s.stack?"Save":"Create",onConfirm:t[5]||(t[5]=e=>o.confirm()),"disable-primary":!o.formValid||s.loading},{default:(0,n.w5)((()=>[s.loading?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Creating Stack..."})):((0,n.wg)(),(0,n.iD)("form",{key:1,class:"space-y-6",onSubmit:t[4]||(t[4]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[s.input.replaces?((0,n.wg)(),(0,n.iD)("div",Gc," This will create a new stack to replace '"+(0,l.toDisplayString)(s.input.replaces.name)+"'. The existing stack will be marked inactive and will not be available for use by new instances. ",1)):(0,n.kq)("v-if",!0),(0,n.Wm)(c,{modelValue:s.input.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.name=e),error:s.errors.name,disabled:s.editDisabled},{description:(0,n.w5)((()=>[(0,n.Uk)("An internal name for the stack. This must be unique and can only contain a-z 0-9 - _ / @ .")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Name ")])),_:1},8,["modelValue","error","disabled"]),(0,n.Wm)(c,{modelValue:s.input.label,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.label=e),error:s.errors.label},{description:(0,n.w5)((()=>[(0,n.Uk)("This is how the stack is shown to users.")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Label ")])),_:1},8,["modelValue","error"]),(0,n.Wm)(c,{modelValue:s.input.active,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.active=e),type:"checkbox"},{default:(0,n.w5)((()=>[(0,n.Uk)("Active")])),_:1},8,["modelValue"]),s.editDisabled?((0,n.wg)(),(0,n.iD)("div",Kc," This stack is being used by instances. Its properties cannot be modified, other than to change its active state and label ")):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(c,{options:s.instanceTypes,disabled:s.editTypeDisabled,error:s.errors.projectType,modelValue:s.input.projectType,"onUpdate:modelValue":t[3]||(t[3]=e=>s.input.projectType=e),id:"projectType"},{description:(0,n.w5)((()=>[s.editTypeDisabled?((0,n.wg)(),(0,n.iD)("div",Yc,"Stacks cannot be moved to a different instance type")):s.stack&&!s.stack.projectType?((0,n.wg)(),(0,n.iD)("div",zc,"You can assign this stack to an instance type as a one-time action. Once assigned you cannot move it.")):(0,n.kq)("v-if",!0)])),default:(0,n.w5)((()=>[(0,n.Uk)("Instance Type ")])),_:1},8,["options","disabled","error","modelValue"]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.stackProperties,(e=>((0,n.wg)(),(0,n.j4)(c,{key:e.name,modelValue:s.input.properties[e.name],"onUpdate:modelValue":t=>s.input.properties[e.name]=t,error:s.errors[e.name],disabled:s.editDisabled},(0,n.Nv)({default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(e.label)+" ",1)])),_:2},[e.description?{name:"description",fn:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(e.description),1)])),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","error","disabled"])))),128))],64))],32))])),_:1},8,["header","confirm-label","disable-primary"])}]]);const Qc={template:'<div class="flex items-center">\n        <DesktopComputerIcon class="w-6 mr-2 text-gray-500" />\n        <div class="flex flex-grow flex-col space-y-1">\n            <span class="text-lg">{{label || name}}</span>\n            <span class="text-xs text-gray-500">name: {{ name }}</span>\n            <span class="text-xs text-gray-500">id: {{id}}</span>\n            <span v-if="projectTypeName" class="text-xs text-gray-500">type: {{projectTypeName}}</span>\n        </div>\n    </div>',props:["id","name","label","description","projectTypeName"],components:{DesktopComputerIcon:oi.Z}};function Jc(e,t){return e.projectType===t.projectType?e.createdAt.localeCompare(t.createdAt):e.projectType?t.projectType?this.instanceTypes[e.projectType].order-this.instanceTypes[t.projectType].order:1:-1}var ed={name:"AdminStacks",data(){return{allStacks:new Map,instanceTypes:[],loadingActive:!1,loadingInactive:!1,nextActiveCursor:null,nextInactiveCursor:null,activeColumns:[{label:"Stack",key:"name",component:{is:(0,et.Xl)(Qc)}},{label:"Properties",component:{is:(0,et.Xl)(Oc)}},{label:"Instance Count",key:"instanceCount",class:["w-32","text-center"]}],inactiveColumns:[{label:"Stack",component:{is:(0,et.Xl)(Qc)}},{label:"Properties",component:{is:(0,et.Xl)(Oc)}},{label:"Replaced By",key:"replacedBy",class:["w-56"]},{label:"Instance Count",key:"instanceCount",class:["w-32","text-center"]}]}},async created(){(await kr(null,100,"all")).types.forEach((e=>{this.instanceTypes[e.id]=e})),this.loadInactiveItems(),this.loadActiveItems()},computed:{...(0,o.rn)("account",["settings"]),stacksArray(){return Array.from(this.allStacks.values())},activeStacks(){return this.stacksArray.filter((e=>e.active)).sort(Jc.bind(this))},inactiveStacks(){return this.stacksArray.filter((e=>!e.active)).sort(Jc.bind(this))}},methods:{stackAction(e,t){const a=this.allStacks.get(t);if(a)switch(e){case"editProperties":this.$refs.adminStackEditDialog.showEdit(a);break;case"delete":{const e=a.instanceCount>0?"You cannot delete a stack that is still being used by instances.":"Are you sure you want to delete this stack?";Xe.Z.show({header:"Delete Stack",kind:"danger",text:e,confirmLabel:"Delete",disablePrimary:a.instanceCount>0},(async()=>{(async e=>await ba.Z.delete(`/api/v1/stacks/${e}`))(a.id).then((()=>{this.allStacks.delete(a.id)})).catch((e=>{e.response&&e.response.data&&e.response.data.error?Ee.Z.emit(e.response.data.error,"warning"):Ee.Z.emit(e.message,"warning")}))}));break}case"createNewVersion":this.$refs.adminStackEditDialog.showCreateVersion(a)}},showCreateStackDialog(){this.$refs.adminStackEditDialog.showCreate()},async stackCreated(e,t){this.allStacks.set(e.id,e),e.projectType&&(e.projectTypeName=this.instanceTypes[e.projectType]?.name),t&&this.stackUpdated(t)},async stackUpdated(e){this.allStacks.set(e.id,e),e.projectType&&(e.projectTypeName=this.instanceTypes[e.projectType]?.name)},loadActiveItems:async function(){this.loadingActive=!0;const e=await Er(this.nextActiveCursor,30,"active");this.nextActiveCursor=e.meta.next_cursor,e.stacks.forEach((e=>{e.projectType&&(e.projectTypeName=this.instanceTypes[e.projectType]?.name),this.allStacks.set(e.id,e)})),this.loadingActive=!1},loadInactiveItems:async function(){this.loadingInactive=!0;const e=await Er(this.nextInactiveCursor,30,"inactive");this.nextInactiveCursor=e.meta.next_cursor,e.stacks.forEach((e=>{e.projectType&&(e.projectTypeName=this.instanceTypes[e.projectType]?.name),this.allStacks.set(e.id,e)})),this.loadingInactive=!1}},components:{FormHeading:Pe.Z,AdminStackEditDialog:$c,PlusSmIcon:Ct.Z}},td=(0,f.Z)(ed,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormHeading"),l=(0,n.up)("ff-loading"),c=(0,n.up)("PlusSmIcon"),d=(0,n.up)("ff-button"),p=(0,n.up)("ff-list-item"),u=(0,n.up)("ff-data-table"),m=(0,n.up)("AdminStackEditDialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Wc,[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Active Stacks ")])),_:1}),s.loadingActive?((0,n.wg)(),(0,n.j4)(l,{key:0,message:"Loading Stacks..."})):(0,n.kq)("v-if",!0),s.loadingActive?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.j4)(u,{key:1,"data-el":"active-stacks",columns:s.activeColumns,rows:o.activeStacks,"show-search":!0,"search-placeholder":"Search by Stack Name...","no-data-message":"No Active Stacks Found"},{actions:(0,n.w5)((()=>[(0,n.Wm)(d,{onClick:o.showCreateStackDialog},{"icon-right":(0,n.w5)((()=>[(0,n.Wm)(c)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Create stack ")])),_:1},8,["onClick"])])),"context-menu":(0,n.w5)((({row:e})=>[(0,n.Wm)(p,{label:"Create New Version",onClick:t=>o.stackAction("createNewVersion",e.id)},null,8,["onClick"]),(0,n.Wm)(p,{label:"Edit Properties",onClick:t=>o.stackAction("editProperties",e.id)},null,8,["onClick"]),(0,n.Wm)(p,{label:"Delete Stack",kind:"danger",onClick:t=>o.stackAction("delete",e.id)},null,8,["onClick"])])),_:1},8,["columns","rows"])),s.nextActiveCursor?((0,n.wg)(),(0,n.iD)("div",Nc,[s.loadingActive?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("a",{key:0,onClick:t[0]||(t[0]=(0,Oe.withModifiers)(((...e)=>o.loadActiveItems&&o.loadActiveItems(...e)),["stop"])),class:"forge-button-inline","data-action":"load-more-active"},"Load more..."))])):(0,n.kq)("v-if",!0),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Inactive Stacks")])),_:1}),s.loadingInactive?((0,n.wg)(),(0,n.j4)(l,{key:3,message:"Loading Stacks..."})):(0,n.kq)("v-if",!0),s.loadingInactive?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.j4)(u,{key:4,"data-el":"inactive-stacks",columns:s.inactiveColumns,rows:o.inactiveStacks,"show-search":!0,"search-placeholder":"Search by Stack Name...","no-data-message":"No Inactive Stacks Found"},{"context-menu":(0,n.w5)((({row:e})=>[(0,n.Wm)(p,{label:"Create New Version",onClick:t=>o.stackAction("createNewVersion",e.id)},null,8,["onClick"]),(0,n.Wm)(p,{label:"Edit Properties",onClick:t=>o.stackAction("editProperties",e.id)},null,8,["onClick"]),(0,n.Wm)(p,{label:"Delete Stack",kind:"danger",onClick:t=>o.stackAction("delete",e.id)},null,8,["onClick"])])),_:1},8,["columns","rows"])),s.nextInactiveCursor?((0,n.wg)(),(0,n.iD)("div",Rc,[s.loadingInactive?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("a",{key:0,onClick:t[1]||(t[1]=(0,Oe.withModifiers)(((...e)=>o.loadInactiveItems&&o.loadInactiveItems(...e)),["stop"])),class:"forge-button-inline","data-action":"load-more-inactive"},"Load more..."))])):(0,n.kq)("v-if",!0)]),(0,n.Wm)(m,{onStackCreated:o.stackCreated,onStackUpdated:o.stackUpdated,ref:"adminStackEditDialog"},null,8,["onStackCreated","onStackUpdated"])],64)}]]);const ad={class:"space-y-6"},id={key:0},nd={key:1},sd={class:"grid gap-3 grid-cols-3 items-middle"},od={class:"col-span-2"},rd={class:"pt-8"},ld={class:"grid gap-2 grid-cols-3"},cd={class:"space-y-2"},dd={key:0,class:"grid gap-2 grid-cols-3 pl-4"},pd={class:"col-span-2"},ud={key:1,class:"grid gap-2 grid-cols-3 pl-4"},md={class:"grid gap-3 grid-cols-8"},hd={key:0,class:"grid gap-3 grid-cols-4 pl-4"},gd={class:"grid gap-3 grid-cols-2"},fd={class:"grid gap-3 grid-cols-4"},vd={class:"grid gap-3 grid-cols-2"},yd={class:"w-full grow flex justify-between"},kd={class:"flex"};var bd={name:"TeamTypeCreateDialog",components:{FormRow:Ae.Z,FormHeading:Pe.Z},emits:["team-type-updated","team-type-created","show-delete-dialog"],setup(){return{async show(e){const t=await kr();t.types.sort(((e,t)=>e.order-t.order)),this.instanceTypes=t.types,this.trialInstanceTypes=this.instanceTypes.map((e=>({value:e.id,label:`Single ${e.name} instance`}))),this.trialInstanceTypes.unshift({value:"_",label:"All team features"}),this.teamType=e,e?(this.editDisabled=e.instanceCount>0,this.input.name=e.name,this.input.active=e.active,this.input.description=e.description,this.input.properties.users=e.properties?.users||{},this.input.properties.devices=e.properties?.devices||{},this.input.properties.instances=e.properties?.instances||{},this.input.properties.features=e.properties?.features||{},this.input.properties.billing=e.properties?.billing||{},this.input.properties.trial=e.properties?.trial||{},this.input.properties.trial.active&&!this.input.properties.trial.instanceType&&(this.input.properties.trial.instanceType="_"),this.input.order=""+(e.order||0)):(this.editDisabled=!1,this.input={name:"",active:!0,description:"",order:"0",properties:{billing:{},users:{},devices:{},instances:{},features:{}}}),this.instanceTypes.forEach((e=>{this.input.properties.instances[e.id]||(this.input.properties.instances[e.id]={active:!1})})),this.errors={},this.$refs.dialog.show()}}},data(){return{teamType:null,instanceTypes:[],trialInstanceTypes:[],input:{name:"",active:!0,description:"",order:"0",properties:{billing:{},devices:{},users:{},instances:{},features:{},trial:{}}},errors:{},editDisabled:!1}},computed:{...(0,o.rn)("account",["features"]),formValid(){return this.input.name},dialogTitle(){return this.teamType?"Edit team type":"Create team type"}},methods:{confirm(){if(this.formValid){const e={name:this.input.name,active:this.input.active,description:this.input.description,order:parseInt(this.input.order),properties:{users:{...this.input.properties.users},devices:{...this.input.properties.devices},instances:{...this.input.properties.instances},features:{...this.input.properties.features}}};function t(e,t){""===e[t]||null===e[t]?delete e[t]:e[t]=parseInt(e[t])}t(e.properties.users,"limit"),t(e.properties.devices,"limit");for(const a of Object.values(e.properties.instances))t(a,"limit");if(this.features.billing){t(e.properties.devices,"free");for(const i of Object.values(e.properties.instances))t(i,"free");e.properties.billing={...this.input.properties.billing},this.input.properties.trial.active?(e.properties.trial={...this.input.properties.trial},t(e.properties.trial,"duration"),"_"===e.properties.trial.instanceType&&delete e.properties.trial.instanceType):e.properties.trial={active:!1}}this.teamType?(async(e,t)=>ba.Z.put(`/api/v1/team-types/${e}`,t).then((e=>e.data)))(this.teamType.id,e).then((e=>{this.$emit("team-type-updated",e)})).catch((e=>{console.error(e.response.data),e.response.data&&/name/.test(e.response.data.error)&&(this.errors.name="Name unavailable")})):(async e=>ba.Z.post("/api/v1/team-types/",e).then((e=>e.data)))(e).then((e=>{this.$emit("team-type-created",e)})).catch((e=>{console.error(e.response.data),e.response.data&&/name/.test(e.response.data.error)&&(this.errors.name="Name unavailable")}))}}}},wd=(0,f.Z)(bd,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),c=(0,n.up)("FormHeading"),d=(0,n.up)("ff-button"),p=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(p,{ref:"dialog",header:o.dialogTitle},{default:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-6 mt-2",onSubmit:t[19]||(t[19]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n._)("div",sd,[(0,n._)("div",od,[(0,n.Wm)(r,{modelValue:s.input.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.name=e),error:s.errors.name,"data-form":"name"},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),_:1},8,["modelValue","error"])]),(0,n._)("div",rd,[(0,n.Wm)(r,{modelValue:s.input.active,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.active=e),type:"checkbox","data-form":"active"},{default:(0,n.w5)((()=>[(0,n.Uk)("Active")])),_:1},8,["modelValue"])])]),(0,n.Wm)(r,{modelValue:s.input.order,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.order=e)},{description:(0,n.w5)((()=>[(0,n.Uk)("Set the sort order when listing the types")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Order ")])),_:1},8,["modelValue"]),(0,n.Wm)(r,{modelValue:s.input.description,"onUpdate:modelValue":t[4]||(t[4]=e=>s.input.description=e),error:s.errors.description,"data-form":"description"},{description:(0,n.w5)((()=>[(0,n.Uk)("Use markdown for formatting")])),input:(0,n.w5)((()=>[(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.input.description=e),class:"w-full",rows:"6"},null,512),[[Oe.vModelText,s.input.description]])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Description ")])),_:1},8,["modelValue","error"]),e.features.billing?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Billing")])),_:1}),(0,n._)("div",ld,[(0,n.Wm)(r,{modelValue:s.input.properties.billing.productId,"onUpdate:modelValue":t[5]||(t[5]=e=>s.input.properties.billing.productId=e),type:s.editDisabled?"uneditable":""},{default:(0,n.w5)((()=>[(0,n.Uk)("Product Id")])),_:1},8,["modelValue","type"]),(0,n.Wm)(r,{modelValue:s.input.properties.billing.priceId,"onUpdate:modelValue":t[6]||(t[6]=e=>s.input.properties.billing.priceId=e),type:s.editDisabled?"uneditable":""},{default:(0,n.w5)((()=>[(0,n.Uk)("Price Id")])),_:1},8,["modelValue","type"]),(0,n.Wm)(r,{modelValue:s.input.properties.billing.description,"onUpdate:modelValue":t[7]||(t[7]=e=>s.input.properties.billing.description=e),placeholder:"eg. $10/month",type:s.editDisabled?"uneditable":""},{default:(0,n.w5)((()=>[(0,n.Uk)("Description")])),_:1},8,["modelValue","type"])]),(0,n._)("div",cd,[(0,n.Wm)(r,{modelValue:s.input.properties.trial.active,"onUpdate:modelValue":t[8]||(t[8]=e=>s.input.properties.trial.active=e),type:"checkbox",class:"mb-4"},{default:(0,n.w5)((()=>[(0,n.Uk)("Enable trial mode for personal teams")])),_:1},8,["modelValue"]),s.input.properties.trial.active?((0,n.wg)(),(0,n.iD)("div",dd,[(0,n.Wm)(r,{modelValue:s.input.properties.trial.duration,"onUpdate:modelValue":t[9]||(t[9]=e=>s.input.properties.trial.duration=e),type:s.editDisabled?"uneditable":"",placeholder:"days"},{default:(0,n.w5)((()=>[(0,n.Uk)("Duration")])),_:1},8,["modelValue","type"]),(0,n._)("div",pd,[(0,n.Wm)(r,{modelValue:s.input.properties.trial.instanceType,"onUpdate:modelValue":t[10]||(t[10]=e=>s.input.properties.trial.instanceType=e),options:s.trialInstanceTypes},{default:(0,n.w5)((()=>[(0,n.Uk)("Trial Features")])),_:1},8,["modelValue","options"])])])):(0,n.kq)("v-if",!0),s.input.properties.trial.active?((0,n.wg)(),(0,n.iD)("div",ud,[(0,n.Wm)(r,{modelValue:s.input.properties.trial.productId,"onUpdate:modelValue":t[11]||(t[11]=e=>s.input.properties.trial.productId=e),type:s.editDisabled?"uneditable":""},{default:(0,n.w5)((()=>[(0,n.Uk)("Trial Product Id")])),_:1},8,["modelValue","type"]),(0,n.Wm)(r,{modelValue:s.input.properties.trial.priceId,"onUpdate:modelValue":t[12]||(t[12]=e=>s.input.properties.trial.priceId=e),type:s.editDisabled?"uneditable":""},{default:(0,n.w5)((()=>[(0,n.Uk)("Trial Price Id")])),_:1},8,["modelValue","type"])])):(0,n.kq)("v-if",!0)])],64)):(0,n.kq)("v-if",!0),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Users")])),_:1}),(0,n._)("div",md,[(0,n.Wm)(r,{modelValue:s.input.properties.users.limit,"onUpdate:modelValue":t[13]||(t[13]=e=>s.input.properties.users.limit=e)},{default:(0,n.w5)((()=>[(0,n.Uk)("# Limit")])),_:1},8,["modelValue"])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.instanceTypes,((t,a)=>((0,n.wg)(),(0,n.iD)("div",{key:a},[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Instance Type: "+(0,l.toDisplayString)(t.name),1)])),_:2},1024),(0,n.Wm)(r,{modelValue:s.input.properties.instances[t.id].active,"onUpdate:modelValue":e=>s.input.properties.instances[t.id].active=e,type:"checkbox",class:"mb-4"},{default:(0,n.w5)((()=>[(0,n.Uk)("Available")])),_:2},1032,["modelValue","onUpdate:modelValue"]),s.input.properties.instances[t.id].active?((0,n.wg)(),(0,n.iD)("div",hd,[(0,n._)("div",gd,[(0,n.Wm)(r,{modelValue:s.input.properties.instances[t.id].limit,"onUpdate:modelValue":e=>s.input.properties.instances[t.id].limit=e},{default:(0,n.w5)((()=>[(0,n.Uk)("# Limit")])),_:2},1032,["modelValue","onUpdate:modelValue"]),e.features.billing?((0,n.wg)(),(0,n.j4)(r,{key:0,modelValue:s.input.properties.instances[t.id].free,"onUpdate:modelValue":e=>s.input.properties.instances[t.id].free=e},{default:(0,n.w5)((()=>[(0,n.Uk)("# Free")])),_:2},1032,["modelValue","onUpdate:modelValue"])):(0,n.kq)("v-if",!0)]),e.features.billing?((0,n.wg)(),(0,n.j4)(r,{key:0,modelValue:s.input.properties.instances[t.id].productId,"onUpdate:modelValue":e=>s.input.properties.instances[t.id].productId=e,type:s.editDisabled?"uneditable":""},{default:(0,n.w5)((()=>[(0,n.Uk)("Product Id")])),_:2},1032,["modelValue","onUpdate:modelValue","type"])):(0,n.kq)("v-if",!0),e.features.billing?((0,n.wg)(),(0,n.j4)(r,{key:1,modelValue:s.input.properties.instances[t.id].priceId,"onUpdate:modelValue":e=>s.input.properties.instances[t.id].priceId=e,type:s.editDisabled?"uneditable":""},{default:(0,n.w5)((()=>[(0,n.Uk)("Price Id")])),_:2},1032,["modelValue","onUpdate:modelValue","type"])):(0,n.kq)("v-if",!0),e.features.billing?((0,n.wg)(),(0,n.j4)(r,{key:2,modelValue:s.input.properties.instances[t.id].description,"onUpdate:modelValue":e=>s.input.properties.instances[t.id].description=e,placeholder:"eg. $10/month",type:s.editDisabled?"uneditable":""},{default:(0,n.w5)((()=>[(0,n.Uk)("Description")])),_:2},1032,["modelValue","onUpdate:modelValue","type"])):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0)])))),128)),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Devices")])),_:1}),(0,n._)("div",fd,[(0,n._)("div",vd,[(0,n.Wm)(r,{modelValue:s.input.properties.devices.limit,"onUpdate:modelValue":t[14]||(t[14]=e=>s.input.properties.devices.limit=e)},{default:(0,n.w5)((()=>[(0,n.Uk)("# Limit")])),_:1},8,["modelValue"]),e.features.billing?((0,n.wg)(),(0,n.j4)(r,{key:0,modelValue:s.input.properties.devices.free,"onUpdate:modelValue":t[15]||(t[15]=e=>s.input.properties.devices.free=e)},{default:(0,n.w5)((()=>[(0,n.Uk)("# Free")])),_:1},8,["modelValue"])):(0,n.kq)("v-if",!0)]),e.features.billing?((0,n.wg)(),(0,n.j4)(r,{key:0,modelValue:s.input.properties.devices.productId,"onUpdate:modelValue":t[16]||(t[16]=e=>s.input.properties.devices.productId=e),type:s.editDisabled?"uneditable":""},{default:(0,n.w5)((()=>[(0,n.Uk)("Product Id")])),_:1},8,["modelValue","type"])):(0,n.kq)("v-if",!0),e.features.billing?((0,n.wg)(),(0,n.j4)(r,{key:1,modelValue:s.input.properties.devices.priceId,"onUpdate:modelValue":t[17]||(t[17]=e=>s.input.properties.devices.priceId=e),type:s.editDisabled?"uneditable":""},{default:(0,n.w5)((()=>[(0,n.Uk)("Price Id")])),_:1},8,["modelValue","type"])):(0,n.kq)("v-if",!0),e.features.billing?((0,n.wg)(),(0,n.j4)(r,{key:2,modelValue:s.input.properties.devices.description,"onUpdate:modelValue":t[18]||(t[18]=e=>s.input.properties.devices.description=e),placeholder:"eg. $10/month",type:s.editDisabled?"uneditable":""},{default:(0,n.w5)((()=>[(0,n.Uk)("Description")])),_:1},8,["modelValue","type"])):(0,n.kq)("v-if",!0)]),(0,n.kq)(' <FormHeading>Features</FormHeading>\n                <div class="grid gap-3 grid-cols-2">\n                    <FormRow v-model="input.properties.features.projectComms" type="checkbox">Project Nodes</FormRow>\n                    <FormRow v-model="input.properties.features[\'shared-library\']" type="checkbox">Team Library</FormRow>\n                    <FormRow v-model="input.properties.features.teamHttpSecurity" type="checkbox">Team-based Endpoint Security</FormRow>\n                    <FormRow v-model="input.properties.features.ha" type="checkbox">High Availability</FormRow>\n                    <FormRow v-model="input.properties.features.fileStorageLimit">Persistent File storage limit (Mb)</FormRow>\n                    <FormRow v-model="input.properties.features.contextLimit">Persistent Context storage limit (Mb)</FormRow>\n                </div> ')],32)])),actions:(0,n.w5)((()=>[(0,n._)("div",yd,[(0,n._)("div",null,[s.teamType?((0,n.wg)(),(0,n.j4)(d,{key:0,kind:"danger",style:{margin:"0"},onClick:t[20]||(t[20]=t=>{e.$emit("show-delete-dialog",s.teamType),e.$refs.dialog.close()})},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete Team Type")])),_:1})):(0,n.kq)("v-if",!0)]),(0,n._)("div",kd,[(0,n.Wm)(d,{kind:"secondary",onClick:t[21]||(t[21]=t=>e.$refs.dialog.close())},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1}),(0,n.Wm)(d,{disabled:!o.formValid,onClick:t[22]||(t[22]=t=>{o.confirm(),e.$refs.dialog.close()})},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(s.teamType?"Update":"Create"),1)])),_:1},8,["disabled"])])])])),_:1},8,["header"])}]]);const xd=a(970);var Ad={name:"AdminTeamTypes",components:{SectionTopMenu:Wa,PlusSmIcon:Ct.Z,TeamTypeEditDialog:wd},data(){return{teamTypes:[],loading:!1,nextCursor:null,columns:[{label:"ID",key:"id",sortable:!0,class:["w-32"]},{label:"Type",key:"name",sortable:!0},{label:"Team Count",class:["w-32","text-center"],key:"teamCount",sortable:!0}]}},computed:{activeTeamTypes(){return this.teamTypes.filter((e=>e.active))},inactiveTeamTypes(){return this.teamTypes.filter((e=>!e.active))}},async created(){await this.loadItems()},methods:{teamTypeAction(e,t){const a=this.teamTypes.findIndex((e=>e.id===t)),i=this.teamTypes[a];switch(e){case"edit":this.showEditTeamTypeDialog(i);break;case"delete":this.showConfirmTeamTypeDeleteDialog(i)}},showCreateTeamTypeDialog(){this.$refs.adminTeamTypeEditDialog.show()},showEditTeamTypeDialog(e){this.$refs.adminTeamTypeEditDialog.show(e)},showConfirmTeamTypeDeleteDialog(e){const t=e.teamCount>0?"You cannot delete a team type that is still being used.":"Are you sure you want to delete this team type?";Xe.Z.show({header:"Delete Team Type",kind:"danger",text:t,confirmLabel:"Delete",disablePrimary:e.teamCount>0},(async()=>{await(async e=>await ba.Z.delete(`/api/v1/team-types/${e}`))(e.id);const t=this.teamTypes.findIndex((t=>t.id===e.id));this.teamTypes.splice(t,1)}))},async teamTypeCreated(e){this.teamTypes.push(e),this.resortTypes()},async teamTypeUpdated(e){const t=this.teamTypes.findIndex((t=>t.id===e.id));t>-1&&(e.htmlDescription=xd.parse(e.description),this.teamTypes[t]=e,this.resortTypes())},resortTypes(){this.teamTypes.sort(((e,t)=>e.order!==t.order?e.order-t.order:e.name.localeCompare(t.name)))},loadItems:async function(){this.loading=!0;const e=await ql(this.nextCursor,30,"all");this.nextCursor=e.meta.next_cursor,e.types.forEach((e=>{this.teamTypes.push(e)}))}}},Dd=(0,f.Z)(Ad,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("PlusSmIcon"),l=(0,n.up)("ff-button"),c=(0,n.up)("SectionTopMenu"),d=(0,n.up)("ff-tile-selection-option"),p=(0,n.up)("ff-tile-selection"),u=(0,n.up)("ff-list-item"),m=(0,n.up)("ff-data-table"),h=(0,n.up)("TeamTypeEditDialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",ad,[(0,n.Wm)(c,{hero:"Team Types"},{tools:(0,n.w5)((()=>[(0,n.Wm)(l,{"data-action":"create-type",onClick:o.showCreateTeamTypeDialog},{"icon-right":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Create team type ")])),_:1},8,["onClick"])])),_:1}),(0,n.Wm)(p,{"data-el":"active-types"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.activeTeamTypes,((e,t)=>((0,n.wg)(),(0,n.j4)(d,{key:t,price:e.properties?.billingDescription?.split("/")[0]||"","price-interval":e.properties?.billingDescription?.split("/")[1]||"",label:e.name,description:e.description,meta:[{key:"ID",value:e.id},{key:"Team Count",value:e.teamCount}],editable:!0,onEdit:t=>o.showEditTeamTypeDialog(e)},null,8,["price","price-interval","label","description","meta","onEdit"])))),128))])),_:1}),s.nextCursor?((0,n.wg)(),(0,n.iD)("div",id,[s.loading?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("a",{key:0,class:"forge-button-inline",onClick:t[0]||(t[0]=(0,Oe.withModifiers)(((...e)=>o.loadItems&&o.loadItems(...e)),["stop"]))},"Load more..."))])):(0,n.kq)("v-if",!0),(0,n.Wm)(c,{hero:"Inactive Types"}),(0,n.Wm)(m,{columns:s.columns,rows:o.inactiveTeamTypes,"data-el":"inactive-types"},{"context-menu":(0,n.w5)((({row:e})=>[(0,n.Wm)(u,{label:"Edit Team Type",onClick:t=>o.teamTypeAction("edit",e.id)},null,8,["onClick"]),(0,n.Wm)(u,{label:"Delete Team Type",kind:"danger",onClick:t=>o.teamTypeAction("delete",e.id)},null,8,["onClick"])])),_:1},8,["columns","rows"]),s.nextCursor?((0,n.wg)(),(0,n.iD)("div",nd,[s.loading?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("a",{key:0,class:"forge-button-inline",onClick:t[1]||(t[1]=(0,Oe.withModifiers)(((...e)=>o.loadItems&&o.loadItems(...e)),["stop"]))},"Load more..."))])):(0,n.kq)("v-if",!0)]),(0,n.Wm)(h,{ref:"adminTeamTypeEditDialog",onTeamTypeCreated:o.teamTypeCreated,onTeamTypeUpdated:o.teamTypeUpdated,onShowDeleteDialog:o.showConfirmTeamTypeDeleteDialog},null,8,["onTeamTypeCreated","onTeamTypeUpdated","onShowDeleteDialog"])],64)}]]),Sd=async e=>ba.Z.post("/api/v1/teams/check-slug",{slug:e}).then((e=>e.data));const Td={class:"flex align-center"},Cd={class:"inline-flex flex-col"};var Ed={name:"TeamTypeCell",props:["type"]},Id=(0,f.Z)(Ed,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)("div",Td,[(0,n._)("div",Cd,[(0,n._)("div",null,(0,l.toDisplayString)(a.type.name),1)])])}]]),_d={name:"AdminTeams",data(){return{teams:[],teamSearch:"",loading:!1,nextCursor:null,columns:[{label:"Name",class:["w-full"],component:{is:(0,et.Xl)(bt)},sortable:!0},{label:"Type",key:"type",component:{is:(0,et.Xl)(Id)},sortable:!0},{label:"Members",class:["w-54","text-center"],key:"memberCount",sortable:!0},{label:"Application Instances",class:["w-54","text-center"],key:"instanceCount",sortable:!0}]}},async created(){await this.loadItems(!0)},watch:{teamSearch(e){this.pendingSearch&&clearTimeout(this.pendingSearch),e?(this.loading=!0,this.pendingSearch=setTimeout((()=>{this.loadItems(!0)}),300)):this.loadItems(!0)}},methods:{loadItems:async function(e){e&&(this.loading=!0,this.nextCursor=null);const t=await(async(e,t,a)=>{const i=(0,ka.Z)("/api/v1/teams",e,t,a);return ba.Z.get(i).then((e=>(e.data.teams=e.data.teams.map((e=>(e.link={name:"Team",params:{team_slug:e.slug}},e))),e.data)))})(this.nextCursor,30,this.teamSearch);e&&(this.teams=[]),this.nextCursor=t.meta.next_cursor,t.teams.forEach((e=>{this.teams.push(e)})),this.loading=!1},viewTeam(e){this.$router.push({name:"Team",params:{team_slug:e.slug}})}},components:{SectionTopMenu:Wa}},Ud=(0,f.Z)(_d,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("ff-data-table");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(r,{hero:"Teams"}),(0,n.Wm)(l,{columns:s.columns,rows:s.teams,"rows-selectable":!0,onRowSelected:o.viewTeam,"show-search":!0,search:s.teamSearch,"onUpdate:search":t[0]||(t[0]=e=>s.teamSearch=e),"search-placeholder":"Search Teams...","search-fields":["name","id"],"show-load-more":!!s.nextCursor,loading:s.loading,"loading-message":"Loading Teams",onLoadMore:o.loadItems,"no-data-message":"No Teams Found","data-el":"teams-table"},null,8,["columns","rows","onRowSelected","search","show-load-more","loading","onLoadMore"])])}]]);const Vd={class:"space-y-6"};var jd=a(7797),Pd={methods:{hasPermission(e){if(!jd.Permissions[e])throw new Error(`Unrecognised scope requested: '${e}'`);const t=jd.Permissions[e];if(t.role){if(!this.teamMembership)return!1;if(this.teamMembership.role<t.role)return!1}return!0}}};const Zd={class:"flex flex-col sm:flex-row"},Md={class:"space-y-4 w-full max-w-md sm:mr-8"},Bd={class:"flex flex-col sm:flex-row"},Fd={class:"w-full max-w-md sm:mr-8"},Wd={class:"flex flex-col sm:flex-row"},Nd={class:"w-full max-w-md sm:mr-8"},Rd=(0,n._)("pre",null,"'package-name@semVer, foo@^0.1.0, @scope/*'",-1),Ld={key:0,class:"flex"};var qd=a(6368),Hd={name:"ChangeIndicator",props:["value"],components:{SparklesIcon:qd.Z}},Od=(0,f.Z)(Hd,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SparklesIcon");return a.value?((0,n.wg)(),(0,n.iD)("div",Ld,[(0,n.Wm)(r,{class:"w-4"})])):(0,n.kq)("v-if",!0)}]]);const Gd={class:""},Yd={key:0};var zd={name:"LockSetting",props:["modelValue","changed","editTemplate"],emits:["update:modelValue"],computed:{locked(){return!this.editTemplate&&!this.localValue},localValue:{get(){return this.modelValue},set(e){var t;this.$emit("update:modelValue","true"===(t=e)||!0===t)}}},components:{FormRow:Ae.Z,ChangeIndicator:Od,LockClosedIcon:ri.Z}},Kd=(0,f.Z)(zd,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("LockClosedIcon"),l=(0,n.up)("ChangeIndicator"),c=(0,n.up)("FormRow"),d=(0,n.Q2)("ff-tooltip");return(0,n.wg)(),(0,n.iD)("div",Gd,[o.locked?(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",Yd,[(0,n.Wm)(r,{class:"w-4 mb-2"})])),[[d,"This setting has been locked by the Project's Template."]]):a.editTemplate?((0,n.wg)(),(0,n.j4)(c,{key:1,class:"w-24",modelValue:o.localValue,"onUpdate:modelValue":t[0]||(t[0]=e=>o.localValue=e),type:"select",options:[{label:"Editable",value:!0},{label:"Locked",value:!1}]},{append:(0,n.w5)((()=>[(0,n.Wm)(l,{class:"mt-2",value:a.changed},null,8,["value"])])),_:1},8,["modelValue"])):(0,n.kq)("v-if",!0)])}]]),Xd={name:"AdminTemplatePalette",components:{FormRow:Ae.Z,FormHeading:Pe.Z,LockSetting:Kd,ChangeIndicator:Od},props:{editTemplate:{type:Boolean,default:!1},modelValue:{type:Object,required:!0}},emits:["update:modelValue"],data(){return{}},computed:{editable:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},$d=(0,f.Z)(Xd,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormHeading"),l=(0,n.up)("ChangeIndicator"),c=(0,n.up)("FormRow"),d=(0,n.up)("LockSetting");return(0,n.wg)(),(0,n.iD)("form",{class:"space-y-4",onSubmit:t[6]||(t[6]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Palette")])),_:1}),(0,n._)("div",Zd,[(0,n._)("div",Md,[(0,n.Wm)(c,{modelValue:o.editable.settings.palette_allowInstall,"onUpdate:modelValue":t[0]||(t[0]=e=>o.editable.settings.palette_allowInstall=e),type:"checkbox",disabled:!a.editTemplate&&!o.editable.policy.palette_allowInstall},{append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.palette_allowInstall},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Allow user to install new nodes ")])),_:1},8,["modelValue","disabled"])]),(0,n.Wm)(d,{modelValue:o.editable.policy.palette_allowInstall,"onUpdate:modelValue":t[1]||(t[1]=e=>o.editable.policy.palette_allowInstall=e),editTemplate:a.editTemplate,changed:o.editable.changed.policy.palette_allowInstall},null,8,["modelValue","editTemplate","changed"])]),(0,n._)("div",Bd,[(0,n._)("div",Fd,[(0,n.Wm)(c,{modelValue:o.editable.settings.palette_nodesExcludes,"onUpdate:modelValue":t[2]||(t[2]=e=>o.editable.settings.palette_nodesExcludes=e),disabled:!a.editTemplate&&!o.editable.policy.palette_nodesExcludes,error:o.editable.errors.palette_nodesExcludes,type:a.editTemplate||o.editable.policy.palette_nodesExcludes?"text":"uneditable"},{description:(0,n.w5)((()=>[(0,n.Uk)(" This can be used to disable any of the default Node-RED nodes. Provide a comma-separated list of the corresponding node filename. ")])),append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.palette_nodesExcludes},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Exclude nodes by filename ")])),_:1},8,["modelValue","disabled","error","type"])]),(0,n.Wm)(d,{modelValue:o.editable.policy.palette_nodesExcludes,"onUpdate:modelValue":t[3]||(t[3]=e=>o.editable.policy.palette_nodesExcludes=e),editTemplate:a.editTemplate,changed:o.editable.changed.policy.palette_nodesExcludes},null,8,["modelValue","editTemplate","changed"])]),(0,n._)("div",Wd,[(0,n._)("div",Nd,[(0,n.Wm)(c,{modelValue:o.editable.settings.palette_denyList,"onUpdate:modelValue":t[4]||(t[4]=e=>o.editable.settings.palette_denyList=e),disabled:!o.editable.settings.palette_allowInstall,error:o.editable.errors.palette_denyList,type:a.editTemplate||o.editable.policy.palette_denyList?"text":"uneditable"},{description:(0,n.w5)((()=>[(0,n.Uk)(" This can be used to prevent the installation of nodes from the Palette Manager. A comma-separated list of the form e.g. "),Rd])),append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.palette_denyList},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Prevent Install of External nodes ")])),_:1},8,["modelValue","disabled","error","type"])]),(0,n.Wm)(d,{modelValue:o.editable.policy.palette_denyList,"onUpdate:modelValue":t[5]||(t[5]=e=>o.editable.policy.palette_denyList=e),editTemplate:a.editTemplate,changed:o.editable.changed.policy.palette_denyList},null,8,["modelValue","editTemplate","changed"])])],32)}]]);const Qd={class:"flex"},Jd={key:0,class:"mr-4"},ep={key:1,class:"mr-4"},tp={class:"flex justify-center"},ap={key:0,class:"text-red-400 space-y-1"},ip=(0,n._)("p",null,"You will need to update your Project Stack to use this feature.",-1),np={key:0},sp={key:1,class:"text-gray-400 space-y-1"},op=(0,n._)("p",null,"A list of modules that will be included in new instances",-1),rp=(0,n._)("div",{class:"space-y-1"},[(0,n._)("p",null,"Changes to this list will not affect existing instances, they are"),(0,n._)("p",null,"only copied to an instances settings when it is first created.")],-1),lp={class:"text-gray-400 space-y-1"},cp=(0,n._)("p",null,"This is the list of modules that will be installed into the instance.",-1),dp={key:0,class:"space-y-1"},pp=[(0,n._)("p",null,"Any changes to this list will require restarting the instance to apply.",-1),(0,n._)("p",null,"You can also install modules using the palette manager in the editor.",-1)],up={class:"w-full max-w-2xl table-fixed text-sm rounded overflow-hidden"},mp=(0,n._)("thead",null,[(0,n._)("tr",{class:"font-medium"},[(0,n._)("td",{class:"border bg-gray-100 p-2 w-auto"},"Module"),(0,n._)("td",{class:"border bg-gray-100 p-2 w-48"},"Version"),(0,n._)("td",{class:"border bg-gray-100 p-2 w-24"})])],-1),hp={class:"bg-white"},gp={class:"px-2 py-2 border align-top"},fp={class:"px-2 py-2 border align-top"},vp={style:{width:"calc(100% - 40px)"}},yp={key:0,class:"flex items-center"},kp={key:1,class:"flex items-center pt-1"},bp={class:"border align-middle px-2"},wp={key:0,class:"flex justify-center"},xp={key:1,class:"flex justify-center"},Ap={key:0},Dp=[(0,n._)("td",{class:"px-4 py-4 border w-auto align-top text-center text-gray-400",colspan:"3"}," No modules installed ",-1)],Sp={key:1},Tp=[(0,n._)("td",{colspan:"3",class:"p-1 bg-gray-50"},null,-1)],Cp={key:2,class:""},Ep={colspan:"3",class:"p-1 bg-gray-50"},Ip={key:3,class:""},_p={class:"px-4 pt-4 border w-auto align-top"},Up={class:"px-4 pt-4 pb-3 border w-auto align-top space-y-3"},Vp={class:"border w-16"},jp={class:"flex align-center justify-center space-x-2"},Pp={key:0,class:"p-2"};var Zp=a(9387),Mp=a(1733),Bp=a(9318),Fp=a(9191),Wp={name:"TemplatePaletteModulesEditor",components:{FormRow:Ae.Z,FormHeading:Pe.Z,ChangeIndicator:Od,TrashIcon:Zp.Z,PencilIcon:Mp.Z,PlusSmIcon:Ct.Z,LockClosedIcon:ri.Z,XIcon:Bp.Z,CheckIcon:Fp.Z},props:{editTemplate:{type:Boolean,default:!1},modelValue:{type:Object,required:!0},readOnly:{type:Boolean,default:!1},project:{type:Object,required:!1,default:null}},emits:["update:modelValue"],data(){return{addedCount:0,input:{name:"",version:""},showAddRow:!1,modules:{}}},computed:{editable:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},projectLauncherCompatible(){if(this.editTemplate)return!0;const e=this.project?.meta?.versions?.launcher;return!e||!/^0\./.test(e)},addEnabled(){return this.input.name&&this.input.version&&!this.input.error&&!this.input.errorVersion}},watch:{"input.name"(){""===this.input.name||this.validateModuleName(this.input.name)?void 0!==this.modules[this.input.name]?this.input.error="Duplicate name":this.input.error="":this.input.error="Invalid name"},"input.version"(){""===this.input.version||this.validateModuleVersion(this.input.version)?this.input.errorVersion="":this.input.errorVersion="Invalid version"},editable(){this.editable&&this.editable.settings.palette_modules?.forEach((e=>{this.modules[e.name]=e}))},"editable.settings.palette_modules":{deep:!0,handler(e){e&&(this.modules={},e.forEach(((e,t)=>{void 0===this.modules[e.name]&&(this.modules[e.name]=t),void 0===e.policy&&this.modules[e.name]!==t?e.error="Field has duplicate name":this.validateModuleName(e.name)?e.error="":e.error="Invalid name",this.validateModuleVersion(e.version)?e.errorVersion="":e.errorVersion="Invalid version"})))}}},methods:{validateModuleName(e){return/^(@[a-z0-9-~][a-z0-9-._~]*\/)?[a-z0-9-~][a-z0-9-._~]*$/.test(e)&&!["@flowforge/nr-project-nodes"].includes(e)},validateModuleVersion(e){return/^\*$|x|(?:[\^~]?(0|[1-9]\d*)\.(x$|0|[1-9]\d*)(?:\.(x$|0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?)?)$/.test(e)},showAddModule(){this.input.name="",this.input.version="",this.showAddRow=!0},cancelAddModule(){this.showAddRow=!1},editModule(e){const t=this.editable.settings.palette_modules[e];t.originalVersion=t.version,t.editing=!0},cancelEditModule(e){const t=this.editable.settings.palette_modules[e];t.version=t.originalVersion,t.editing=!1},removeModule(e){const t=this.editable.settings.palette_modules[e];delete this.modules[t.name],this.editable.settings.palette_modules.splice(e,1)},addModule(e){const t={index:"add-"+this.addedCount++,name:this.input.name,version:this.input.version,local:!0};this.modules[this.input.name]=this.editable.settings.palette_modules.length,this.input.name="",this.input.version="",this.editable.settings.palette_modules.push(t),this.showAddRow=!1}}},Np=(0,f.Z)(Wp,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ChangeIndicator"),l=(0,n.up)("FormHeading"),c=(0,n.up)("ff-button"),d=(0,n.up)("FormRow"),p=(0,n.up)("PencilIcon"),u=(0,n.up)("XIcon"),m=(0,n.up)("TrashIcon"),h=(0,n.up)("LockClosedIcon"),g=(0,n.up)("PlusSmIcon"),f=(0,n.up)("CheckIcon");return(0,n.wg)(),(0,n.iD)("form",{class:"space-y-4",onSubmit:t[5]||(t[5]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n._)("div",Qd,[a.editTemplate?((0,n.wg)(),(0,n.iD)("div",Jd,"Default Modules")):((0,n.wg)(),(0,n.iD)("div",ep,"Installed Modules")),(0,n._)("div",tp,[(0,n.Wm)(r,{value:o.editable.changed.palette_modules},null,8,["value"])])])])),_:1}),o.projectLauncherCompatible?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("div",ap,[ip,a.project.stack.replacedBy?((0,n.wg)(),(0,n.iD)("div",np,[(0,n.Wm)(c,{size:"small",to:"./settings/danger"},{default:(0,n.w5)((()=>[(0,n.Uk)("Update")])),_:1})])):(0,n.kq)("v-if",!0)])),(0,n.kq)(" text to display when editing a template "),a.editTemplate?((0,n.wg)(),(0,n.iD)("div",sp,[op,(0,n.kq)(" additional text to display when palette_allowInstall is true "),rp])):((0,n.wg)(),(0,n.iD)(n.HY,{key:2},[(0,n.kq)(" text to display when editing an instance "),(0,n._)("div",lp,[cp,(0,n.kq)(" additional text to display when palette_allowInstall is true "),o.editable.settings.palette_allowInstall?((0,n.wg)(),(0,n.iD)("div",dp,pp)):(0,n.kq)("v-if",!0)])],2112)),(0,n._)("table",up,[mp,(0,n._)("tbody",hp,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.editable.settings.palette_modules,((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:e.index},[(0,n._)("td",gp,[(0,n.Wm)(d,{modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,class:"font-mono",error:e.error,type:"uneditable"},null,8,["modelValue","onUpdate:modelValue","error"]),(0,n.kq)(' <ff-text-input  v-model="item.name" :disabled="item.encrypted"  /> ')]),(0,n._)("td",fp,[(0,n._)("div",vp,[(0,n.Wm)(d,{modelValue:e.version,"onUpdate:modelValue":t=>e.version=t,class:"font-mono",type:!a.readOnly&&e.local&&e.editing?"text":"uneditable",error:e.errorVersion},{append:(0,n.w5)((()=>[a.readOnly||!e.local||e.editing?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("div",yp,[(0,n.Wm)(c,{kind:"tertiary",size:"small",onClick:e=>o.editModule(t)},{icon:(0,n.w5)((()=>[(0,n.Wm)(p)])),_:2},1032,["onClick"])])),!a.readOnly&&e.local&&e.editing?((0,n.wg)(),(0,n.iD)("div",kp,[(0,n.Wm)(c,{kind:"tertiary",size:"small",onClick:e=>o.cancelEditModule(t)},{icon:(0,n.w5)((()=>[(0,n.Wm)(u)])),_:2},1032,["onClick"])])):(0,n.kq)("v-if",!0)])),_:2},1032,["modelValue","onUpdate:modelValue","type","error"])])]),(0,n._)("td",bp,[!a.readOnly&&e.local?((0,n.wg)(),(0,n.iD)("div",wp,[(0,n.Wm)(c,{kind:"tertiary",size:"small",onClick:e=>o.removeModule(t)},{icon:(0,n.w5)((()=>[(0,n.Wm)(m)])),_:2},1032,["onClick"])])):e.local?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("div",xp,[(0,n.Wm)(h,{class:"inline w-4"})]))])])))),128)),0===o.editable.settings.palette_modules?.length?((0,n.wg)(),(0,n.iD)("tr",Ap,Dp)):(0,n.kq)("v-if",!0),(0,n.kq)(" Empty row to differentiate between the existing env vars, and the iput form row"),a.readOnly?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("tr",Sp,Tp)),a.readOnly||s.showAddRow?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("tr",Cp,[(0,n._)("td",Ep,[(0,n.Wm)(c,{kind:"primary",size:"small",onClick:t[0]||(t[0]=e=>o.showAddModule())},{icon:(0,n.w5)((()=>[(0,n.Wm)(g)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Add module ")])),_:1})])])),!a.readOnly&&s.showAddRow?((0,n.wg)(),(0,n.iD)("tr",Ip,[(0,n._)("td",_p,[(0,n.Wm)(d,{modelValue:s.input.name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.name=e),class:"font-mono",error:s.input.error,placeholder:"@example/module"},{description:(0,n.w5)((()=>[(0,n.Uk)("npm module name")])),_:1},8,["modelValue","error"])]),(0,n._)("td",Up,[(0,n.Wm)(d,{modelValue:s.input.version,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.version=e),class:"font-mono",error:s.input.errorVersion,placeholder:"*"},{description:(0,n.w5)((()=>[(0,n.Uk)("*, 1.2.3, ^2.3.2, ...")])),_:1},8,["modelValue","error"]),(0,n.kq)(' <FormRow id="encrypt-env-var" v-model="input.encrypt" type="checkbox"> <span class="text-gray-500"><LockClosedIcon class="inline w-4" /> encrypt</span></FormRow> ')]),(0,n._)("td",Vp,[(0,n._)("div",jp,[(0,n.Wm)(c,{kind:"primary",disabled:!o.addEnabled,size:"small",onClick:t[3]||(t[3]=e=>o.addModule())},{icon:(0,n.w5)((()=>[(0,n.Wm)(f)])),_:1},8,["disabled"]),(0,n.Wm)(c,{kind:"secondary",size:"small",onClick:t[4]||(t[4]=e=>o.cancelAddModule())},{icon:(0,n.w5)((()=>[(0,n.Wm)(u)])),_:1})])]),a.editTemplate?((0,n.wg)(),(0,n.iD)("td",Pp)):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0)])])],32)}]]),Rp={name:"AdminTemplatePalette",components:{TemplateSectionPalette:$d,TemplateSectionPaletteModules:Np},mixins:[Pd],inheritAttrs:!1,props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],computed:{editableTemplate:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},Lp=(0,f.Z)(Rp,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("TemplateSectionPalette"),l=(0,n.up)("TemplateSectionPaletteModules");return(0,n.wg)(),(0,n.iD)("form",Vd,[(0,n.Wm)(r,{modelValue:o.editableTemplate,"onUpdate:modelValue":t[0]||(t[0]=e=>o.editableTemplate=e),editTemplate:!0},null,8,["modelValue"]),(0,n.Wm)(l,{modelValue:o.editableTemplate,"onUpdate:modelValue":t[1]||(t[1]=e=>o.editableTemplate=e),editTemplate:!0,readOnly:!1,project:e.project,header:"Default Modules"},null,8,["modelValue","project"])])}]]);const qp={class:"flex flex-col sm:flex-row"},Hp={class:"w-full max-w-md sm:mr-8"},Op={class:"flex flex-col sm:flex-row"},Gp={class:"w-full max-w-md sm:mr-8"},Yp={class:"flex flex-col sm:flex-row"},zp={class:"w-full max-w-md sm:mr-8"},Kp={class:"flex flex-col sm:flex-row"},Xp={class:"w-full max-w-md sm:mr-8"},$p={class:"flex flex-col sm:flex-row"},Qp={class:"w-full max-w-md sm:mr-8"},Jp={class:"flex flex-col sm:flex-row"},eu={class:"w-full max-w-md sm:mr-8"},tu={class:"flex flex-col sm:flex-row"},au={class:"w-full max-w-md sm:mr-8"},iu={class:"flex flex-col sm:flex-row"},nu={class:"w-full max-w-md sm:mr-8"},su={class:"flex flex-col sm:flex-row"},ou={class:"space-y-4 w-full max-w-md sm:mr-8"},ru={class:"flex flex-col sm:flex-row"},lu={class:"w-full max-w-md sm:mr-8"},cu=(0,n._)("pre",null,"'package-name@semVer, foo@^0.1.0, @scope/*'",-1);var du=JSON.parse('{"L":[{"label":"Africa/Abidjan","value":"Africa/Abidjan"},{"label":"Africa/Accra","value":"Africa/Accra"},{"label":"Africa/Addis_Ababa","value":"Africa/Addis_Ababa"},{"label":"Africa/Algiers","value":"Africa/Algiers"},{"label":"Africa/Asmara","value":"Africa/Asmara"},{"label":"Africa/Asmera","value":"Africa/Asmera"},{"label":"Africa/Bamako","value":"Africa/Bamako"},{"label":"Africa/Bangui","value":"Africa/Bangui"},{"label":"Africa/Banjul","value":"Africa/Banjul"},{"label":"Africa/Bissau","value":"Africa/Bissau"},{"label":"Africa/Blantyre","value":"Africa/Blantyre"},{"label":"Africa/Brazzaville","value":"Africa/Brazzaville"},{"label":"Africa/Bujumbura","value":"Africa/Bujumbura"},{"label":"Africa/Cairo","value":"Africa/Cairo"},{"label":"Africa/Casablanca","value":"Africa/Casablanca"},{"label":"Africa/Ceuta","value":"Africa/Ceuta"},{"label":"Africa/Conakry","value":"Africa/Conakry"},{"label":"Africa/Dakar","value":"Africa/Dakar"},{"label":"Africa/Dar_es_Salaam","value":"Africa/Dar_es_Salaam"},{"label":"Africa/Djibouti","value":"Africa/Djibouti"},{"label":"Africa/Douala","value":"Africa/Douala"},{"label":"Africa/El_Aaiun","value":"Africa/El_Aaiun"},{"label":"Africa/Freetown","value":"Africa/Freetown"},{"label":"Africa/Gaborone","value":"Africa/Gaborone"},{"label":"Africa/Harare","value":"Africa/Harare"},{"label":"Africa/Johannesburg","value":"Africa/Johannesburg"},{"label":"Africa/Juba","value":"Africa/Juba"},{"label":"Africa/Kampala","value":"Africa/Kampala"},{"label":"Africa/Khartoum","value":"Africa/Khartoum"},{"label":"Africa/Kigali","value":"Africa/Kigali"},{"label":"Africa/Kinshasa","value":"Africa/Kinshasa"},{"label":"Africa/Lagos","value":"Africa/Lagos"},{"label":"Africa/Libreville","value":"Africa/Libreville"},{"label":"Africa/Lome","value":"Africa/Lome"},{"label":"Africa/Luanda","value":"Africa/Luanda"},{"label":"Africa/Lubumbashi","value":"Africa/Lubumbashi"},{"label":"Africa/Lusaka","value":"Africa/Lusaka"},{"label":"Africa/Malabo","value":"Africa/Malabo"},{"label":"Africa/Maputo","value":"Africa/Maputo"},{"label":"Africa/Maseru","value":"Africa/Maseru"},{"label":"Africa/Mbabane","value":"Africa/Mbabane"},{"label":"Africa/Mogadishu","value":"Africa/Mogadishu"},{"label":"Africa/Monrovia","value":"Africa/Monrovia"},{"label":"Africa/Nairobi","value":"Africa/Nairobi"},{"label":"Africa/Ndjamena","value":"Africa/Ndjamena"},{"label":"Africa/Niamey","value":"Africa/Niamey"},{"label":"Africa/Nouakchott","value":"Africa/Nouakchott"},{"label":"Africa/Ouagadougou","value":"Africa/Ouagadougou"},{"label":"Africa/Porto-Novo","value":"Africa/Porto-Novo"},{"label":"Africa/Sao_Tome","value":"Africa/Sao_Tome"},{"label":"Africa/Timbuktu","value":"Africa/Timbuktu"},{"label":"Africa/Tripoli","value":"Africa/Tripoli"},{"label":"Africa/Tunis","value":"Africa/Tunis"},{"label":"Africa/Windhoek","value":"Africa/Windhoek"},{"label":"America/Adak","value":"America/Adak"},{"label":"America/Anchorage","value":"America/Anchorage"},{"label":"America/Anguilla","value":"America/Anguilla"},{"label":"America/Antigua","value":"America/Antigua"},{"label":"America/Araguaina","value":"America/Araguaina"},{"label":"America/Argentina/Buenos_Aires","value":"America/Argentina/Buenos_Aires"},{"label":"America/Argentina/Catamarca","value":"America/Argentina/Catamarca"},{"label":"America/Argentina/ComodRivadavia","value":"America/Argentina/ComodRivadavia"},{"label":"America/Argentina/Cordoba","value":"America/Argentina/Cordoba"},{"label":"America/Argentina/Jujuy","value":"America/Argentina/Jujuy"},{"label":"America/Argentina/La_Rioja","value":"America/Argentina/La_Rioja"},{"label":"America/Argentina/Mendoza","value":"America/Argentina/Mendoza"},{"label":"America/Argentina/Rio_Gallegos","value":"America/Argentina/Rio_Gallegos"},{"label":"America/Argentina/Salta","value":"America/Argentina/Salta"},{"label":"America/Argentina/San_Juan","value":"America/Argentina/San_Juan"},{"label":"America/Argentina/San_Luis","value":"America/Argentina/San_Luis"},{"label":"America/Argentina/Tucuman","value":"America/Argentina/Tucuman"},{"label":"America/Argentina/Ushuaia","value":"America/Argentina/Ushuaia"},{"label":"America/Aruba","value":"America/Aruba"},{"label":"America/Asuncion","value":"America/Asuncion"},{"label":"America/Atikokan","value":"America/Atikokan"},{"label":"America/Atka","value":"America/Atka"},{"label":"America/Bahia","value":"America/Bahia"},{"label":"America/Bahia_Banderas","value":"America/Bahia_Banderas"},{"label":"America/Barbados","value":"America/Barbados"},{"label":"America/Belem","value":"America/Belem"},{"label":"America/Belize","value":"America/Belize"},{"label":"America/Blanc-Sablon","value":"America/Blanc-Sablon"},{"label":"America/Boa_Vista","value":"America/Boa_Vista"},{"label":"America/Bogota","value":"America/Bogota"},{"label":"America/Boise","value":"America/Boise"},{"label":"America/Buenos_Aires","value":"America/Buenos_Aires"},{"label":"America/Cambridge_Bay","value":"America/Cambridge_Bay"},{"label":"America/Campo_Grande","value":"America/Campo_Grande"},{"label":"America/Cancun","value":"America/Cancun"},{"label":"America/Caracas","value":"America/Caracas"},{"label":"America/Catamarca","value":"America/Catamarca"},{"label":"America/Cayenne","value":"America/Cayenne"},{"label":"America/Cayman","value":"America/Cayman"},{"label":"America/Chicago","value":"America/Chicago"},{"label":"America/Chihuahua","value":"America/Chihuahua"},{"label":"America/Coral_Harbour","value":"America/Coral_Harbour"},{"label":"America/Cordoba","value":"America/Cordoba"},{"label":"America/Costa_Rica","value":"America/Costa_Rica"},{"label":"America/Creston","value":"America/Creston"},{"label":"America/Cuiaba","value":"America/Cuiaba"},{"label":"America/Curacao","value":"America/Curacao"},{"label":"America/Danmarkshavn","value":"America/Danmarkshavn"},{"label":"America/Dawson","value":"America/Dawson"},{"label":"America/Dawson_Creek","value":"America/Dawson_Creek"},{"label":"America/Denver","value":"America/Denver"},{"label":"America/Detroit","value":"America/Detroit"},{"label":"America/Dominica","value":"America/Dominica"},{"label":"America/Edmonton","value":"America/Edmonton"},{"label":"America/Eirunepe","value":"America/Eirunepe"},{"label":"America/El_Salvador","value":"America/El_Salvador"},{"label":"America/Ensenada","value":"America/Ensenada"},{"label":"America/Fort_Nelson","value":"America/Fort_Nelson"},{"label":"America/Fort_Wayne","value":"America/Fort_Wayne"},{"label":"America/Fortaleza","value":"America/Fortaleza"},{"label":"America/Glace_Bay","value":"America/Glace_Bay"},{"label":"America/Godthab","value":"America/Godthab"},{"label":"America/Goose_Bay","value":"America/Goose_Bay"},{"label":"America/Grand_Turk","value":"America/Grand_Turk"},{"label":"America/Grenada","value":"America/Grenada"},{"label":"America/Guadeloupe","value":"America/Guadeloupe"},{"label":"America/Guatemala","value":"America/Guatemala"},{"label":"America/Guayaquil","value":"America/Guayaquil"},{"label":"America/Guyana","value":"America/Guyana"},{"label":"America/Halifax","value":"America/Halifax"},{"label":"America/Havana","value":"America/Havana"},{"label":"America/Hermosillo","value":"America/Hermosillo"},{"label":"America/Indiana/Indianapolis","value":"America/Indiana/Indianapolis"},{"label":"America/Indiana/Knox","value":"America/Indiana/Knox"},{"label":"America/Indiana/Marengo","value":"America/Indiana/Marengo"},{"label":"America/Indiana/Petersburg","value":"America/Indiana/Petersburg"},{"label":"America/Indiana/Tell_City","value":"America/Indiana/Tell_City"},{"label":"America/Indiana/Vevay","value":"America/Indiana/Vevay"},{"label":"America/Indiana/Vincennes","value":"America/Indiana/Vincennes"},{"label":"America/Indiana/Winamac","value":"America/Indiana/Winamac"},{"label":"America/Indianapolis","value":"America/Indianapolis"},{"label":"America/Inuvik","value":"America/Inuvik"},{"label":"America/Iqaluit","value":"America/Iqaluit"},{"label":"America/Jamaica","value":"America/Jamaica"},{"label":"America/Jujuy","value":"America/Jujuy"},{"label":"America/Juneau","value":"America/Juneau"},{"label":"America/Kentucky/Louisville","value":"America/Kentucky/Louisville"},{"label":"America/Kentucky/Monticello","value":"America/Kentucky/Monticello"},{"label":"America/Knox_IN","value":"America/Knox_IN"},{"label":"America/Kralendijk","value":"America/Kralendijk"},{"label":"America/La_Paz","value":"America/La_Paz"},{"label":"America/Lima","value":"America/Lima"},{"label":"America/Los_Angeles","value":"America/Los_Angeles"},{"label":"America/Louisville","value":"America/Louisville"},{"label":"America/Lower_Princes","value":"America/Lower_Princes"},{"label":"America/Maceio","value":"America/Maceio"},{"label":"America/Managua","value":"America/Managua"},{"label":"America/Manaus","value":"America/Manaus"},{"label":"America/Marigot","value":"America/Marigot"},{"label":"America/Martinique","value":"America/Martinique"},{"label":"America/Matamoros","value":"America/Matamoros"},{"label":"America/Mazatlan","value":"America/Mazatlan"},{"label":"America/Mendoza","value":"America/Mendoza"},{"label":"America/Menominee","value":"America/Menominee"},{"label":"America/Merida","value":"America/Merida"},{"label":"America/Metlakatla","value":"America/Metlakatla"},{"label":"America/Mexico_City","value":"America/Mexico_City"},{"label":"America/Miquelon","value":"America/Miquelon"},{"label":"America/Moncton","value":"America/Moncton"},{"label":"America/Monterrey","value":"America/Monterrey"},{"label":"America/Montevideo","value":"America/Montevideo"},{"label":"America/Montreal","value":"America/Montreal"},{"label":"America/Montserrat","value":"America/Montserrat"},{"label":"America/Nassau","value":"America/Nassau"},{"label":"America/New_York","value":"America/New_York"},{"label":"America/Nipigon","value":"America/Nipigon"},{"label":"America/Nome","value":"America/Nome"},{"label":"America/Noronha","value":"America/Noronha"},{"label":"America/North_Dakota/Beulah","value":"America/North_Dakota/Beulah"},{"label":"America/North_Dakota/Center","value":"America/North_Dakota/Center"},{"label":"America/North_Dakota/New_Salem","value":"America/North_Dakota/New_Salem"},{"label":"America/Ojinaga","value":"America/Ojinaga"},{"label":"America/Panama","value":"America/Panama"},{"label":"America/Pangnirtung","value":"America/Pangnirtung"},{"label":"America/Paramaribo","value":"America/Paramaribo"},{"label":"America/Phoenix","value":"America/Phoenix"},{"label":"America/Port-au-Prince","value":"America/Port-au-Prince"},{"label":"America/Port_of_Spain","value":"America/Port_of_Spain"},{"label":"America/Porto_Acre","value":"America/Porto_Acre"},{"label":"America/Porto_Velho","value":"America/Porto_Velho"},{"label":"America/Puerto_Rico","value":"America/Puerto_Rico"},{"label":"America/Punta_Arenas","value":"America/Punta_Arenas"},{"label":"America/Rainy_River","value":"America/Rainy_River"},{"label":"America/Rankin_Inlet","value":"America/Rankin_Inlet"},{"label":"America/Recife","value":"America/Recife"},{"label":"America/Regina","value":"America/Regina"},{"label":"America/Resolute","value":"America/Resolute"},{"label":"America/Rio_Branco","value":"America/Rio_Branco"},{"label":"America/Rosario","value":"America/Rosario"},{"label":"America/Santa_Isabel","value":"America/Santa_Isabel"},{"label":"America/Santarem","value":"America/Santarem"},{"label":"America/Santiago","value":"America/Santiago"},{"label":"America/Santo_Domingo","value":"America/Santo_Domingo"},{"label":"America/Sao_Paulo","value":"America/Sao_Paulo"},{"label":"America/Scoresbysund","value":"America/Scoresbysund"},{"label":"America/Shiprock","value":"America/Shiprock"},{"label":"America/Sitka","value":"America/Sitka"},{"label":"America/St_Barthelemy","value":"America/St_Barthelemy"},{"label":"America/St_Johns","value":"America/St_Johns"},{"label":"America/St_Kitts","value":"America/St_Kitts"},{"label":"America/St_Lucia","value":"America/St_Lucia"},{"label":"America/St_Thomas","value":"America/St_Thomas"},{"label":"America/St_Vincent","value":"America/St_Vincent"},{"label":"America/Swift_Current","value":"America/Swift_Current"},{"label":"America/Tegucigalpa","value":"America/Tegucigalpa"},{"label":"America/Thule","value":"America/Thule"},{"label":"America/Thunder_Bay","value":"America/Thunder_Bay"},{"label":"America/Tijuana","value":"America/Tijuana"},{"label":"America/Toronto","value":"America/Toronto"},{"label":"America/Tortola","value":"America/Tortola"},{"label":"America/Vancouver","value":"America/Vancouver"},{"label":"America/Virgin","value":"America/Virgin"},{"label":"America/Whitehorse","value":"America/Whitehorse"},{"label":"America/Winnipeg","value":"America/Winnipeg"},{"label":"America/Yakutat","value":"America/Yakutat"},{"label":"America/Yellowknife","value":"America/Yellowknife"},{"label":"Antarctica/Casey","value":"Antarctica/Casey"},{"label":"Antarctica/Davis","value":"Antarctica/Davis"},{"label":"Antarctica/DumontDUrville","value":"Antarctica/DumontDUrville"},{"label":"Antarctica/Macquarie","value":"Antarctica/Macquarie"},{"label":"Antarctica/Mawson","value":"Antarctica/Mawson"},{"label":"Antarctica/McMurdo","value":"Antarctica/McMurdo"},{"label":"Antarctica/Palmer","value":"Antarctica/Palmer"},{"label":"Antarctica/Rothera","value":"Antarctica/Rothera"},{"label":"Antarctica/South_Pole","value":"Antarctica/South_Pole"},{"label":"Antarctica/Syowa","value":"Antarctica/Syowa"},{"label":"Antarctica/Troll","value":"Antarctica/Troll"},{"label":"Antarctica/Vostok","value":"Antarctica/Vostok"},{"label":"Arctic/Longyearbyen","value":"Arctic/Longyearbyen"},{"label":"Asia/Aden","value":"Asia/Aden"},{"label":"Asia/Almaty","value":"Asia/Almaty"},{"label":"Asia/Amman","value":"Asia/Amman"},{"label":"Asia/Anadyr","value":"Asia/Anadyr"},{"label":"Asia/Aqtau","value":"Asia/Aqtau"},{"label":"Asia/Aqtobe","value":"Asia/Aqtobe"},{"label":"Asia/Ashgabat","value":"Asia/Ashgabat"},{"label":"Asia/Ashkhabad","value":"Asia/Ashkhabad"},{"label":"Asia/Atyrau","value":"Asia/Atyrau"},{"label":"Asia/Baghdad","value":"Asia/Baghdad"},{"label":"Asia/Bahrain","value":"Asia/Bahrain"},{"label":"Asia/Baku","value":"Asia/Baku"},{"label":"Asia/Bangkok","value":"Asia/Bangkok"},{"label":"Asia/Barnaul","value":"Asia/Barnaul"},{"label":"Asia/Beirut","value":"Asia/Beirut"},{"label":"Asia/Bishkek","value":"Asia/Bishkek"},{"label":"Asia/Brunei","value":"Asia/Brunei"},{"label":"Asia/Calcutta","value":"Asia/Calcutta"},{"label":"Asia/Chita","value":"Asia/Chita"},{"label":"Asia/Choibalsan","value":"Asia/Choibalsan"},{"label":"Asia/Chongqing","value":"Asia/Chongqing"},{"label":"Asia/Chungking","value":"Asia/Chungking"},{"label":"Asia/Colombo","value":"Asia/Colombo"},{"label":"Asia/Dacca","value":"Asia/Dacca"},{"label":"Asia/Damascus","value":"Asia/Damascus"},{"label":"Asia/Dhaka","value":"Asia/Dhaka"},{"label":"Asia/Dili","value":"Asia/Dili"},{"label":"Asia/Dubai","value":"Asia/Dubai"},{"label":"Asia/Dushanbe","value":"Asia/Dushanbe"},{"label":"Asia/Famagusta","value":"Asia/Famagusta"},{"label":"Asia/Gaza","value":"Asia/Gaza"},{"label":"Asia/Harbin","value":"Asia/Harbin"},{"label":"Asia/Hebron","value":"Asia/Hebron"},{"label":"Asia/Ho_Chi_Minh","value":"Asia/Ho_Chi_Minh"},{"label":"Asia/Hong_Kong","value":"Asia/Hong_Kong"},{"label":"Asia/Hovd","value":"Asia/Hovd"},{"label":"Asia/Irkutsk","value":"Asia/Irkutsk"},{"label":"Asia/Istanbul","value":"Asia/Istanbul"},{"label":"Asia/Jakarta","value":"Asia/Jakarta"},{"label":"Asia/Jayapura","value":"Asia/Jayapura"},{"label":"Asia/Jerusalem","value":"Asia/Jerusalem"},{"label":"Asia/Kabul","value":"Asia/Kabul"},{"label":"Asia/Kamchatka","value":"Asia/Kamchatka"},{"label":"Asia/Karachi","value":"Asia/Karachi"},{"label":"Asia/Kashgar","value":"Asia/Kashgar"},{"label":"Asia/Kathmandu","value":"Asia/Kathmandu"},{"label":"Asia/Katmandu","value":"Asia/Katmandu"},{"label":"Asia/Khandyga","value":"Asia/Khandyga"},{"label":"Asia/Kolkata","value":"Asia/Kolkata"},{"label":"Asia/Krasnoyarsk","value":"Asia/Krasnoyarsk"},{"label":"Asia/Kuala_Lumpur","value":"Asia/Kuala_Lumpur"},{"label":"Asia/Kuching","value":"Asia/Kuching"},{"label":"Asia/Kuwait","value":"Asia/Kuwait"},{"label":"Asia/Macao","value":"Asia/Macao"},{"label":"Asia/Macau","value":"Asia/Macau"},{"label":"Asia/Magadan","value":"Asia/Magadan"},{"label":"Asia/Makassar","value":"Asia/Makassar"},{"label":"Asia/Manila","value":"Asia/Manila"},{"label":"Asia/Muscat","value":"Asia/Muscat"},{"label":"Asia/Nicosia","value":"Asia/Nicosia"},{"label":"Asia/Novokuznetsk","value":"Asia/Novokuznetsk"},{"label":"Asia/Novosibirsk","value":"Asia/Novosibirsk"},{"label":"Asia/Omsk","value":"Asia/Omsk"},{"label":"Asia/Oral","value":"Asia/Oral"},{"label":"Asia/Phnom_Penh","value":"Asia/Phnom_Penh"},{"label":"Asia/Pontianak","value":"Asia/Pontianak"},{"label":"Asia/Pyongyang","value":"Asia/Pyongyang"},{"label":"Asia/Qatar","value":"Asia/Qatar"},{"label":"Asia/Qyzylorda","value":"Asia/Qyzylorda"},{"label":"Asia/Rangoon","value":"Asia/Rangoon"},{"label":"Asia/Riyadh","value":"Asia/Riyadh"},{"label":"Asia/Saigon","value":"Asia/Saigon"},{"label":"Asia/Sakhalin","value":"Asia/Sakhalin"},{"label":"Asia/Samarkand","value":"Asia/Samarkand"},{"label":"Asia/Seoul","value":"Asia/Seoul"},{"label":"Asia/Shanghai","value":"Asia/Shanghai"},{"label":"Asia/Singapore","value":"Asia/Singapore"},{"label":"Asia/Srednekolymsk","value":"Asia/Srednekolymsk"},{"label":"Asia/Taipei","value":"Asia/Taipei"},{"label":"Asia/Tashkent","value":"Asia/Tashkent"},{"label":"Asia/Tbilisi","value":"Asia/Tbilisi"},{"label":"Asia/Tehran","value":"Asia/Tehran"},{"label":"Asia/Tel_Aviv","value":"Asia/Tel_Aviv"},{"label":"Asia/Thimbu","value":"Asia/Thimbu"},{"label":"Asia/Thimphu","value":"Asia/Thimphu"},{"label":"Asia/Tokyo","value":"Asia/Tokyo"},{"label":"Asia/Tomsk","value":"Asia/Tomsk"},{"label":"Asia/Ujung_Pandang","value":"Asia/Ujung_Pandang"},{"label":"Asia/Ulaanbaatar","value":"Asia/Ulaanbaatar"},{"label":"Asia/Ulan_Bator","value":"Asia/Ulan_Bator"},{"label":"Asia/Urumqi","value":"Asia/Urumqi"},{"label":"Asia/Ust-Nera","value":"Asia/Ust-Nera"},{"label":"Asia/Vientiane","value":"Asia/Vientiane"},{"label":"Asia/Vladivostok","value":"Asia/Vladivostok"},{"label":"Asia/Yakutsk","value":"Asia/Yakutsk"},{"label":"Asia/Yangon","value":"Asia/Yangon"},{"label":"Asia/Yekaterinburg","value":"Asia/Yekaterinburg"},{"label":"Asia/Yerevan","value":"Asia/Yerevan"},{"label":"Atlantic/Azores","value":"Atlantic/Azores"},{"label":"Atlantic/Bermuda","value":"Atlantic/Bermuda"},{"label":"Atlantic/Canary","value":"Atlantic/Canary"},{"label":"Atlantic/Cape_Verde","value":"Atlantic/Cape_Verde"},{"label":"Atlantic/Faeroe","value":"Atlantic/Faeroe"},{"label":"Atlantic/Faroe","value":"Atlantic/Faroe"},{"label":"Atlantic/Jan_Mayen","value":"Atlantic/Jan_Mayen"},{"label":"Atlantic/Madeira","value":"Atlantic/Madeira"},{"label":"Atlantic/Reykjavik","value":"Atlantic/Reykjavik"},{"label":"Atlantic/South_Georgia","value":"Atlantic/South_Georgia"},{"label":"Atlantic/St_Helena","value":"Atlantic/St_Helena"},{"label":"Atlantic/Stanley","value":"Atlantic/Stanley"},{"label":"Australia/ACT","value":"Australia/ACT"},{"label":"Australia/Adelaide","value":"Australia/Adelaide"},{"label":"Australia/Brisbane","value":"Australia/Brisbane"},{"label":"Australia/Broken_Hill","value":"Australia/Broken_Hill"},{"label":"Australia/Canberra","value":"Australia/Canberra"},{"label":"Australia/Currie","value":"Australia/Currie"},{"label":"Australia/Darwin","value":"Australia/Darwin"},{"label":"Australia/Eucla","value":"Australia/Eucla"},{"label":"Australia/Hobart","value":"Australia/Hobart"},{"label":"Australia/LHI","value":"Australia/LHI"},{"label":"Australia/Lindeman","value":"Australia/Lindeman"},{"label":"Australia/Lord_Howe","value":"Australia/Lord_Howe"},{"label":"Australia/Melbourne","value":"Australia/Melbourne"},{"label":"Australia/NSW","value":"Australia/NSW"},{"label":"Australia/North","value":"Australia/North"},{"label":"Australia/Perth","value":"Australia/Perth"},{"label":"Australia/Queensland","value":"Australia/Queensland"},{"label":"Australia/South","value":"Australia/South"},{"label":"Australia/Sydney","value":"Australia/Sydney"},{"label":"Australia/Tasmania","value":"Australia/Tasmania"},{"label":"Australia/Victoria","value":"Australia/Victoria"},{"label":"Australia/West","value":"Australia/West"},{"label":"Australia/Yancowinna","value":"Australia/Yancowinna"},{"label":"Brazil/Acre","value":"Brazil/Acre"},{"label":"Brazil/DeNoronha","value":"Brazil/DeNoronha"},{"label":"Brazil/East","value":"Brazil/East"},{"label":"Brazil/West","value":"Brazil/West"},{"label":"CET","value":"CET"},{"label":"CST6CDT","value":"CST6CDT"},{"label":"Canada/Atlantic","value":"Canada/Atlantic"},{"label":"Canada/Central","value":"Canada/Central"},{"label":"Canada/Eastern","value":"Canada/Eastern"},{"label":"Canada/Mountain","value":"Canada/Mountain"},{"label":"Canada/Newfoundland","value":"Canada/Newfoundland"},{"label":"Canada/Pacific","value":"Canada/Pacific"},{"label":"Canada/Saskatchewan","value":"Canada/Saskatchewan"},{"label":"Canada/Yukon","value":"Canada/Yukon"},{"label":"Chile/Continental","value":"Chile/Continental"},{"label":"Chile/EasterIsland","value":"Chile/EasterIsland"},{"label":"Cuba","value":"Cuba"},{"label":"EET","value":"EET"},{"label":"EST","value":"EST"},{"label":"EST5EDT","value":"EST5EDT"},{"label":"Egypt","value":"Egypt"},{"label":"Eire","value":"Eire"},{"label":"Etc/GMT","value":"Etc/GMT"},{"label":"Etc/GMT+0","value":"Etc/GMT+0"},{"label":"Etc/GMT+1","value":"Etc/GMT+1"},{"label":"Etc/GMT+10","value":"Etc/GMT+10"},{"label":"Etc/GMT+11","value":"Etc/GMT+11"},{"label":"Etc/GMT+12","value":"Etc/GMT+12"},{"label":"Etc/GMT+2","value":"Etc/GMT+2"},{"label":"Etc/GMT+3","value":"Etc/GMT+3"},{"label":"Etc/GMT+4","value":"Etc/GMT+4"},{"label":"Etc/GMT+5","value":"Etc/GMT+5"},{"label":"Etc/GMT+6","value":"Etc/GMT+6"},{"label":"Etc/GMT+7","value":"Etc/GMT+7"},{"label":"Etc/GMT+8","value":"Etc/GMT+8"},{"label":"Etc/GMT+9","value":"Etc/GMT+9"},{"label":"Etc/GMT-0","value":"Etc/GMT-0"},{"label":"Etc/GMT-1","value":"Etc/GMT-1"},{"label":"Etc/GMT-10","value":"Etc/GMT-10"},{"label":"Etc/GMT-11","value":"Etc/GMT-11"},{"label":"Etc/GMT-12","value":"Etc/GMT-12"},{"label":"Etc/GMT-13","value":"Etc/GMT-13"},{"label":"Etc/GMT-14","value":"Etc/GMT-14"},{"label":"Etc/GMT-2","value":"Etc/GMT-2"},{"label":"Etc/GMT-3","value":"Etc/GMT-3"},{"label":"Etc/GMT-4","value":"Etc/GMT-4"},{"label":"Etc/GMT-5","value":"Etc/GMT-5"},{"label":"Etc/GMT-6","value":"Etc/GMT-6"},{"label":"Etc/GMT-7","value":"Etc/GMT-7"},{"label":"Etc/GMT-8","value":"Etc/GMT-8"},{"label":"Etc/GMT-9","value":"Etc/GMT-9"},{"label":"Etc/GMT0","value":"Etc/GMT0"},{"label":"Etc/Greenwich","value":"Etc/Greenwich"},{"label":"Etc/UCT","value":"Etc/UCT"},{"label":"Etc/UTC","value":"Etc/UTC"},{"label":"Etc/Universal","value":"Etc/Universal"},{"label":"Etc/Zulu","value":"Etc/Zulu"},{"label":"Europe/Amsterdam","value":"Europe/Amsterdam"},{"label":"Europe/Andorra","value":"Europe/Andorra"},{"label":"Europe/Astrakhan","value":"Europe/Astrakhan"},{"label":"Europe/Athens","value":"Europe/Athens"},{"label":"Europe/Belfast","value":"Europe/Belfast"},{"label":"Europe/Belgrade","value":"Europe/Belgrade"},{"label":"Europe/Berlin","value":"Europe/Berlin"},{"label":"Europe/Bratislava","value":"Europe/Bratislava"},{"label":"Europe/Brussels","value":"Europe/Brussels"},{"label":"Europe/Bucharest","value":"Europe/Bucharest"},{"label":"Europe/Budapest","value":"Europe/Budapest"},{"label":"Europe/Busingen","value":"Europe/Busingen"},{"label":"Europe/Chisinau","value":"Europe/Chisinau"},{"label":"Europe/Copenhagen","value":"Europe/Copenhagen"},{"label":"Europe/Dublin","value":"Europe/Dublin"},{"label":"Europe/Gibraltar","value":"Europe/Gibraltar"},{"label":"Europe/Guernsey","value":"Europe/Guernsey"},{"label":"Europe/Helsinki","value":"Europe/Helsinki"},{"label":"Europe/Isle_of_Man","value":"Europe/Isle_of_Man"},{"label":"Europe/Istanbul","value":"Europe/Istanbul"},{"label":"Europe/Jersey","value":"Europe/Jersey"},{"label":"Europe/Kaliningrad","value":"Europe/Kaliningrad"},{"label":"Europe/Kiev","value":"Europe/Kiev"},{"label":"Europe/Kirov","value":"Europe/Kirov"},{"label":"Europe/Lisbon","value":"Europe/Lisbon"},{"label":"Europe/Ljubljana","value":"Europe/Ljubljana"},{"label":"Europe/London","value":"Europe/London"},{"label":"Europe/Luxembourg","value":"Europe/Luxembourg"},{"label":"Europe/Madrid","value":"Europe/Madrid"},{"label":"Europe/Malta","value":"Europe/Malta"},{"label":"Europe/Mariehamn","value":"Europe/Mariehamn"},{"label":"Europe/Minsk","value":"Europe/Minsk"},{"label":"Europe/Monaco","value":"Europe/Monaco"},{"label":"Europe/Moscow","value":"Europe/Moscow"},{"label":"Europe/Nicosia","value":"Europe/Nicosia"},{"label":"Europe/Oslo","value":"Europe/Oslo"},{"label":"Europe/Paris","value":"Europe/Paris"},{"label":"Europe/Podgorica","value":"Europe/Podgorica"},{"label":"Europe/Prague","value":"Europe/Prague"},{"label":"Europe/Riga","value":"Europe/Riga"},{"label":"Europe/Rome","value":"Europe/Rome"},{"label":"Europe/Samara","value":"Europe/Samara"},{"label":"Europe/San_Marino","value":"Europe/San_Marino"},{"label":"Europe/Sarajevo","value":"Europe/Sarajevo"},{"label":"Europe/Saratov","value":"Europe/Saratov"},{"label":"Europe/Simferopol","value":"Europe/Simferopol"},{"label":"Europe/Skopje","value":"Europe/Skopje"},{"label":"Europe/Sofia","value":"Europe/Sofia"},{"label":"Europe/Stockholm","value":"Europe/Stockholm"},{"label":"Europe/Tallinn","value":"Europe/Tallinn"},{"label":"Europe/Tirane","value":"Europe/Tirane"},{"label":"Europe/Tiraspol","value":"Europe/Tiraspol"},{"label":"Europe/Ulyanovsk","value":"Europe/Ulyanovsk"},{"label":"Europe/Uzhgorod","value":"Europe/Uzhgorod"},{"label":"Europe/Vaduz","value":"Europe/Vaduz"},{"label":"Europe/Vatican","value":"Europe/Vatican"},{"label":"Europe/Vienna","value":"Europe/Vienna"},{"label":"Europe/Vilnius","value":"Europe/Vilnius"},{"label":"Europe/Volgograd","value":"Europe/Volgograd"},{"label":"Europe/Warsaw","value":"Europe/Warsaw"},{"label":"Europe/Zagreb","value":"Europe/Zagreb"},{"label":"Europe/Zaporozhye","value":"Europe/Zaporozhye"},{"label":"Europe/Zurich","value":"Europe/Zurich"},{"label":"GB","value":"GB"},{"label":"GB-Eire","value":"GB-Eire"},{"label":"GMT","value":"GMT"},{"label":"GMT+0","value":"GMT+0"},{"label":"GMT-0","value":"GMT-0"},{"label":"GMT0","value":"GMT0"},{"label":"Greenwich","value":"Greenwich"},{"label":"HST","value":"HST"},{"label":"Hongkong","value":"Hongkong"},{"label":"Iceland","value":"Iceland"},{"label":"Indian/Antananarivo","value":"Indian/Antananarivo"},{"label":"Indian/Chagos","value":"Indian/Chagos"},{"label":"Indian/Christmas","value":"Indian/Christmas"},{"label":"Indian/Cocos","value":"Indian/Cocos"},{"label":"Indian/Comoro","value":"Indian/Comoro"},{"label":"Indian/Kerguelen","value":"Indian/Kerguelen"},{"label":"Indian/Mahe","value":"Indian/Mahe"},{"label":"Indian/Maldives","value":"Indian/Maldives"},{"label":"Indian/Mauritius","value":"Indian/Mauritius"},{"label":"Indian/Mayotte","value":"Indian/Mayotte"},{"label":"Indian/Reunion","value":"Indian/Reunion"},{"label":"Iran","value":"Iran"},{"label":"Israel","value":"Israel"},{"label":"Jamaica","value":"Jamaica"},{"label":"Japan","value":"Japan"},{"label":"Kwajalein","value":"Kwajalein"},{"label":"Libya","value":"Libya"},{"label":"MET","value":"MET"},{"label":"MST","value":"MST"},{"label":"MST7MDT","value":"MST7MDT"},{"label":"Mexico/BajaNorte","value":"Mexico/BajaNorte"},{"label":"Mexico/BajaSur","value":"Mexico/BajaSur"},{"label":"Mexico/General","value":"Mexico/General"},{"label":"NZ","value":"NZ"},{"label":"NZ-CHAT","value":"NZ-CHAT"},{"label":"Navajo","value":"Navajo"},{"label":"PRC","value":"PRC"},{"label":"PST8PDT","value":"PST8PDT"},{"label":"Pacific/Apia","value":"Pacific/Apia"},{"label":"Pacific/Auckland","value":"Pacific/Auckland"},{"label":"Pacific/Bougainville","value":"Pacific/Bougainville"},{"label":"Pacific/Chatham","value":"Pacific/Chatham"},{"label":"Pacific/Chuuk","value":"Pacific/Chuuk"},{"label":"Pacific/Easter","value":"Pacific/Easter"},{"label":"Pacific/Efate","value":"Pacific/Efate"},{"label":"Pacific/Enderbury","value":"Pacific/Enderbury"},{"label":"Pacific/Fakaofo","value":"Pacific/Fakaofo"},{"label":"Pacific/Fiji","value":"Pacific/Fiji"},{"label":"Pacific/Funafuti","value":"Pacific/Funafuti"},{"label":"Pacific/Galapagos","value":"Pacific/Galapagos"},{"label":"Pacific/Gambier","value":"Pacific/Gambier"},{"label":"Pacific/Guadalcanal","value":"Pacific/Guadalcanal"},{"label":"Pacific/Guam","value":"Pacific/Guam"},{"label":"Pacific/Honolulu","value":"Pacific/Honolulu"},{"label":"Pacific/Johnston","value":"Pacific/Johnston"},{"label":"Pacific/Kiritimati","value":"Pacific/Kiritimati"},{"label":"Pacific/Kosrae","value":"Pacific/Kosrae"},{"label":"Pacific/Kwajalein","value":"Pacific/Kwajalein"},{"label":"Pacific/Majuro","value":"Pacific/Majuro"},{"label":"Pacific/Marquesas","value":"Pacific/Marquesas"},{"label":"Pacific/Midway","value":"Pacific/Midway"},{"label":"Pacific/Nauru","value":"Pacific/Nauru"},{"label":"Pacific/Niue","value":"Pacific/Niue"},{"label":"Pacific/Norfolk","value":"Pacific/Norfolk"},{"label":"Pacific/Noumea","value":"Pacific/Noumea"},{"label":"Pacific/Pago_Pago","value":"Pacific/Pago_Pago"},{"label":"Pacific/Palau","value":"Pacific/Palau"},{"label":"Pacific/Pitcairn","value":"Pacific/Pitcairn"},{"label":"Pacific/Pohnpei","value":"Pacific/Pohnpei"},{"label":"Pacific/Ponape","value":"Pacific/Ponape"},{"label":"Pacific/Port_Moresby","value":"Pacific/Port_Moresby"},{"label":"Pacific/Rarotonga","value":"Pacific/Rarotonga"},{"label":"Pacific/Saipan","value":"Pacific/Saipan"},{"label":"Pacific/Samoa","value":"Pacific/Samoa"},{"label":"Pacific/Tahiti","value":"Pacific/Tahiti"},{"label":"Pacific/Tarawa","value":"Pacific/Tarawa"},{"label":"Pacific/Tongatapu","value":"Pacific/Tongatapu"},{"label":"Pacific/Truk","value":"Pacific/Truk"},{"label":"Pacific/Wake","value":"Pacific/Wake"},{"label":"Pacific/Wallis","value":"Pacific/Wallis"},{"label":"Pacific/Yap","value":"Pacific/Yap"},{"label":"Poland","value":"Poland"},{"label":"Portugal","value":"Portugal"},{"label":"ROC","value":"ROC"},{"label":"ROK","value":"ROK"},{"label":"Singapore","value":"Singapore"},{"label":"Turkey","value":"Turkey"},{"label":"UCT","value":"UCT"},{"label":"US/Alaska","value":"US/Alaska"},{"label":"US/Aleutian","value":"US/Aleutian"},{"label":"US/Arizona","value":"US/Arizona"},{"label":"US/Central","value":"US/Central"},{"label":"US/East-Indiana","value":"US/East-Indiana"},{"label":"US/Eastern","value":"US/Eastern"},{"label":"US/Hawaii","value":"US/Hawaii"},{"label":"US/Indiana-Starke","value":"US/Indiana-Starke"},{"label":"US/Michigan","value":"US/Michigan"},{"label":"US/Mountain","value":"US/Mountain"},{"label":"US/Pacific","value":"US/Pacific"},{"label":"US/Pacific-New","value":"US/Pacific-New"},{"label":"US/Samoa","value":"US/Samoa"},{"label":"UTC","value":"UTC"},{"label":"Universal","value":"Universal"},{"label":"W-SU","value":"W-SU"},{"label":"WET","value":"WET"}]}'),pu={name:"TemplateSettingsEditor",props:["editTemplate","modelValue"],computed:{editable:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},data(){return{timezones:du.L,themes:[{label:"FlowForge Light",value:"forge-light"},{label:"FlowForge Dark",value:"forge-dark"}]}},components:{FormRow:Ae.Z,FormHeading:Pe.Z,LockSetting:Kd,ChangeIndicator:Od}},uu=(0,f.Z)(pu,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormHeading"),l=(0,n.up)("ChangeIndicator"),c=(0,n.up)("FormRow"),d=(0,n.up)("LockSetting");return(0,n.wg)(),(0,n.iD)("form",{class:"space-y-4",onSubmit:t[20]||(t[20]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Editor")])),_:1}),(0,n._)("div",qp,[(0,n._)("div",Hp,[(0,n.Wm)(c,{modelValue:o.editable.settings.disableEditor,"onUpdate:modelValue":t[0]||(t[0]=e=>o.editable.settings.disableEditor=e),type:"checkbox",disabled:!a.editTemplate&&!o.editable.policy.disableEditor},{description:(0,n.w5)((()=>[(0,n.Uk)(" Disable the editor for this instance. The only way to modify the running flows will be to re-enable the editor and restart the instance, or use the Admin API. ")])),append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.disableEditor},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Disable editor ")])),_:1},8,["modelValue","disabled"])]),(0,n.Wm)(d,{editTemplate:a.editTemplate,modelValue:o.editable.policy.disableEditor,"onUpdate:modelValue":t[1]||(t[1]=e=>o.editable.policy.disableEditor=e),changed:o.editable.changed.policy.disableEditor},null,8,["editTemplate","modelValue","changed"])]),(0,n._)("div",Op,[(0,n._)("div",Gp,[(0,n.Wm)(c,{modelValue:o.editable.settings.disableTours,"onUpdate:modelValue":t[2]||(t[2]=e=>o.editable.settings.disableTours=e),type:"checkbox",disabled:!a.editTemplate&&!o.editable.policy.disableTours},{description:(0,n.w5)((()=>[(0,n.Uk)(" Disable the Welcome Tour when accessing the editor the first time. ")])),append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.disableTours},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Disable Welcome Tour ")])),_:1},8,["modelValue","disabled"])]),(0,n.Wm)(d,{editTemplate:a.editTemplate,modelValue:o.editable.policy.disableTours,"onUpdate:modelValue":t[3]||(t[3]=e=>o.editable.policy.disableTours=e),changed:o.editable.changed.policy.disableTours},null,8,["editTemplate","modelValue","changed"])]),(0,n._)("div",Yp,[(0,n._)("div",zp,[(0,n.Wm)(c,{modelValue:o.editable.settings.httpAdminRoot,"onUpdate:modelValue":t[4]||(t[4]=e=>o.editable.settings.httpAdminRoot=e),error:o.editable.errors.httpAdminRoot,disabled:!a.editTemplate&&!1===o.editable.policy.httpAdminRoot,type:"text"},{description:(0,n.w5)((()=>[(0,n.Uk)(" The path used to serve the editor ")])),append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.httpAdminRoot},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Editor URL Path ")])),_:1},8,["modelValue","error","disabled"])]),(0,n.Wm)(d,{class:"flex justify-end flex-col",editTemplate:a.editTemplate,modelValue:o.editable.policy.httpAdminRoot,"onUpdate:modelValue":t[5]||(t[5]=e=>o.editable.policy.httpAdminRoot=e),changed:o.editable.changed.policy.httpAdminRoot},null,8,["editTemplate","modelValue","changed"])]),(0,n._)("div",Kp,[(0,n._)("div",Xp,[(0,n.Wm)(c,{modelValue:o.editable.settings.dashboardUI,"onUpdate:modelValue":t[6]||(t[6]=e=>o.editable.settings.dashboardUI=e),error:o.editable.errors.dashboardUI,disabled:!a.editTemplate&&!o.editable.policy.dashboardUI,type:"text"},{description:(0,n.w5)((()=>[(0,n.Uk)(" The path used to serve the node-red-dashboard UI ")])),append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.dashboardUI},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Dashboard URL Path ")])),_:1},8,["modelValue","error","disabled"])]),(0,n.Wm)(d,{class:"flex justify-end flex-col",editTemplate:a.editTemplate,modelValue:o.editable.policy.dashboardUI,"onUpdate:modelValue":t[7]||(t[7]=e=>o.editable.policy.dashboardUI=e),changed:o.editable.changed.policy.dashboardUI},null,8,["editTemplate","modelValue","changed"])]),(0,n._)("div",$p,[(0,n._)("div",Qp,[(0,n.Wm)(c,{modelValue:o.editable.settings.codeEditor,"onUpdate:modelValue":t[8]||(t[8]=e=>o.editable.settings.codeEditor=e),disabled:!a.editTemplate&&!o.editable.policy.codeEditor,type:"select",options:[{label:"monaco",value:"monaco"},{label:"ace",value:"ace"}]},{append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.codeEditor},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Code Editor ")])),_:1},8,["modelValue","disabled"])]),(0,n.Wm)(d,{class:"flex justify-end flex-col",editTemplate:a.editTemplate,modelValue:o.editable.policy.codeEditor,"onUpdate:modelValue":t[9]||(t[9]=e=>o.editable.policy.codeEditor=e),changed:o.editable.changed.policy.codeEditor},null,8,["editTemplate","modelValue","changed"])]),(0,n._)("div",Jp,[(0,n._)("div",eu,[(0,n.Wm)(c,{modelValue:o.editable.settings.header_title,"onUpdate:modelValue":t[10]||(t[10]=e=>o.editable.settings.header_title=e),error:o.editable.errors.header_title,disabled:!a.editTemplate&&!o.editable.policy.header_title,type:"text"},{description:(0,n.w5)((()=>[(0,n.Uk)(" The title to show in the header ")])),append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.header_title},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Editor Title ")])),_:1},8,["modelValue","error","disabled"])]),(0,n.Wm)(d,{class:"flex justify-end flex-col",editTemplate:a.editTemplate,modelValue:o.editable.policy.header_title,"onUpdate:modelValue":t[11]||(t[11]=e=>o.editable.policy.header_title=e),changed:o.editable.changed.policy.header_title},null,8,["editTemplate","modelValue","changed"])]),(0,n._)("div",tu,[(0,n._)("div",au,[(0,n.Wm)(c,{modelValue:o.editable.settings.theme,"onUpdate:modelValue":t[12]||(t[12]=e=>o.editable.settings.theme=e),disabled:!a.editTemplate&&!o.editable.policy.theme,type:"select",options:s.themes},{append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.theme},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Editor Theme ")])),_:1},8,["modelValue","disabled","options"])]),(0,n.Wm)(d,{class:"flex justify-end flex-col",editTemplate:a.editTemplate,modelValue:o.editable.policy.theme,"onUpdate:modelValue":t[13]||(t[13]=e=>o.editable.policy.theme=e),changed:o.editable.changed.policy.theme},null,8,["editTemplate","modelValue","changed"])]),(0,n._)("div",iu,[(0,n._)("div",nu,[(0,n.Wm)(c,{modelValue:o.editable.settings.timeZone,"onUpdate:modelValue":t[14]||(t[14]=e=>o.editable.settings.timeZone=e),disabled:!a.editTemplate&&!o.editable.policy.timeZone,type:"select",options:s.timezones},{append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.timeZone},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Time Zone ")])),_:1},8,["modelValue","disabled","options"])]),(0,n.Wm)(d,{class:"flex justify-end flex-col",editTemplate:a.editTemplate,modelValue:o.editable.policy.timeZone,"onUpdate:modelValue":t[15]||(t[15]=e=>o.editable.policy.timeZone=e),changed:o.editable.changed.policy.timeZone},null,8,["editTemplate","modelValue","changed"])]),(0,n.Wm)(r,{class:"pt-8"},{default:(0,n.w5)((()=>[(0,n.Uk)("External Modules")])),_:1}),(0,n._)("div",su,[(0,n._)("div",ou,[(0,n.Wm)(c,{modelValue:o.editable.settings.modules_allowInstall,"onUpdate:modelValue":t[16]||(t[16]=e=>o.editable.settings.modules_allowInstall=e),type:"checkbox",disabled:!a.editTemplate&&!o.editable.policy.modules_allowInstall},{append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.modules_allowInstall},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Allow user to install new modules in the Function node ")])),_:1},8,["modelValue","disabled"])]),(0,n.Wm)(d,{editTemplate:a.editTemplate,modelValue:o.editable.policy.modules_allowInstall,"onUpdate:modelValue":t[17]||(t[17]=e=>o.editable.policy.modules_allowInstall=e),changed:o.editable.changed.policy.modules_allowInstall},null,8,["editTemplate","modelValue","changed"])]),(0,n._)("div",ru,[(0,n._)("div",lu,[(0,n.Wm)(c,{modelValue:o.editable.settings.modules_denyList,"onUpdate:modelValue":t[18]||(t[18]=e=>o.editable.settings.modules_denyList=e),disabled:!a.editTemplate&&!o.editable.policy.modules_denyList,error:o.editable.errors.modules_denyList,type:a.editTemplate||o.editable.policy.modules_denyList?"text":"uneditable"},{description:(0,n.w5)((()=>[(0,n.Uk)(" This can be used to prevent the installation of modules in Function nodes. A comma-separated list of the form e.g. "),cu])),append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editable.changed.settings.modules_denyList},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Prevent Install of External modules ")])),_:1},8,["modelValue","disabled","error","type"])]),(0,n.Wm)(d,{class:"flex justify-end flex-col",editTemplate:a.editTemplate,modelValue:o.editable.policy.modules_denyList,"onUpdate:modelValue":t[19]||(t[19]=e=>o.editable.policy.modules_denyList=e),changed:o.editable.changed.policy.modules_denyList},null,8,["editTemplate","modelValue","changed"])])],32)}]]),mu={name:"AdminTemplateSettings",props:["modelValue","editTemplate"],computed:{editableTemplate:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},components:{FormRow:Ae.Z,FormHeading:Pe.Z,ChangeIndicator:Od,TemplateSettingsEditor:uu}},hu=(0,f.Z)(mu,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormHeading"),l=(0,n.up)("ChangeIndicator"),c=(0,n.up)("FormRow"),d=(0,n.up)("TemplateSettingsEditor");return(0,n.wg)(),(0,n.iD)("form",{class:"space-y-4",onSubmit:t[4]||(t[4]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)("General")])),_:1}),(0,n.Wm)(c,{modelValue:o.editableTemplate.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.editableTemplate.name=e),error:o.editableTemplate.errors.name},{append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editableTemplate.changed.name},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Name ")])),_:1},8,["modelValue","error"]),(0,n.Wm)(c,{modelValue:o.editableTemplate.active,"onUpdate:modelValue":t[1]||(t[1]=e=>o.editableTemplate.active=e),type:"checkbox"},{description:(0,n.w5)((()=>[(0,n.Uk)("Users can only select from active templates")])),append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editableTemplate.changed.active},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Active ")])),_:1},8,["modelValue"]),(0,n.Wm)(c,{modelValue:o.editableTemplate.description,"onUpdate:modelValue":t[2]||(t[2]=e=>o.editableTemplate.description=e),error:o.editableTemplate.errors.description},{append:(0,n.w5)((()=>[(0,n.Wm)(l,{value:o.editableTemplate.changed.description},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Description ")])),_:1},8,["modelValue","error"]),(0,n.Wm)(d,{modelValue:o.editableTemplate,"onUpdate:modelValue":t[3]||(t[3]=e=>o.editableTemplate=e),editTemplate:a.editTemplate},null,8,["modelValue","editTemplate"])],32)}]]);const gu={class:"flex flex-col sm:flex-row mb-8 max-w-4xl"},fu={class:"flex-grow"},vu={class:"text-gray-800 text-xl"},yu={key:0},ku={key:1},bu={class:"text-right space-x-4 flex h-8"},wu={class:"flex flex-col sm:flex-row"},xu={class:"flex-grow"};var Au=async(e,t)=>{const a=(0,ka.Z)("/api/v1/templates",e,t);return ba.Z.get(a).then((e=>(e.data.templates=e.data.templates.map((e=>(e.link={name:"Admin Template",params:{id:e.id}},e))),e.data)))};const{templateFields:Du,passwordTypes:Su,defaultTemplateValues:Tu,defaultTemplatePolicy:Cu}=a(3657),Eu={palette_denyList:{decode:e=>"boolean"==typeof e||"string"==typeof e?e:Array.isArray(e)?e.join(", "):"",encode:e=>"boolean"==typeof e?e:e.split(",").map((e=>e.trim())).filter((e=>e.length>0))},modules_denyList:{decode:e=>"boolean"==typeof e||"string"==typeof e?e:Array.isArray(e)?e.join(", "):"",encode:e=>"boolean"==typeof e?e:e.split(",").map((e=>e.trim())).filter((e=>e.length>0))},palette_modules:{decode:e=>e,encode:e=>e?e.map((e=>({name:e.name,version:e.version,local:e.local}))):e}},Iu={httpAdminRoot:e=>{if(!/^[0-9a-z_\-\\/]*$/i.test(e))return"Must contain only 0-9 a-z _ - /"},dashboardUI:e=>{if(!/^[0-9a-z_\-\\/]*$/i.test(e))return"Must contain only 0-9 a-z _ - /"},palette_nodesExcludes:e=>{if(""===e.trim())return;const t=e.split(",").map((e=>e.trim())).filter((e=>e.length>0));for(let e=0;e<t.length;e++){const a=t[e];if(!/^[a-z0-9\-._]+\.js$/i.test(a))return"Must be a comma-separated list of .js filenames"}},palette_denyList:e=>{if(""===e.trim())return;const t=e.split(",").map((e=>e.trim())).filter((e=>e.length>0));for(let e=0;e<t.length;e++){const a=t[e];if(!/^((@[a-z0-9-~][a-z0-9-._~]*\/)?([a-z0-9-~][a-z0-9-._~]*|\*))(@([~^><]|<=|>=)?((0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?))?$/i.test(a))return"Must be a comma-separated list of nodes[@version]"}},modules_denyList:e=>{if(""===e.trim())return;const t=e.split(",").map((e=>e.trim())).filter((e=>e.length>0));for(let e=0;e<t.length;e++){const a=t[e];if(!/^((@[a-z0-9-~][a-z0-9-._~]*\/)?([a-z0-9-~][a-z0-9-._~]*|\*))(@([~^><]|<=|>=)?((0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?))?$/i.test(a))return"Must be a comma-separated list of nodes[@version]"}}};function _u(e,t){const a=t.split("_");let i=e;for(;a.length>0;){const e=a.shift();if(void 0===i[e])return;i=i[e]}return i}function Uu(e,t,a){const i=t.split("_");let n=e;for(;i.length>1;){const e=i.shift();void 0===n[e]&&(n[e]={}),n=n[e]}n[i.shift()]=a}function Vu(e,t){const a=_u(e,t);return Su.includes(t)?a?"__PASSWD__":"":Eu[t]?Eu[t].decode(a):a}function ju(e,t,a){let i=a;Su.includes(t)?"__PASSWD__"===a&&(i=!0):Eu[t]&&(i=Eu[t].encode(a)),Uu(e,t,i)}function Pu(e){const t={editable:{name:"",active:!1,description:"",settings:{},policy:{},changed:{name:!1,description:!1,settings:{},policy:{}},errors:{}},original:{name:"",active:!1,description:"",settings:{},policy:{}}};return t.editable.name=e.name,t.original.name=e.name,t.editable.changed.name=!1,t.editable.active=e.active,t.original.active=e.active,t.editable.changed.active=!1,t.editable.description=e.description,t.original.description=e.description,t.editable.changed.description=!1,t.editable.errors={},Du.forEach((a=>{const i=Vu(e.settings,a);void 0!==i?"object"==typeof i?(t.editable.settings[a]=JSON.parse(JSON.stringify(i)),t.original.settings[a]=JSON.parse(JSON.stringify(i))):(t.editable.settings[a]=i,t.original.settings[a]=i):(t.editable.settings[a]=Tu[a],t.original.settings[a]=Tu[a]),t.editable.changed.settings[a]=!1;const n=_u(e.policy,a);void 0!==n?(t.editable.policy[a]=n,t.original.policy[a]=n):(t.editable.policy[a]=Cu[a],t.original.policy[a]=Cu[a]),t.editable.changed.policy[a]=!1})),t.editable.settings.env=[],t.original.settings.envMap={},t.original.settings.env=[],t.editable.changed.env=!1,e.settings.env&&e.settings.env.forEach(((e,a)=>{e.index=a,t.editable.settings.env.push(Object.assign({},e)),t.original.settings.env.push(Object.assign({},e)),t.original.settings.envMap[e.name]=e})),""===t.original.settings.httpNodeAuth_type&&(t.original.settings.httpNodeAuth_user&&t.original.settings.httpNodeAuth_pass?(t.original.settings.httpNodeAuth_type="basic",t.editable.settings.httpNodeAuth_type="basic"):(t.original.settings.httpNodeAuth_type="none",t.editable.settings.httpNodeAuth_type="none")),t}function Zu(e){return Su.includes(e)}function Mu(e,t){let a=t;Array.isArray(t)&&(a={},t.forEach((e=>{a[e.name]=e})));let i=!1,n=!1,s=0;return e.forEach((e=>{if(n=n||!!e.error,e.index&&/^add/.test(e.index+""))i=!0;else if(s++,a[e.name]){const t=a[e.name];(t.index!==e.index||t.name!==e.name||t.version!==e.version)&&(i=!0)}else i=!0})),(i||s!==Object.keys(a).length)&&(i=!0),{changed:i,errors:n}}const Bu=[{name:"Settings",path:"./settings"},{name:"Security",path:"./Security"},{name:"Environment",path:"./environment"},{name:"Palette",path:"./palette"}];var Fu={name:"AdminTemplate",components:{SectionSideMenu:Re,ChevronRightIcon:Lo.Z},setup(){return{sideNavigation:Bu}},data(){return{isNew:!1,createValid:!1,editable:{name:"",active:!1,description:"",settings:{},policy:{},changed:{name:!1,active:!1,description:!1,settings:{},policy:{}},errors:{}},template:{},original:{name:"",active:!1,description:"",settings:{},policy:{}},unsavedChanges:!1,modulesChanged:!1,needsRestart:!1,hasErrors:!1,icons:{breadcrumbSeparator:Lo.Z}}},watch:{editable:{deep:!0,handler(e){if(this.template.name){let e=!1,t=!1,a=!1,i=!1;this.editable.changed.name=this.editable.name!==this.original.name,e=e||this.editable.changed.name,this.editable.changed.active=this.editable.active!==this.original.active,e=e||this.editable.changed.active,this.editable.changed.description=this.editable.description!==this.original.description,e=e||this.editable.changed.description,Du.forEach((n=>{if("palette_modules"===n){const a=Mu(this.editable.settings.palette_modules,this.original.settings.palette_modules);this.editable.changed.palette_modules=this.editable.changed.palette_modules||a.changed,t=t||a.changed,e=e||a.changed,i=i||a.errors}else this.editable.changed.settings[n]=this.editable.settings[n]!==this.original.settings[n],a=a||this.editable.changed.settings[n];if(this.editable.changed.policy[n]=this.editable.policy[n]!==this.original.policy[n],e=e||this.editable.changed.settings[n]||this.editable.changed.policy[n],Iu[n]){const e=Iu[n](this.editable.settings[n]);e?(this.editable.errors[n]=e,i=!0):delete this.editable.errors[n]}}));let n=!1,s=0;this.editable.settings.env.forEach((e=>{if(/^add/.test(e.index))n=!0;else if(s++,this.original.settings.envMap[e.name]){const t=this.original.settings.envMap[e.name];(t.index!==e.index||t.name!==e.name||t.value!==e.value||t.policy!==e.policy)&&(n=!0)}else n=!0})),s!==this.original.settings.env.length&&(n=!0),this.editable.changed.env=n,e=e||n,this.modulesChanged=t,this.needsRestart=a,this.unsavedChanges=e,this.hasErrors=i}}},"editable.name"(e){""===e?(this.createValid=!1,this.editable.errors.name="Required"):(this.createValid=!0,this.editable.errors.name="")}},async created(){await this.loadTemplate()},methods:{async loadTemplate(){try{"create"===this.$route.params.id?(this.isNew=!0,this.template={name:"",active:!1,description:"",settings:{env:[]},policy:{}}):(this.template=await(async e=>await ba.Z.get(`/api/v1/templates/${e}`).then((e=>e.data)))(this.$route.params.id),this.isNew=!1);const e=Pu(this.template);this.editable=e.editable,this.original=e.original}catch(e){console.error(e),this.$router.push({name:"PageNotFound",params:{pathMatch:this.$router.currentRoute.value.path.substring(1).split("/")},query:this.$router.currentRoute.value.query,hash:this.$router.currentRoute.value.hash})}},cancelEdit(){this.editable.name=this.original.name,this.editable.changed.name=!1,this.editable.active=this.original.active,this.editable.changed.active=!1,this.editable.description=this.original.description,this.editable.changed.description=!1,Du.forEach((e=>{this.editable.changed.settings[e]=!1,this.editable.settings[e]=this.original.settings[e],this.editable.changed.policy[e]=!1,this.editable.policy[e]=this.original.policy[e]})),this.editable.settings.env=this.original.settings.env.map((e=>Object.assign({},e))),this.editable.errors={}},showSaveTemplateDialog(){let e="<p>Are you sure you want to save this template?</p>";this.needsRestart&&(e+="<p>Application instances using this template will need to be manually restarted to pick up the changes.</p>"),this.modulesChanged&&(e+="<p>NOTE: Exiting instances will not inherit the modules in this list.  They must be added manually in the instance settings.</p>"),Xe.Z.show({header:"Update Template",html:e,confirmLabel:"Save Template"},this.saveTemplate)},async saveTemplate(){const e={name:this.editable.name,active:this.editable.active,description:this.editable.description,settings:{},policy:{}};"basic"!==this.editable.settings.httpNodeAuth_type&&(this.editable.settings.httpNodeAuth_user="",this.editable.settings.httpNodeAuth_pass=""),Du.forEach((t=>{ju(e.settings,t,this.editable.settings[t]),Uu(e.policy,t,this.editable.policy[t])})),e.settings.env=[],this.editable.settings.env.forEach((t=>{t.name.length>0&&!/ /.test(t.name)&&e.settings.env.push({name:t.name.trim(),value:t.value,policy:t.policy})}));try{await(async(e,t)=>ba.Z.put(`/api/v1/templates/${e}`,t).then((e=>e.data)))(this.template.id,e),await this.loadTemplate()}catch(e){e.response?.data?Ee.Z.emit(e.response.data.error,"warning"):Ee.Z.emit("Unknown Error. Check logs.","warning"),console.error(e)}},async createTemplate(){const e={name:this.editable.name,active:this.editable.active,description:this.editable.description,settings:{},policy:{}};Du.forEach((t=>{ju(e.settings,t,this.editable.settings[t]),Uu(e.policy,t,this.editable.policy[t])})),e.settings.env=[],this.editable.settings.env.forEach((t=>{t.name.length>0&&!/ /.test(t.name)&&e.settings.env.push({name:t.name.trim(),value:t.value,policy:t.policy})}));try{await(async e=>ba.Z.post("/api/v1/templates/",e).then((e=>e.data)))(e),this.$router.push({name:"Admin Templates"})}catch(e){e.response?.data?Ee.Z.emit(e.response.data.error,"warning"):Ee.Z.emit("Unknown Error. Check logs.","warning"),console.error(e)}}}},Wu=(0,f.Z)(Fu,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("router-link"),c=(0,n.up)("ChevronRightIcon"),d=(0,n.up)("ff-button"),p=(0,n.up)("SectionSideMenu"),u=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",gu,[(0,n._)("div",fu,[(0,n._)("div",vu,[(0,n.Wm)(r,{class:"ff-link font-bold",to:{path:"/admin/templates"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Templates")])),_:1}),(0,n.kq)(' <nav-item :icon="icons.breadcrumbSeparator" label="sss"></nav-item> '),(0,n.Wm)(c,{class:"ff-icon"}),s.isNew?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",yu,(0,l.toDisplayString)(s.template.name),1)),s.isNew?((0,n.wg)(),(0,n.iD)("span",ku,"Create a new template")):(0,n.kq)("v-if",!0)])]),(0,n._)("div",bu,[s.isNew?s.isNew?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(d,{to:{name:"Admin Templates"},kind:"secondary"},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1}),(0,n.Wm)(d,{disabled:s.hasErrors||!s.createValid,class:"ml-4",onClick:o.createTemplate},{default:(0,n.w5)((()=>[(0,n.Uk)("Create template")])),_:1},8,["disabled","onClick"])],64)):(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[s.unsavedChanges?((0,n.wg)(),(0,n.j4)(d,{key:0,kind:"secondary",class:"ml-4",onClick:o.cancelEdit},{default:(0,n.w5)((()=>[(0,n.Uk)("Discard changes")])),_:1},8,["onClick"])):(0,n.kq)("v-if",!0),(0,n.Wm)(d,{class:"ml-4",disabled:s.hasErrors||!s.unsavedChanges,onClick:o.showSaveTemplateDialog},{default:(0,n.w5)((()=>[(0,n.Uk)("Save changes")])),_:1},8,["disabled","onClick"])],64))])]),(0,n._)("div",wu,[(0,n.Wm)(p,{options:i.sideNavigation},null,8,["options"]),(0,n._)("div",xu,[(0,n.Wm)(u,{modelValue:s.editable,"onUpdate:modelValue":t[0]||(t[0]=e=>s.editable=e),editTemplate:!0},null,8,["modelValue"])])])],64)}]]);const Nu={class:"flex"},Ru=(0,n._)("div",{class:"mr-4"},"Environment Variables",-1),Lu={class:"flex justify-center"},qu={class:"min-w-min"},Hu={id:"fileUpload",ref:"fileUpload",type:"file",accept:".env, text/plain, *",class:"hidden",hidden:""},Ou=(0,n._)("span",{class:"hidden sm:flex pl-1"},"Import .env",-1),Gu=(0,n._)("span",{class:"hidden sm:flex pl-1"},"Add variable",-1),Yu=(0,n._)("td",{class:"ff-data-table--cell max-w-sm"},"Name",-1),zu=(0,n._)("td",{class:"ff-data-table--cell"},"Value",-1),Ku=(0,n._)("td",{class:"ff-data-table--cell bg-gray-100 p-2 w-16"},null,-1),Xu={key:0,class:"ff-data-table--cell p-2 w-32"},$u={class:"ff-data-table--cell !pl-1 !pr-0 !py-1 border min-w-max max-w-sm align-top"},Qu={key:0,class:"w-full"},Ju={key:1,class:"pt-1 text-gray-400"},em={class:"ff-data-table--cell !p-1 border w-16 align-top"},tm={key:0,class:"flex justify-center mt-1"},am={key:1,class:"flex justify-center mt-1"},im={key:2,class:"flex justify-center mt-2"},nm={key:0,class:"ff-data-table--cell !p-1 align-top"};var sm=a(354),om=a(5407),rm={name:"TemplateEnvironmentEditor",components:{FormRow:Ae.Z,FormHeading:Pe.Z,LockSetting:Kd,ChangeIndicator:Od,DocumentDownloadIcon:sm.Z,TrashIcon:Zp.Z,PlusSmIcon:Ct.Z,LockClosedIcon:ri.Z,ExclamationIcon:om.Z},props:{editTemplate:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>({settings:{env:[]}})},readOnly:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{addedCount:0,input:{},envVarLookup:{},originalEnvVars:null,search:"",pauseEnvWatch:!1}},computed:{editable:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},filteredRows:function(){if(""===this.search)return this.editable.settings.env;const e=this.search.toLowerCase();return this.editable.settings.env.filter((t=>t.name.toLowerCase().includes(e)||t.value.toLowerCase().includes(e)))},noDataMessage:function(){return""===this.search?"No environment variables":"Not found! Try a different search term."}},watch:{editable(){this.updateLookup()},"editable.settings.env":{deep:!0,handler(e){const t=e.map((e=>{const{error:t,...a}=e;return a})),a=(this.originalEnvVars||[]).map((e=>{const{error:t,...a}=e;return a}));JSON.stringify(t)!==JSON.stringify(a)&&this.validate()}}},mounted(){this.updateLookup(),this.validate()},methods:{validate(){const e=this.editable?.settings?.env||[];this.updateLookup();const t={};null===this.originalEnvVars&&(this.originalEnvVars=JSON.parse(JSON.stringify(this.editable?.settings?.env||[]))),e.forEach(((e,a)=>{void 0!==e.policy||!0!==e.platform&&!0!==e.deprecated||(e.policy=!1),(void 0===e.index||"number"==typeof e.index&&e.index!==a)&&(e.index=a),t[e.name]=(t[e.name]||0)+1,e.error=""})),e.forEach(((e,a)=>{const i="string"==typeof e.index&&e.index.startsWith("add-");""===e.name||/ /.test(e.name)?e.error="Invalid name":i&&e.name.startsWith("FF_")?e.error="Reserved name":t[e.name]>1&&(e.error="Duplicate name")})),this.originalEnvVars=JSON.parse(JSON.stringify(this.editable?.settings?.env||[]))},updateLookup(){this.envVarLookup={},this.editable?.settings?.env&&this.editable.settings.env.forEach(((e,t)=>{this.envVarLookup[e.name]=t}))},addVarHandler(){this.addEnv("NEW","",!1,!0)},addEnv(e,t,a=!1,i=!1){const n={index:"add-"+this.addedCount++,name:e||"",value:t||"",encrypted:a,policy:!this.editTemplate&&void 0};this.envVarLookup[n.name]=this.editable.settings.env.length,this.editable.settings.env.push(n),i&&this.$nextTick((()=>{const e=this.$el.querySelector("tr:last-child input");e&&(e.focus(),e.select())}))},updateEnv(e,t,a,i=!1){const n=this.envVarLookup[e],s=this.editable.settings.env[n];s&&(delete this.envVarLookup[e],s.name=t,s.value=a,s.encrypted=i,this.envVarLookup[t]=n)},removeEnv(e){const t=this.editable.settings.env[e];delete this.envVarLookup[t.name],this.editable.settings.env.splice(e,1)},importEnv(){this.updateLookup();const e=this.$refs.fileUpload;e.onchange=()=>{const t=e.files[0],a=new FileReader;a.onload=()=>{try{const e=function(e){const t={},a=e.split("\n");for(const e of a){const a=e.match(/^([^=:#]+?)[=:](.*)/);if(a){const e=a[1].trim();let i;const n=a[2].trim().match(/^(['"]?)(.+)\1$/);i=n?n[2]:a[2].trim(),t[e]=i}}return t}(a.result);Object.keys(e).forEach((t=>{if(!t.startsWith("FF_"))if(void 0!==this.envVarLookup[t]){const a=this.editable.settings.env[this.envVarLookup[t]];if(!1===a.policy||!0===a.platform)return;this.updateEnv(a.name,t,e[t])}else this.addEnv(t,e[t],!1)}))}catch(e){Ee.Z.emit("Failed to import .env file")}},a.readAsText(t),e.value=""},e.click()}}},lm=(0,f.Z)(rm,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ChangeIndicator"),c=(0,n.up)("FormHeading"),d=(0,n.up)("DocumentDownloadIcon"),p=(0,n.up)("ff-button"),u=(0,n.up)("PlusSmIcon"),m=(0,n.up)("ff-data-table-row"),h=(0,n.up)("FormRow"),g=(0,n.up)("LockClosedIcon"),f=(0,n.up)("TrashIcon"),v=(0,n.up)("ExclamationIcon"),y=(0,n.up)("LockSetting"),k=(0,n.up)("ff-data-table"),b=(0,n.Q2)("ff-tooltip");return(0,n.wg)(),(0,n.iD)("form",{class:"space-y-4",onSubmit:t[1]||(t[1]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",Nu,[Ru,(0,n._)("div",Lu,[(0,n.Wm)(r,{value:o.editable.changed.env},null,8,["value"])])])])),_:1}),(0,n._)("div",qu,[(0,n.kq)(" NOTE:  `:columns:[,,,]` is necessary to instruct the empty row to apply a col-span of 4 "),(0,n.Wm)(k,{search:s.search,"onUpdate:search":t[0]||(t[0]=e=>s.search=e),class:"w-full max-w-5xl text-sm","show-search":!0,"search-placeholder":"Search environment variables...",columns:[,,,],noDataMessage:o.noDataMessage},{actions:(0,n.w5)((()=>[(0,n._)("input",Hu,null,512),(0,n.Wm)(p,{kind:"secondary",onClick:o.importEnv},{icon:(0,n.w5)((()=>[(0,n.Wm)(d)])),default:(0,n.w5)((()=>[Ou])),_:1},8,["onClick"]),(0,n.Wm)(p,{kind:"primary",accesskey:"a",onClick:o.addVarHandler},{icon:(0,n.w5)((()=>[(0,n.Wm)(u)])),default:(0,n.w5)((()=>[Gu])),_:1},8,["onClick"])])),header:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"font-medium"},{default:(0,n.w5)((()=>[Yu,zu,Ku,a.editTemplate?((0,n.wg)(),(0,n.iD)("td",Xu)):(0,n.kq)("v-if",!0)])),_:1})])),rows:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.filteredRows,((e,t)=>((0,n.wg)(),(0,n.j4)(m,{key:e.index},{default:(0,n.w5)((()=>[(0,n._)("td",$u,[(0,n.Wm)(h,{modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,class:"font-mono",containerClass:"w-full",inputClass:e.deprecated?"w-full text-yellow-700 italic":"w-full",error:e.error,disabled:e.encrypted,"value-empty-text":"",type:a.readOnly||!a.editTemplate&&void 0!==e.policy?"uneditable":"text"},null,8,["modelValue","onUpdate:modelValue","inputClass","error","disabled","type"])]),(0,n._)("td",{class:(0,l.normalizeClass)(["ff-data-table--cell !p-1 border w-3/5 align-top",{"align-middle":e.encrypted}])},[e.encrypted?((0,n.wg)(),(0,n.iD)("div",Ju,[(0,n.Wm)(g,{class:"inline w-4"}),(0,n.Uk)(" encrypted")])):((0,n.wg)(),(0,n.iD)("div",Qu,[(0,n.Wm)(h,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"font-mono",containerClass:"w-full",inputClass:e.deprecated?"text-yellow-700 italic":"","value-empty-text":"",type:a.readOnly||!a.editTemplate&&void 0!==e.policy&&!e.policy?"uneditable":"text"},null,8,["modelValue","onUpdate:modelValue","inputClass","type"])]))],2),(0,n._)("td",em,[a.readOnly||!a.editTemplate&&void 0!==e.policy?!0===e.deprecated?(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",am,[(0,n.Wm)(v,{class:"inline text-yellow-700 w-4"})])),[[b,"This setting has been deprecated","left"]]):!0===e.platform?((0,n.wg)(),(0,n.iD)("div",im,[(0,n.Wm)(g,{class:"inline w-4"})])):(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("div",tm,[(0,n.Wm)(p,{kind:"tertiary",size:"small",onClick:e=>o.removeEnv(t)},{icon:(0,n.w5)((()=>[(0,n.Wm)(f)])),_:2},1032,["onClick"])]))]),!a.readOnly&&a.editTemplate?((0,n.wg)(),(0,n.iD)("td",nm,[(0,n.Wm)(y,{modelValue:e.policy,"onUpdate:modelValue":t=>e.policy=t,editTemplate:a.editTemplate},null,8,["modelValue","onUpdate:modelValue","editTemplate"])])):(0,n.kq)("v-if",!0)])),_:2},1024)))),128))])),_:1},8,["search","noDataMessage"])])],32)}]]);const cm={class:"flex flex-col sm:flex-row sm:ml-4"},dm={class:"space-y-4 w-full max-w-md sm:mr-8"},pm={class:"flex flex-col sm:flex-row sm:ml-4"},um={class:"space-y-4 w-full max-w-md sm:mr-8"},mm={class:"flex flex-col sm:flex-row sm:ml-4"},hm={class:"space-y-4 w-full max-w-md sm:mr-8"};var gm={name:"TemplateSettingsSecurity",props:["editTemplate","modelValue"],computed:{editable:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},authOptions1(){return[{label:"None",value:"none",disabled:!this.editTemplate&&!this.editable.policy.httpNodeAuth_type,description:"Anyone is able to access the http routes of the application instance"},{label:"Basic Authentication",value:"basic",disabled:!this.editTemplate&&!this.editable.policy.httpNodeAuth_type,description:"Require a username/password to be provided"}]},authOptions2(){return[{label:"FlowForge User Authentication",value:"flowforge-user",disabled:!this.editTemplate&&!this.editable.policy.httpNodeAuth_type,description:"Only members of the application instance's team will be able to access the routes"}]}},components:{FormRow:Ae.Z,FormHeading:Pe.Z,LockSetting:Kd,ChangeIndicator:Od}},fm=(0,f.Z)(gm,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormHeading"),l=(0,n.up)("FormRow"),c=(0,n.up)("LockSetting"),d=(0,n.up)("ff-radio-group"),p=(0,n.up)("ChangeIndicator");return(0,n.wg)(),(0,n.iD)("form",{class:"space-y-4",onSubmit:t[7]||(t[7]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)("HTTP Node Security")])),_:1}),(0,n._)("div",cm,[(0,n._)("div",dm,[(0,n.Wm)(l,null,{description:(0,n.w5)((()=>[(0,n.Uk)("Select the type of security to apply to all http routes served by the Node-RED flows. This includes all HTTP In nodes and Node-RED Dashboard.")])),input:(0,n.w5)((()=>[(0,n.Uk)(" ")])),_:1})]),(0,n.Wm)(c,{class:"flex justify-end flex-col",editTemplate:a.editTemplate,modelValue:o.editable.policy.httpNodeAuth_type,"onUpdate:modelValue":t[0]||(t[0]=e=>o.editable.policy.httpNodeAuth_type=e),changed:o.editable.changed.policy.httpNodeAuth_type},null,8,["editTemplate","modelValue","changed"])]),(0,n.Wm)(d,{modelValue:o.editable.settings.httpNodeAuth_type,"onUpdate:modelValue":t[1]||(t[1]=e=>o.editable.settings.httpNodeAuth_type=e),orientation:"vertical",options:o.authOptions1},null,8,["modelValue","options"]),(0,n._)("div",pm,[(0,n._)("div",um,[(0,n.Wm)(l,{modelValue:o.editable.settings.httpNodeAuth_user,"onUpdate:modelValue":t[2]||(t[2]=e=>o.editable.settings.httpNodeAuth_user=e),disabled:"basic"!==o.editable.settings.httpNodeAuth_type||!a.editTemplate&&!o.editable.policy.httpNodeAuth_user,type:a.editTemplate||o.editable.policy.httpNodeAuth_user?"text":"uneditable"},{append:(0,n.w5)((()=>[(0,n.Wm)(p,{value:o.editable.changed.settings.httpNodeAuth_user},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" HTTP Auth Username ")])),_:1},8,["modelValue","disabled","type"])]),(0,n.Wm)(c,{class:"flex justify-end flex-col",editTemplate:a.editTemplate,modelValue:o.editable.policy.httpNodeAuth_user,"onUpdate:modelValue":t[3]||(t[3]=e=>o.editable.policy.httpNodeAuth_user=e),changed:o.editable.changed.policy.httpNodeAuth_user},null,8,["editTemplate","modelValue","changed"])]),(0,n._)("div",mm,[(0,n._)("div",hm,[(0,n.Wm)(l,{modelValue:o.editable.settings.httpNodeAuth_pass,"onUpdate:modelValue":t[4]||(t[4]=e=>o.editable.settings.httpNodeAuth_pass=e),disabled:"basic"!==o.editable.settings.httpNodeAuth_type||!a.editTemplate&&!o.editable.policy.httpNodeAuth_pass,type:a.editTemplate||o.editable.policy.httpNodeAuth_pass?"password":"uneditable"},{append:(0,n.w5)((()=>[(0,n.Wm)(p,{value:o.editable.changed.settings.httpNodeAuth_pass},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" HTTP Auth Password ")])),_:1},8,["modelValue","disabled","type"])]),(0,n.Wm)(c,{class:"flex justify-end flex-col",editTemplate:a.editTemplate,modelValue:o.editable.policy.httpNodeAuth_pass,"onUpdate:modelValue":t[5]||(t[5]=e=>o.editable.policy.httpNodeAuth_pass=e),changed:o.editable.changed.policy.httpNodeAuth_pass},null,8,["editTemplate","modelValue","changed"])]),(0,n.Wm)(d,{modelValue:o.editable.settings.httpNodeAuth_type,"onUpdate:modelValue":t[6]||(t[6]=e=>o.editable.settings.httpNodeAuth_type=e),orientation:"vertical",options:o.authOptions2},null,8,["modelValue","options"])],32)}]]);const vm={class:"space-y-6"},ym={key:2};var km={name:"AdminTemplates",data(){return{templates:[],loading:!1,nextCursor:null,columns:[{label:"Active",key:"active",class:["w-16","text-center"],sortable:!0},{label:"Template",key:"name",class:["w-56"],sortable:!0},{label:"Description",key:"description",class:["w-72"],sortable:!0},{label:"Created by",key:"owner_username",class:["w-56"],sortable:!0,component:{is:(0,et.Xl)(ut),map:{id:"owner_id",name:"owner_username",avatar:"owner_avatar"}}},{label:"Instance Count",key:"instanceCount",class:["w-32"],sortable:!0}]}},async created(){await this.loadItems()},computed:{...(0,o.rn)("account",["settings"])},methods:{loadItems:async function(){this.loading=!0;const e=await Au(this.nextCursor,30);this.nextCursor=e.meta.next_cursor,e.templates.forEach((e=>{e.owner_avatar=e.owner.avatar,e.owner_id=e.owner.id,e.owner_username=e.owner.username,this.templates.push(e)})),this.loading=!1},editTemplate(e){this.$router.push({name:"Admin Template",params:{id:e.id}})},showDeleteDialog(e){const t=e.instanceCount>0?"You cannot delete a template that is still being used by instances.":"Are you sure you want to delete this template?";Xe.Z.show({header:"Delete Template",kind:"danger",text:t,confirmLabel:"Delete",disablePrimary:e.instanceCount>0},(async()=>{await(async e=>await ba.Z.delete(`/api/v1/templates/${e}`))(e.id);const t=this.templates.indexOf(e);this.templates.splice(t,1)}))}},components:{SectionTopMenu:Wa,PlusSmIcon:Ct.Z}},bm=(0,f.Z)(km,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("PlusSmIcon"),l=(0,n.up)("ff-button"),c=(0,n.up)("SectionTopMenu"),d=(0,n.up)("ff-loading"),p=(0,n.up)("ff-list-item"),u=(0,n.up)("ff-data-table");return(0,n.wg)(),(0,n.iD)("div",vm,[(0,n.Wm)(c,{hero:"Templates"},{tools:(0,n.w5)((()=>[(0,n.Wm)(l,{to:{name:"Admin Template",params:{id:"create"}}},{"icon-right":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Create template ")])),_:1})])),_:1}),s.loading?((0,n.wg)(),(0,n.j4)(d,{key:0,message:"Loading Templates..."})):(0,n.kq)("v-if",!0),s.loading?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.j4)(u,{key:1,columns:s.columns,"data-el":"templates",rows:s.templates,"show-search":!0,"search-placeholder":"Search Templates...","search-fields":["name","description","owner_username","owner_id"],"rows-selectable":!0,onRowSelected:o.editTemplate},{"context-menu":(0,n.w5)((({row:e})=>[(0,n.Wm)(p,{label:"Edit Template",onClick:(0,Oe.withModifiers)((t=>o.editTemplate(e)),["stop"])},null,8,["onClick"]),(0,n.Wm)(p,{label:"Delete Template",kind:"danger",onClick:(0,Oe.withModifiers)((t=>o.showDeleteDialog(e)),["stop"])},null,8,["onClick"])])),_:1},8,["columns","rows","onRowSelected"])),s.nextCursor?((0,n.wg)(),(0,n.iD)("div",ym,[s.loading?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("a",{key:0,onClick:t[0]||(t[0]=(0,Oe.withModifiers)(((...e)=>o.loadItems&&o.loadItems(...e)),["stop"])),class:"forge-button-inline"},"Load more..."))])):(0,n.kq)("v-if",!0)])}]]);const wm={class:"space-y-6"};var xm=a(5749);const Am=(0,n._)("div",null,"SSO is enabled for this user.",-1),Dm={class:"flex justify-between items-center"},Sm={class:"flex justify-between items-center"};var Tm={name:"AdminUserEditDialog",components:{FormRow:Ae.Z,FormHeading:Pe.Z,LockClosedIcon:ri.Z},data(){return{input:{},errors:{},user:null,adminLocked:!0,email_verifiedLocked:!1,deleteLocked:!0,expirePassLocked:!0,user_suspendedLocked:!0}},watch:{"input.username":function(e){e&&!/^[a-z0-9-_]+$/i.test(e)?this.errors.username="Must only contain a-z 0-9 - _":this.errors.username=""},"input.email":function(e){e&&!/.+@.+/.test(e)?this.errors.email="Enter a valid email address":this.errors.email=""}},computed:{disableSave(){const{isChanged:e,isValid:t}=this.getChanges();return!t||!e}},methods:{unlockEmailVerify(){this.email_verifiedLocked=!1},unlockAdmin(){this.adminLocked=!1},unlockDelete(){this.deleteLocked=!1},unlockExpirePassword(){this.expirePassLocked=!1},unlockSuspended(){this.user_suspendedLocked=!1},getChanges(){const e={},t=this.input.email&&!this.errors.email&&this.input.username&&!this.errors.username;return this.user&&(this.input.username!==this.user.username&&(e.username=this.input.username),this.input.name!==this.user.name&&(e.name=this.input.name),this.input.email!==this.user.email&&(e.email=this.input.email),this.input.admin!==this.user.admin&&(e.admin=this.input.admin),this.input.email_verified!==this.user.email_verified&&(e.email_verified=this.input.email_verified),this.input.user_suspended!==this.user.suspended&&(e.suspended=this.input.user_suspended)),{isValid:t,isChanged:Object.keys(e).length>0,changes:e}},confirm(){const{isValid:e,isChanged:t,changes:a}=this.getChanges();e&&t?Da(this.user.id,a).then((e=>{this.$emit("user-updated",e),this.$refs.dialog.close()})).catch((e=>{if(console.error(e.response.data),e.response.data){let t=!0;if(/username/.test(e.response.data.error)&&(this.errors.username="Username unavailable",t=!1),/password/.test(e.response.data.error)&&(this.errors.password="Invalid username",t=!1),/admin/i.test(e.response.data.error)&&(this.errors.admin=e.response.data.error,t=!1),"email must be unique"===e.response.data.error&&(this.errors.email="Email already registered",t=!1),t){const t=[];e.response.data.error?(t.push(e.response.data.error),e.response.data.message&&t.push(e.response.data.message)):t.push(e.message||"Unknown error");const a=t.join(" : ");Ee.Z.emit(a,"warning",7500)}}})):this.$refs.dialog.close()},deleteUser(){(async e=>ba.Z.delete(`/api/v1/users/${e}`).then((e=>e.data)))(this.user.id).then((e=>{this.$refs.dialog.close(),this.$emit("user-deleted",this.user.id)})).catch((e=>{this.errors.deleteUser=e.response.data.error}))},expirePassword(){Da(this.user.id,{password_expired:!0}).then((e=>{this.$refs.dialog.close(),this.$emit("user-updated",e)})).catch((e=>{this.errors.expirePassword=e.response.data.error}))}},setup(){return{show(e){this.$refs.dialog.show(),this.user=e,this.input.username=e.username,this.input.name=e.name,this.input.email=e.email,this.input.admin=e.admin,this.input.email_verified=e.email_verified,this.email_verifiedLocked=!0,this.adminLocked=!0,this.deleteLocked=!0,this.expirePassLocked=!0,this.user_suspendedLocked=!0,this.input.user_suspended=e.suspended,this.errors={}}}}},Cm=(0,f.Z)(Tm,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),l=(0,n.up)("LockClosedIcon"),c=(0,n.up)("ff-button"),d=(0,n.up)("FormHeading"),p=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(p,{ref:"dialog",header:"Edit User","confirm-label":"Save",onConfirm:t[12]||(t[12]=e=>o.confirm()),closeOnConfirm:!1,"disable-primary":o.disableSave},{default:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-6",onSubmit:t[11]||(t[11]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n.Wm)(r,{modelValue:s.input.username,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.username=e),error:s.errors.username},{default:(0,n.w5)((()=>[(0,n.Uk)("Username")])),_:1},8,["modelValue","error"]),(0,n.Wm)(r,{modelValue:s.input.name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.name=e),placeholder:s.input.username},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),_:1},8,["modelValue","placeholder"]),(0,n.Wm)(r,{modelValue:s.input.email,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.email=e),error:s.errors.email,disabled:s.user.sso_enabled},(0,n.Nv)({default:(0,n.w5)((()=>[(0,n.Uk)(" Email ")])),_:2},[s.user.sso_enabled?{name:"description",fn:(0,n.w5)((()=>[Am])),key:"0"}:void 0]),1032,["modelValue","error","disabled"]),(0,n.Wm)(r,{id:"email_verified",wrapperClass:"flex justify-between items-center",disabled:s.email_verifiedLocked,modelValue:s.input.email_verified,"onUpdate:modelValue":t[4]||(t[4]=e=>s.input.email_verified=e),type:"checkbox"},{append:(0,n.w5)((()=>[s.email_verifiedLocked?((0,n.wg)(),(0,n.j4)(c,{key:0,kind:"danger",size:"small",onClick:t[3]||(t[3]=e=>o.unlockEmailVerify())},{icon:(0,n.w5)((()=>[(0,n.Wm)(l)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Unlock ")])),_:1})):(0,n.kq)("v-if",!0)])),default:(0,n.w5)((()=>[(0,n.Uk)("Verified ")])),_:1},8,["disabled","modelValue"]),(0,n.Wm)(r,{id:"admin",error:s.errors.admin,wrapperClass:"flex justify-between items-center",disabled:s.adminLocked,modelValue:s.input.admin,"onUpdate:modelValue":t[6]||(t[6]=e=>s.input.admin=e),type:"checkbox"},{append:(0,n.w5)((()=>[s.adminLocked?((0,n.wg)(),(0,n.j4)(c,{key:0,kind:"danger",size:"small",onClick:t[5]||(t[5]=e=>o.unlockAdmin())},{icon:(0,n.w5)((()=>[(0,n.Wm)(l)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Unlock ")])),_:1})):(0,n.kq)("v-if",!0)])),default:(0,n.w5)((()=>[(0,n.Uk)("Administrator ")])),_:1},8,["error","disabled","modelValue"]),(0,n.Wm)(r,{id:"user_suspended",wrapperClass:"flex justify-between items-center",disabled:s.user_suspendedLocked,modelValue:s.input.user_suspended,"onUpdate:modelValue":t[8]||(t[8]=e=>s.input.user_suspended=e),type:"checkbox"},{append:(0,n.w5)((()=>[s.user_suspendedLocked?((0,n.wg)(),(0,n.j4)(c,{key:0,kind:"danger",size:"small",onClick:t[7]||(t[7]=e=>o.unlockSuspended())},{icon:(0,n.w5)((()=>[(0,n.Wm)(l)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Unlock ")])),_:1})):(0,n.kq)("v-if",!0)])),default:(0,n.w5)((()=>[(0,n.Uk)("Suspended ")])),_:1},8,["disabled","modelValue"]),(0,n.Wm)(d,{class:"text-red-700"},{default:(0,n.w5)((()=>[(0,n.Uk)("Danger Zone")])),_:1}),(0,n.Wm)(r,{error:s.errors.expirePassword,wrapperClass:"block"},{input:(0,n.w5)((()=>[(0,n._)("div",Dm,[(0,n.Wm)(c,{disabled:s.expirePassLocked,kind:s.expirePassLocked?"secondary":"danger",onClick:o.expirePassword},{default:(0,n.w5)((()=>[(0,n.Uk)("Expire password")])),_:1},8,["disabled","kind","onClick"]),s.expirePassLocked?((0,n.wg)(),(0,n.j4)(c,{key:0,kind:"danger",size:"small",onClick:t[9]||(t[9]=e=>o.unlockExpirePassword())},{icon:(0,n.w5)((()=>[(0,n.Wm)(l)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Unlock ")])),_:1})):(0,n.kq)("v-if",!0)])])),_:1},8,["error"]),(0,n.Wm)(r,{error:s.errors.deleteUser,wrapperClass:"block"},{input:(0,n.w5)((()=>[(0,n._)("div",Sm,[(0,n.Wm)(c,{disabled:s.deleteLocked,kind:s.deleteLocked?"secondary":"danger",onClick:o.deleteUser},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete user")])),_:1},8,["disabled","kind","onClick"]),s.deleteLocked?((0,n.wg)(),(0,n.j4)(c,{key:0,kind:"danger",size:"small",onClick:t[10]||(t[10]=e=>o.unlockDelete())},{icon:(0,n.w5)((()=>[(0,n.Wm)(l)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Unlock ")])),_:1})):(0,n.kq)("v-if",!0)])])),_:1},8,["error"])],32)])),_:1},8,["disable-primary"])}]]),Em={name:"AdminUsers",data(){return{users:[],userSearch:"",loading:!1,nextCursor:null,columns:[{label:"User",class:["flex-grow"],key:"name",component:{is:(0,et.Xl)(ut)},sortable:!0},{label:"Password Expired",class:["w-56","text-center"],key:"password_expired",sortable:!0},{label:"Email Verified",class:["w-56","text-center"],key:"email_verified",sortable:!0},{label:"Admin",class:["w-32","text-center"],key:"admin",sortable:!0},{label:"Suspended",class:["w-32","text-center"],key:"suspended",sortable:!0}]}},async created(){await this.loadItems(!0),this.features.sso&&this.columns.push({label:"SSO Enabled",class:["w-32","text-center"],key:"sso_enabled",sortable:!0})},computed:{...(0,o.rn)("account",["features"])},watch:{userSearch(e){this.pendingSearch&&clearTimeout(this.pendingSearch),e?(this.loading=!0,this.pendingSearch=setTimeout((()=>{this.loadItems(!0)}),300)):this.loadItems(!0)}},methods:{showEditUserDialog(e){this.$refs.adminUserEditDialog.show(e)},userUpdated(e){e.onedit=t=>{this.showEditUserDialog(e)};for(let t=0;t<this.users.length;t++)if(this.users[t].id===e.id){this.users[t]=e;break}},userDeleted(e){const t=this.users.findIndex((t=>t.id===e));t>-1&&this.users.splice(t,1)},loadItems:async function(e){e&&(this.loading=!0,this.nextCursor=null);const t=await Aa(this.nextCursor,30,this.userSearch);e&&(this.users=[]),this.nextCursor=t.meta.next_cursor,t.users.forEach((e=>{e.onedit=t=>{this.showEditUserDialog(e)},this.users.push(e)})),this.loading=!1},showUser(e){this.$router.push({name:"Admin User Details",params:{id:e.id}})}},components:{UserAddIcon:xm.Z,AdminUserEditDialog:Cm}},Im=(0,f.Z)(Em,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("UserAddIcon"),l=(0,n.up)("ff-button"),c=(0,n.up)("ff-list-item"),d=(0,n.up)("ff-data-table"),p=(0,n.up)("AdminUserEditDialog");return(0,n.wg)(),(0,n.iD)("div",wm,[(0,n.Wm)(d,{columns:s.columns,rows:s.users,"show-search":!0,search:s.userSearch,"onUpdate:search":t[0]||(t[0]=e=>s.userSearch=e),"search-placeholder":"Search Users...","show-load-more":!!s.nextCursor,loading:s.loading,"loading-message":"Loading Users",onLoadMore:o.loadItems,"no-data-message":"No Users Found","rows-selectable":!0,onRowSelected:o.showUser},{actions:(0,n.w5)((()=>[(0,n.Wm)(l,{to:"./create"},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Create New User ")])),_:1})])),"context-menu":(0,n.w5)((({row:e})=>[(0,n.Wm)(c,{label:"Edit User",onClick:(0,Oe.withModifiers)((t=>o.showEditUserDialog(e)),["stop"])},null,8,["onClick"])])),_:1},8,["columns","rows","search","show-load-more","loading","onLoadMore","onRowSelected"]),(0,n.Wm)(p,{onUserUpdated:o.userUpdated,onUserDeleted:o.userDeleted,ref:"adminUserEditDialog"},null,8,["onUserUpdated","onUserDeleted"])])}]]);const _m={class:"space-y-6"},Um=(0,n._)("div",{class:"text-right"},null,-1);var Vm={name:"UserInviteTable",data(){return{invitations:[],inviteColumns:[{label:"User",key:"invitee",component:{is:(0,et.Xl)(ht),map:{user:"invitee"}}},{label:"Team",key:"teamName"},{label:"Invited By",key:"invitor",component:{is:(0,et.Xl)(ht),map:{user:"invitor"}}},{label:"Expires In",key:"expires"}]}},mounted(){this.fetchData()},methods:{async removeInvite(e){await Dt.Z.removeTeamInvitation(e.team.id,e.id),await this.fetchData()},async fetchData(){const e=await(async e=>ba.Z.get("/api/v1/admin/invitations",e).then((e=>(e.data.invitations=e.data.invitations.map((e=>(e.createdSince=(0,va.Z)(e.createdAt),e.expires=(0,ya.Z)(e.expiresAt,Date.now()),e))),e.data))))();e.invitations.length>0&&(this.invitations=e.invitations.map((e=>(e.teamName=e.team.name,e.onremove=(e,t)=>{this.removeInvite(e,t)},e))))}}},jm=(0,f.Z)(Vm,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-list-item"),l=(0,n.up)("ff-data-table");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",_m,[Um,(0,n.Wm)(l,{columns:s.inviteColumns,rows:s.invitations,"show-search":!0,"search-placeholder":"Search Invites..."},{"context-menu":(0,n.w5)((({row:e})=>[(0,n.Wm)(r,{label:"Remove Invite",kind:"danger",onClick:t=>o.removeInvite(e)},null,8,["onClick"])])),_:1},8,["columns","rows"])])])}]]);const Pm={class:"flex flex-col sm:flex-row mb-8"},Zm={class:"flex-grow"},Mm={class:"text-gray-800 text-xl"},Bm={class:"flex items-center mb-4"},Fm={class:"mr-3"},Wm=["src"],Nm={class:"flex flex-col"},Rm={class:"text-xl font-bold"},Lm={class:"text-l text-gray-400"},qm={class:"ml-3 space-x-1"},Hm={key:0,class:"forge-badge forge-status-running"},Om={key:1,class:"forge-badge forge-status-error"},Gm={class:"mb-4"},Ym={class:"table-fixed w-full mb-2"},zm={class:"border-b"},Km=(0,n._)("td",{class:"w-1/4 font-medium py-2"},"Email",-1),Xm={class:"flex"},$m={class:"ml-3 space-x-1"},Qm={key:0,class:"forge-badge forge-status-safe"},Jm={key:1,class:"forge-badge forge-status-running"},eh={key:2,class:"forge-badge forge-status-error"},th={class:"border-b"},ah=(0,n._)("td",{class:"w-1/4 font-medium py-2"},"Registered At",-1),ih={class:"py-1"};var nh=a(1391),sh={name:"UserRoleCell",props:["role"],methods:{formatRole:e=>nh.RoleNames[e]||"unknown"}},oh=(0,f.Z)(sh,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)("div",null,(0,l.toDisplayString)(o.formatRole(a.role)),1)}]]),rh={name:"AdminUserDetails",data(){return{user:null,teams:null,loadingTeams:!1,loading:!1,columns:[{label:"Name",class:["w-full"],component:{is:(0,et.Xl)(bt)},sortable:!0},{label:"Role",component:{is:(0,et.Xl)(oh)},sortable:!0},{label:"Type",key:"type",component:{is:(0,et.Xl)(Id)},sortable:!0},{label:"Members",class:["w-54","text-center"],key:"memberCount",sortable:!0},{label:"Application Instances",class:["w-54","text-center"],key:"instanceCount",sortable:!0}]}},async created(){return this.loadUser()},computed:{...(0,o.rn)("account",["features"])},watch:{},methods:{async loadUser(){this.loading=!0,this.loadingTeams=!0;try{this.user=await(async e=>ba.Z.get(`/api/v1/users/${e}`).then((e=>e.data)))(this.$route.params.id),this.loading=!1,(async(e,t,a,i)=>{const n=(0,ka.Z)(`/api/v1/users/${e}/teams`,t,a,i);return ba.Z.get(n).then((e=>(e.data.teams=e.data.teams.map((e=>(e.link={name:"Team",params:{team_slug:e.slug}},e))),e.data)))})(this.$route.params.id).then((e=>{this.teams=e.teams})).finally((()=>{this.loadingTeams=!1}))}catch(e){this.$router.push({name:"PageNotFound",params:{pathMatch:this.$router.currentRoute.value.path.substring(1).split("/")},query:this.$router.currentRoute.value.query,hash:this.$router.currentRoute.value.hash})}},showEditUserDialog(e){this.$refs.adminUserEditDialog.show(this.user)},userUpdated(e){this.loadUser()},userDeleted(e){this.$router.push({path:"/admin/users"})}},components:{AdminUserEditDialog:Cm,FormHeading:Pe.Z,ChevronRightIcon:Lo.Z}},lh=(0,f.Z)(rh,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("router-link"),c=(0,n.up)("ChevronRightIcon"),d=(0,n.up)("ff-button"),p=(0,n.up)("FormHeading"),u=(0,n.up)("ff-data-table"),m=(0,n.up)("AdminUserEditDialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Pm,[(0,n._)("div",Zm,[(0,n._)("div",Mm,[(0,n.Wm)(r,{class:"ff-link font-bold",to:{path:"/admin/users"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Users")])),_:1}),(0,n.kq)(' <nav-item :icon="icons.breadcrumbSeparator" label="sss"></nav-item> '),(0,n.Wm)(c,{class:"ff-icon"}),(0,n._)("span",null,(0,l.toDisplayString)(s.user.username),1)])]),(0,n._)("div",null,[(0,n.Wm)(d,{onClick:t[0]||(t[0]=e=>o.showEditUserDialog()),"data-action":"editUser"},{default:(0,n.w5)((()=>[(0,n.Uk)("Edit")])),_:1})])]),(0,n._)("div",null,[(0,n._)("div",Bm,[(0,n._)("div",Fm,[(0,n._)("img",{src:s.user.avatar,class:"h-14 v-14 rounded-md"},null,8,Wm)]),(0,n._)("div",Nm,[(0,n._)("div",Rm,(0,l.toDisplayString)(s.user.name),1),(0,n._)("div",Lm,(0,l.toDisplayString)(s.user.username),1)]),(0,n._)("div",qm,[s.user.admin?((0,n.wg)(),(0,n.iD)("span",Hm,"admin")):(0,n.kq)("v-if",!0),s.user.suspended?((0,n.wg)(),(0,n.iD)("span",Om,"suspended")):(0,n.kq)("v-if",!0)])]),(0,n._)("div",Gm,[(0,n._)("table",Ym,[(0,n._)("tr",zm,[Km,(0,n._)("td",Xm,[(0,n.Uk)((0,l.toDisplayString)(s.user.email)+" ",1),(0,n._)("div",$m,[s.user.sso_enabled?((0,n.wg)(),(0,n.iD)("span",Qm,"sso-enabled")):s.user.email_verified?((0,n.wg)(),(0,n.iD)("span",Jm,"verified")):((0,n.wg)(),(0,n.iD)("span",eh,"unverified"))])])]),(0,n._)("tr",th,[ah,(0,n._)("td",ih,(0,l.toDisplayString)(s.user.createdAt),1)])])]),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Teams")])),_:1}),(0,n.Wm)(u,{columns:s.columns,rows:s.teams,"rows-selectable":!0,loading:s.loadingTeams,"loading-message":"Loading Teams","no-data-message":"No Teams Found","data-el":"teams-table"},null,8,["columns","rows","loading"])]),(0,n.Wm)(m,{onUserUpdated:o.userUpdated,onUserDeleted:o.userDeleted,ref:"adminUserEditDialog"},null,8,["onUserUpdated","onUserDeleted"])],64)}]]);const ch={class:"max-w-2xl m-auto"},dh={class:"space-y-6"};var ph={name:"AdminCreateUser",data(){return{mounted:!1,icons:{chevronLeft:sa.Z},teams:[],input:{name:"",username:"",email:"",password:"",password_confirm:"",isAdmin:!1,createDefaultTeam:!1},errors:{}}},computed:{...(0,o.rn)("account",["settings"]),formValid(){return this.input.email&&this.input.username&&!this.errors.username&&this.input.password===this.input.password_confirm&&!this.errors.name}},mounted(){this.mounted=!0},watch:{"input.username":function(e){e&&!/^[a-z0-9-_]+$/i.test(e)?this.errors.username="Must only contain a-z 0-9 - _":this.errors.username=""},"input.email":function(e){e&&!/.+@.+/.test(e)?this.errors.email="Enter a valid email address":this.errors.email=""},"input.password":function(e){this.errors.password&&e.length>=8&&(this.errors.password="")},"input.name":function(e){e&&/:\/\//i.test(e)?this.errors.name="Names can not be URLs":this.errors.name=""}},methods:{checkPassword(){this.input.password&&this.input.password.length<8?this.errors.password="Password must be at least 8 characters":this.errors.password=""},createUser(){const e={...this.input,name:this.input.name||this.input.username};delete e.password_confirm,(async e=>ba.Z.post("/api/v1/users",e).then((e=>e.data)))(e).then((e=>{this.$router.push({path:"/admin/users"})})).catch((e=>{console.error(e.response.data),e.response.data&&(/username/.test(e.response.data.error)&&(this.errors.username="Username unavailable"),/password/.test(e.response.data.error)&&(this.errors.password="Invalid username"),/email/.test(e.response.data.error)&&(this.errors.email="Email unavailable"))}))}},components:{FormRow:Ae.Z,FormHeading:Pe.Z,SideNavigation:pa,NavItem:oa.Z}},uh=(0,f.Z)(ph,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("nav-item"),l=(0,n.up)("router-link"),c=(0,n.up)("SideNavigation"),d=(0,n.up)("FormHeading"),p=(0,n.up)("FormRow"),u=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-sidenav"},[(0,n.Wm)(c,null,{back:(0,n.w5)((()=>[(0,n.Wm)(l,{to:{name:"AdminUsersGeneral"}},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:s.icons.chevronLeft,label:"Back to Users"},null,8,["icon"])])),_:1})])),_:1})])):(0,n.kq)("v-if",!0),(0,n._)("main",null,[(0,n._)("div",ch,[(0,n._)("form",dh,[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Create a new user")])),_:1}),(0,n.Wm)(p,{modelValue:s.input.username,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.username=e),error:s.errors.username},{default:(0,n.w5)((()=>[(0,n.Uk)("Username")])),_:1},8,["modelValue","error"]),(0,n.Wm)(p,{modelValue:s.input.name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.name=e),placeholder:s.input.username,error:s.errors.name},{default:(0,n.w5)((()=>[(0,n.Uk)("Full Name")])),_:1},8,["modelValue","placeholder","error"]),(0,n.Wm)(p,{modelValue:s.input.email,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.email=e),error:s.errors.email},{default:(0,n.w5)((()=>[(0,n.Uk)("Email")])),_:1},8,["modelValue","error"]),(0,n.Wm)(p,{type:"password",error:s.errors.password,modelValue:s.input.password,"onUpdate:modelValue":t[3]||(t[3]=e=>s.input.password=e),id:"password",onBlur:o.checkPassword},{default:(0,n.w5)((()=>[(0,n.Uk)("Password")])),_:1},8,["error","modelValue","onBlur"]),(0,n.Wm)(p,{type:"password",error:s.errors.password_confirm,modelValue:s.input.password_confirm,"onUpdate:modelValue":t[4]||(t[4]=e=>s.input.password_confirm=e),id:"password_confirm"},{default:(0,n.w5)((()=>[(0,n.Uk)("Confirm Password")])),_:1},8,["error","modelValue"]),(0,n.Wm)(p,{id:"isAdmin",modelValue:s.input.isAdmin,"onUpdate:modelValue":t[5]||(t[5]=e=>s.input.isAdmin=e),type:"checkbox"},{default:(0,n.w5)((()=>[(0,n.Uk)("Administrator")])),_:1},8,["modelValue"]),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Team options")])),_:1}),(0,n.Wm)(p,{id:"createDefaultTeam",modelValue:s.input.createDefaultTeam,"onUpdate:modelValue":t[6]||(t[6]=e=>s.input.createDefaultTeam=e),type:"checkbox"},{description:(0,n.w5)((()=>[(0,n.Uk)("A user needs to be in a team to create projects")])),default:(0,n.w5)((()=>[(0,n.Uk)("Create personal team ")])),_:1},8,["modelValue"]),(0,n.kq)(' <FormRow v-model="input.addToTeam">Add to existing team</FormRow> '),(0,n.Wm)(u,{disabled:!o.formValid,onClick:t[7]||(t[7]=e=>o.createUser())},{default:(0,n.w5)((()=>[(0,n.Uk)(" Create user ")])),_:1},8,["disabled"])])])])],64)}]]);const mh={class:"flex-grow"},hh=[{name:"Users",path:"./general"},{name:"Invitations",path:"./invitations"}];var gh={name:"AdminUsers",setup(){return{sideNavigation:hh}},components:{SectionTopMenu:Wa}},fh=(0,f.Z)(gh,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{hero:"Users",options:i.sideNavigation},null,8,["options"]),(0,n._)("div",mh,[(0,n.Wm)(l)])],64)}]]);const vh=(0,n._)("li",{class:"ff-navigation-divider"},"Admin Settings",-1),yh={class:""};var kh=a(8401),bh=a(9445),wh=a(866),xh=a(8731),Ah=a(1685);const Dh=[{name:"Overview",path:"/admin/overview",tag:"admin-overview",icon:kh.Z},{name:"Users",path:"/admin/users",tag:"admin-users",icon:bh.Z},{name:"Teams",path:"/admin/teams",tag:"admin-teams",icon:ia.Z},{name:"Team Types",path:"/admin/team-types",tag:"admin-teamtypes",icon:wh.Z},{name:"Instance Types",path:"/admin/instance-types",tag:"admin-instancetypes",icon:wh.Z},{name:"Stacks",path:"/admin/stacks",tag:"admin-stacks",icon:xh.Z},{name:"Templates",path:"/admin/templates",tag:"admin-templates",icon:j.Z},{name:"Activity",path:"/admin/audit-log",tag:"admin-auditlog",icon:Ah.Z},{name:"Settings",path:"/admin/settings",tag:"admin-settings",icon:aa.Z}];var Sh={name:"AdminPage",computed:{...(0,o.rn)("account",["user","team"])},data(){return{mounted:!1,icons:{chevronLeft:sa.Z}}},setup(){return{navigation:Dh}},mounted(){this.mounted=!0},components:{SideNavigation:pa,NavItem:oa.Z}},Th=a(5488),Ch={};Ch.styleTagTransform=or(),Ch.setAttributes=ar(),Ch.insert=er().bind(null,"head"),Ch.domAPI=Qo(),Ch.insertStyleElement=nr(),Xo()(Th.Z,Ch),Th.Z&&Th.Z.locals&&Th.Z.locals;var Eh=(0,f.Z)(Sh,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("nav-item"),l=(0,n.up)("router-link"),c=(0,n.up)("SideNavigation"),d=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-sidenav"},[(0,n.Wm)(c,null,(0,n.Nv)({options:(0,n.w5)((()=>[vh,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.navigation,(e=>((0,n.wg)(),(0,n.j4)(l,{key:e.label,to:e.path},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:e.icon,label:e.name,"data-nav":e.tag},null,8,["icon","label","data-nav"])])),_:2},1032,["to"])))),128))])),_:2},[e.team?{name:"back",fn:(0,n.w5)((()=>[(0,n.Wm)(l,{to:{name:"Team",params:{team_slug:e.team.slug}}},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:s.icons.chevronLeft,label:"Back to Dashboard","data-nav":"team-overview"},null,8,["icon"])])),_:1},8,["to"])])),key:"0"}:{name:"back",fn:(0,n.w5)((()=>[(0,n.Wm)(l,{to:{name:"CreateTeam"}},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:s.icons.chevronLeft,label:"Back to Create Team","data-nav":"create-team"},null,8,["icon"])])),_:1})])),key:"1"}]),1024)])):(0,n.kq)("v-if",!0),(0,n._)("main",null,[(0,n._)("div",yh,[(0,n.Wm)(d)])])],64)}]]),Ih=[{path:"/admin/users/create",beforeEnter:fa,name:"AdminCreateUser",component:uh,meta:{title:"Admin - Create User"}},{path:"/admin/settings/sso/:id",name:"AdminSettingsSSOEdit",beforeEnter:fa,component:jc,meta:{title:"Admin - Settings - SSO Configuration"}},{path:"/admin/",profileLink:!0,profileMenuIndex:50,adminOnly:!0,beforeEnter:fa,redirect:"/admin/overview",name:"Admin Settings",icon:ga.Z,component:Eh,meta:{title:"Admin - Overview"},children:[{path:"overview",component:gl},{path:"settings",component:Fc,meta:{title:"Admin - Settings"},redirect:"/admin/settings/general",children:[{path:"general",component:Gl},{path:"license",component:Ic},{path:"email",component:xl},{path:"sso",name:"AdminSettingsSSO",component:Zc}]},{path:"users",component:fh,meta:{title:"Admin - Users"},redirect:"/admin/users/general",children:[{path:"general",component:Im,name:"AdminUsersGeneral"},{path:"invitations",component:jm}]},{name:"Admin User Details",path:"users/:id",component:lh,meta:{title:"Admin - User"}},{path:"teams",component:Ud,meta:{title:"Admin - Teams"}},{path:"team-types",component:Dd,meta:{title:"Admin - Team Types"}},{path:"instance-types",component:jr,meta:{title:"Admin - Instance Types"}},{path:"stacks",component:td,meta:{title:"Admin - Stacks"}},{name:"Admin Templates",path:"templates",component:bm,meta:{title:"Admin - Templates"}},{name:"Admin Template",path:"templates/:id",redirect:e=>`/admin/templates/${e.params.id}/settings`,component:Wu,meta:{title:"Admin - Template"},children:[{path:"settings",component:hu},{path:"security",component:fm},{path:"environment",component:lm},{path:"palette",component:Lp}]},{path:"audit-log",component:hr,meta:{title:"Admin - Logs"}}]}];const _h={"data-el":"filter-event-types"};var Uh=a(1307),Vh=async e=>ba.Z.post("/api/v1/projects",e).then((t=>{const a={"created-at":t.data.createdAt,"instance-stack":t.data.stack.id,"instance-template":t.data.template.id};return Uh.Z.capture("$ff-instance-created",a,{team:t.data.team.id,application:e.applicationId,instance:t.data.id}),Uh.Z.groupUpdate("instance",t.data.id,a),t.data})),jh=e=>ba.Z.get(`/api/v1/projects/${e}`).then((e=>(e.data.createdSince=(0,va.Z)(e.data.createdAt),e.data.updatedSince=(0,va.Z)(e.data.updatedAt),e.data.flowLastUpdatedSince=(0,va.Z)(e.data.flowLastUpdatedAt),e.data))),Ph=async e=>ba.Z.delete(`/api/v1/projects/${e.id}`).then((t=>{const a=(new Date).toISOString();Uh.Z.capture("$ff-instance-deleted",{"deleted-at":a},{team:e.team?.id,application:e.application?.id,instance:e.id}),Uh.Z.groupUpdate("instance",e.id,{deleted:!0,"deleted-at":a})})),Zh=async(e,t,a,i)=>{const n=(0,ka.Z)(`/api/v1/projects/${e}/audit-log`,a,i);return ba.Z.get(n,{params:t}).then((e=>e.data))},Mh=async e=>ba.Z.post(`/api/v1/projects/${e.id}/actions/start`).then((t=>(Uh.Z.capture("$ff-instance-action:start",null,{team:e.team?.id,application:e.application?.id,instance:e.id}),t.data))),Bh=async e=>ba.Z.post(`/api/v1/projects/${e.id}/actions/restart`).then((t=>(Uh.Z.capture("$ff-instance-action:restart",null,{team:e.team?.id,application:e.application?.id,instance:e.id}),t.data))),Fh=async e=>ba.Z.post(`/api/v1/projects/${e.id}/actions/suspend`).then((t=>(Uh.Z.capture("$ff-instance-action:suspend",null,{team:e.team?.id,application:e.application?.id,instance:e.id}),t.data))),Wh=async(e,t)=>ba.Z.put(`/api/v1/projects/${e}`,t).then((e=>e.data)),Nh=async(e,t,a)=>{const i=(0,ka.Z)(`/api/v1/projects/${e}/devices`,t,a),n=await ba.Z.get(i);return n.data.devices.forEach((e=>{e.lastSeenSince=e.lastSeenAt?(0,va.Z)(e.lastSeenAt):"",e.project&&(e.instance=e.project)})),n.data},Rh=async(e,t)=>ba.Z.post(`/api/v1/projects/${e}/devices/settings`,t).then((e=>e.data)),Lh={name:"ProjectAuditLog",components:{SectionTopMenu:Wa,AuditLogBrowser:ur,FormHeading:Pe.Z},inheritAttrs:!1,props:{instances:{type:Object,required:!0}},data(){return{logEntries:[],users:[],auditFilters:{instance:null}}},computed:{...(0,o.rn)("account",["team"])},watch:{application(){this.$refs.AuditLog?.loadEntries()},team:"loadUsers",instances(){this.auditFilters.instance=this.instances[0]?.id}},created(){this.loadUsers()},methods:{async loadUsers(){this.users=(await Dt.Z.getTeamMembers(this.team.id)).members},async loadEntries(e=new URLSearchParams,t=void 0){const a=this.application?.id;if(a){const a=this.auditFilters.instance.id;this.logEntries=(await Zh(a,e,t,200)).log}}}};var qh=(0,f.Z)(Lh,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("FormHeading"),c=(0,n.up)("ff-dropdown-option"),d=(0,n.up)("ff-dropdown"),p=(0,n.up)("AuditLogBrowser");return(0,n.wg)(),(0,n.j4)(p,{ref:"AuditLog",users:s.users,logEntries:s.logEntries,logType:"project",onLoadEntries:o.loadEntries},{title:(0,n.w5)((()=>[(0,n.Wm)(r,{hero:"Audit Log",info:"Recorded events that have taken place in within this application."})])),extraFilters:(0,n.w5)((()=>[(0,n.Wm)(l,{class:"mt-4"},{default:(0,n.w5)((()=>[(0,n.Uk)("Application Instance:")])),_:1}),(0,n._)("div",_h,[(0,n.Wm)(d,{modelValue:s.auditFilters.instance,"onUpdate:modelValue":t[0]||(t[0]=e=>s.auditFilters.instance=e),class:"w-full"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.instances,(e=>((0,n.wg)(),(0,n.j4)(c,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])),_:1},8,["users","logEntries","onLoadEntries"])}]]);const Hh=(0,n._)("p",null,"This is a raw feed from the running instance of Node-RED on this domain.",-1),Oh=(0,n._)("p",null,"Use this to debug issues if your application will not start correctly.",-1),Gh={style:{display:"flex","align-items":"center"}},Yh=(0,n._)("div",{class:"mr-2"},[(0,n._)("strong",null,"Instance:")],-1),zh={key:1,class:"ff-no-data ff-no-data-large"},Kh={key:1,class:"ff-banner ff-banner-info my-2 rounded p-2 font-mono"},Xh=[(e=>((0,n.dD)("data-v-c27b14fa"),e=e(),(0,n.Cn)(),e))((()=>(0,n._)("span",null,[(0,n._)("span",null,"The Node-RED instance cannot be reached at this time. Please wait...")],-1)))],$h={key:2,class:"flex text-gray-500 justify-center italic mb-4 p-8"},Qh={key:0,class:"flex"},Jh={key:0,class:"w-14 flex-shrink-0"},eg={class:"w-40 flex-shrink-0"},tg={class:"w-20 flex-shrink-0 align-right"},ag={class:"flex-grow break-all whitespace-pre-wrap"},ig={data:function(){return this.$options.timers?(this.$options.timers=function(e,t){return Array.isArray(e)?e.reduce((function(e,a){return sg(a.name,og(a,t),e)}),{}):Object.keys(e).reduce((function(a,i){return sg(i,og(sg("name",i,e[i]),t),a)}),{})}(this.$options.timers,this),{timers:(e=this.$options.timers,Object.keys(e).reduce((function(t,a){return sg(a,{isRunning:!1,time:e[a].time||0,instance:null},t)}),{}))}):{};var e},created:function(){if(!this.$options.timers)return;const e=this,t=e.timers,a=e.$options.timers;e.$timer={start:function(i){t[i].isRunning||(t[i].isRunning=!0,t[i].instance=function(e,t){return(e.repeat?setInterval:setTimeout)((function(){t.$emit("timer-tick:"+e.name),e.callback()}),e.time)}(sg("time",t[i].time,a[i]),e),a[i].immediate&&(e.$emit("timer-tick:"+i),a[i].callback()),e.$emit("timer-start:"+i))},stop:function(i){t[i].isRunning&&((a[i].repeat?clearInterval:clearTimeout)(t[i].instance),t[i].isRunning=!1,e.$emit("timer-stop:"+i))},restart:function(t){this.stop(t),this.start(t),e.$emit("timer-restart:"+t)}}},mounted:function(){if(!this.$options.timers)return;const e=this,t=e.$options.timers;Object.keys(t).forEach((function(a){t[a].autostart&&e.$timer.start(a)}))},activated:function(){if(!this.$options.timers)return;const e=this,t=e.timers,a=e.$options.timers;Object.keys(a).forEach((function(i){a[i].isSwitchTab&&t[i].instance&&e.$timer.start(i)}))},deactivated:function(){if(!this.$options.timers)return;const e=this,t=e.timers,a=e.$options.timers;Object.keys(a).forEach((function(i){a[i].isSwitchTab&&t[i].instance&&e.$timer.stop(i)}))},beforeUnmount:function(){if(!this.$options.timers)return;const e=this;Object.keys(e.$options.timers).forEach((function(t){e.$timer.stop(t)}))}};var ng;function sg(e,t,a){const i=Object.assign({},a);return i[e]=t,i}function og(e,t){return{name:e.name,time:e.time||0,repeat:"repeat"in e&&e.repeat,immediate:"immediate"in e&&e.immediate,autostart:"autostart"in e&&e.autostart,isSwitchTab:"isSwitchTab"in e&&e.isSwitchTab,callback:e.callback&&e.callback.bind(t)||t[e.name]}}"undefined"!=typeof window&&window.Vue&&((ng=window.Vue).config.optionMergeStrategies.timers=ng.config.optionMergeStrategies.methods,ng.mixin(ig));var rg={name:"LogsShared",mixins:[ig],inheritAttrs:!1,props:{instance:{type:Object,required:!0},filter:{default:null,type:String,required:!1}},emits:["ha-instance-detected"],data(){return{doneInitialLoad:!1,loading:!0,logEntries:[],prevCursor:null,nextCursor:null,checkInterval:null,showOfflineBanner:!1}},computed:{filteredLogEntries:function(){return this.filter&&"all"!==this.filter?this.logEntries.filter((e=>e.src===this.filter)):this.logEntries}},timers:{pollTimer:{time:5e3,repeat:!0,autostart:!1}},watch:{instance:"fetchData"},async mounted(){this.instance.meta&&"suspended"!==this.instance.meta.state||(this.loading=!1),await this.fetchData(),this.$timer.start("pollTimer")},methods:{pollTimer:function(){this.instance.meta&&"suspended"!==this.instance.meta.state&&this.loadNext()},fetchData:async function(){this.instance.id&&(this.instance.meta&&"suspended"!==this.instance.meta.state?(await this.loadItems(this.instance.id),this.loading=!1):(this.logEntries=[],this.prevCursor=null))},loadPrevious:async function(){this.loadItems(this.instance.id,this.prevCursor)},loadNext:async function(){this.loadItems(this.instance.id,this.nextCursor)},loadItems:async function(e,t){try{const a=await(async(e,t,a)=>{const i=(0,ka.Z)(`/api/v1/projects/${e}/logs`,t,a);return ba.Z.get(i).then((e=>e.data))})(e,t,null);this.showOfflineBanner=!1,t||(this.prevCursor=null,this.logEntries=[]);const i=[];a.log.length>0&&(a.log.forEach((e=>{const a=new Date(parseInt(e.ts.substring(0,e.ts.length-4)));e.date=`${a.toLocaleDateString()} ${a.toLocaleTimeString()}`,void 0===e.msg?e.msg="undefined":"string"!=typeof e.msg&&(e.msg=JSON.stringify(e.msg)),e.msg=e.msg.replace(/^[\n]*/,""),t&&"-"===t[0]?i.push(e):this.logEntries.push(e),e.src&&this.$emit("ha-instance-detected",e.src)})),i.length>0&&(this.logEntries=i.concat(this.logEntries)),t&&"-"!==t[0]||(this.prevCursor=a.meta.previous_cursor),t&&"-"===t[0]||(this.nextCursor=a.meta.next_cursor))}catch(e){if(console.warn("Unable to retrieve Node-RED instance logs:",e),503===e.response?.status){if(!0===this.showOfflineBanner)return;this.showOfflineBanner=!0,Ee.Z.emit("The Node-RED instance cannot be reached at this time","warning",4500)}else if(500!==e.response?.status&&"project_suspended"!==e.response?.data?.code){const t=e.response?.data?.error||e.message;Ee.Z.emit("Could not get Node-RED logs: "+t,"warning",4500)}}}}},lg=(0,f.Z)(rg,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.loading?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Loading Logs..."})):(0,n.kq)("v-if",!0),s.showOfflineBanner?((0,n.wg)(),(0,n.iD)("div",Kh,Xh)):(0,n.kq)("v-if",!0),a.instance.meta&&"suspended"!==a.instance.meta.state?((0,n.wg)(),(0,n.iD)("div",{key:3,class:(0,l.normalizeClass)([s.showOfflineBanner?"forge-log-offline-background":"","mx-auto text-xs border bg-gray-800 text-gray-200 rounded p-2 font-mono"])},[s.prevCursor?((0,n.wg)(),(0,n.iD)("div",Qh,[(0,n._)("a",{class:"text-center w-full hover:text-blue-400 cursor-pointer pb-1",onClick:t[0]||(t[0]=(...e)=>o.loadPrevious&&o.loadPrevious(...e))},"Load earlier...")])):(0,n.kq)("v-if",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.filteredLogEntries,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,"data-el":"instance-log-row",class:(0,l.normalizeClass)(["flex","forge-log-entry-level-"+e.level])},[void 0!==a.instance.ha?.replicas?((0,n.wg)(),(0,n.iD)("div",Jh,"["+(0,l.toDisplayString)(e.src)+"]",1)):(0,n.kq)("v-if",!0),(0,n._)("div",eg,(0,l.toDisplayString)(e.date),1),(0,n._)("div",tg,"["+(0,l.toDisplayString)(e.level)+"]",1),(0,n._)("div",ag,(0,l.toDisplayString)(e.msg),1)],2)))),128))],2)):((0,n.wg)(),(0,n.iD)("div",$h," Logs unavailable "))],64)}],["__scopeId","data-v-c27b14fa"]]);const cg={key:0,class:"forge-badge"},dg={class:"ml-1"};var pg=a(2557),ug=a(2787),mg=a(1603),hg=a(19);const gg={class:"ff-icon-anim ff-icon-installing"};var fg={name:"AnimIconStarting",components:{ArrowDownIcon:a(6972).Z}},vg=a(7319),yg={};yg.styleTagTransform=or(),yg.setAttributes=ar(),yg.insert=er().bind(null,"head"),yg.domAPI=Qo(),yg.insertStyleElement=nr(),Xo()(vg.Z,yg),vg.Z&&vg.Z.locals&&vg.Z.locals;var kg=(0,f.Z)(fg,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ArrowDownIcon");return(0,n.wg)(),(0,n.iD)("div",gg,[(0,n.Wm)(r)])}],["__scopeId","data-v-20490073"]]);const bg={class:"ff-icon-anim ff-icon-restarting"};var wg=a(4374),xg={name:"AnimIconStarting",components:{RefreshIcon:wg.Z}},Ag=a(4265),Dg={};Dg.styleTagTransform=or(),Dg.setAttributes=ar(),Dg.insert=er().bind(null,"head"),Dg.domAPI=Qo(),Dg.insertStyleElement=nr(),Xo()(Ag.Z,Dg),Ag.Z&&Ag.Z.locals&&Ag.Z.locals;var Sg=(0,f.Z)(xg,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("RefreshIcon");return(0,n.wg)(),(0,n.iD)("div",bg,[(0,n.Wm)(r)])}],["__scopeId","data-v-76e73795"]]);const Tg={class:"ff-icon-anim"},Cg=[(e=>((0,n.dD)("data-v-f22734ce"),e=e(),(0,n.Cn)(),e))((()=>(0,n._)("span",{class:"ff-icon-starting"},null,-1)))];var Eg={name:"AnimIconStarting"},Ig=a(8792),_g={};_g.styleTagTransform=or(),_g.setAttributes=ar(),_g.insert=er().bind(null,"head"),_g.domAPI=Qo(),_g.insertStyleElement=nr(),Xo()(Ig.Z,_g),Ig.Z&&Ig.Z.locals&&Ig.Z.locals;var Ug=(0,f.Z)(Eg,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)("div",Tg,Cg)}],["__scopeId","data-v-f22734ce"]]),Vg={name:"StatusBadge",components:{CloudUploadIcon:pg.Z,ExclamationCircleIcon:ki.Z,ExclamationIcon:om.Z,PlayIcon:ug.Z,StopIcon:mg.Z,SupportIcon:hg.Z,AnimIconInstalling:kg,AnimIconRestarting:Sg,AnimIconStarting:Ug},props:{status:{type:String,default:null},pendingChange:{type:Boolean,default:!1}}},jg=(0,f.Z)(Vg,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("RefreshIcon"),c=(0,n.up)("ExclamationCircleIcon"),d=(0,n.up)("ExclamationIcon"),p=(0,n.up)("PlayIcon"),u=(0,n.up)("StopIcon"),m=(0,n.up)("AnimIconRestarting"),h=(0,n.up)("AnimIconInstalling"),g=(0,n.up)("AnimIconStarting"),f=(0,n.up)("CloudUploadIcon"),v=(0,n.up)("SupportIcon");return a.status?((0,n.wg)(),(0,n.iD)("div",{key:1,class:(0,l.normalizeClass)(["forge-badge",["forge-status-"+a.status,a.pendingChange?"opacity-40":""]])},["error"===a.status?((0,n.wg)(),(0,n.j4)(c,{key:0,class:"w-4 h-4"})):(0,n.kq)("v-if",!0),"suspended"===a.status?((0,n.wg)(),(0,n.j4)(d,{key:1,class:"w-4 h-4"})):(0,n.kq)("v-if",!0),"running"===a.status?((0,n.wg)(),(0,n.j4)(p,{key:2,class:"w-4 h-4"})):(0,n.kq)("v-if",!0),"stopping"===a.status||"suspending"===a.status?((0,n.wg)(),(0,n.j4)(u,{key:3,class:"w-4 h-4"})):(0,n.kq)("v-if",!0),"restarting"===a.status?((0,n.wg)(),(0,n.j4)(m,{key:4,class:"w-4 h-4"})):(0,n.kq)("v-if",!0),"importing"===a.status?((0,n.wg)(),(0,n.j4)(h,{key:5,class:"w-4 h-4"})):(0,n.kq)("v-if",!0),"starting"===a.status?((0,n.wg)(),(0,n.j4)(g,{key:6,class:"w-4 h-4"})):(0,n.kq)("v-if",!0),"loading"===a.status?((0,n.wg)(),(0,n.j4)(f,{key:7,class:"w-4 h-4"})):(0,n.kq)("v-if",!0),"installing"===a.status?((0,n.wg)(),(0,n.j4)(h,{key:8,class:"w-3 h-3"})):(0,n.kq)("v-if",!0),"safe"===a.status?((0,n.wg)(),(0,n.j4)(v,{key:9,class:"w-4 h-4"})):(0,n.kq)("v-if",!0),(0,n._)("span",dg,(0,l.toDisplayString)(a.status),1)],2)):((0,n.wg)(),(0,n.iD)("div",cg,[(0,n.Wm)(r,{class:"w-4 h-4 animate-spin"})]))}]]),Pg={name:"InstanceStatusBadge",components:{StatusBadge:jg},props:{status:{type:String,default:null},pendingStateChange:{type:Boolean,default:!1},optimisticStateChange:{type:Boolean,default:!1}}},Zg=(0,f.Z)(Pg,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("StatusBadge");return(0,n.wg)(),(0,n.j4)(r,{status:a.status,pendingChange:a.optimisticStateChange||a.pendingStateChange},null,8,["status","pendingChange"])}]]),Mg={name:"ProjectLogs",components:{LogsShared:lg,SectionTopMenu:Wa,InstanceStatusBadge:Zg},inheritAttrs:!1,props:{instances:{type:Array,required:!0}},data(){return{input:{instanceId:this.instances[0]?.id}}},computed:{instance(){return this.instances.find((e=>e.id===this.input.instanceId))}},watch:{instances:"selectFirstInstance"},mounted(){this.selectFirstInstance()},methods:{selectFirstInstance(){this.input.instanceId=this.instances[0]?.id}}},Bg=(0,f.Z)(Mg,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-dropdown-option"),l=(0,n.up)("ff-dropdown"),c=(0,n.up)("InstanceStatusBadge"),d=(0,n.up)("router-link"),p=(0,n.up)("SectionTopMenu"),u=(0,n.up)("LogsShared");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(p,{hero:"Node-RED Logs","help-header":"FlowForge - Node-RED Logs",info:"Live logs from your FlowForge instances of Node-RED"},{helptext:(0,n.w5)((()=>[Hh,Oh])),tools:(0,n.w5)((()=>[(0,n._)("div",Gh,[Yh,(0,n.Wm)(l,{ref:"dropdown",modelValue:s.input.instanceId,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.instanceId=e),class:"w-full"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.instances,(e=>((0,n.wg)(),(0,n.j4)(r,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),o.instance?.meta?((0,n.wg)(),(0,n.j4)(d,{key:0,to:{name:"Instance",params:{id:o.instance.id}}},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{status:o.instance.meta?.state,pendingStateChange:o.instance?.pendingStateChange,optimisticStateChange:o.instance.optimisticStateChange,class:"ml-2"},null,8,["status","pendingStateChange","optimisticStateChange"])])),_:1},8,["to"])):(0,n.kq)("v-if",!0)])])),_:1}),o.instance?.id?((0,n.wg)(),(0,n.j4)(u,{key:0,instance:o.instance},null,8,["instance"])):((0,n.wg)(),(0,n.iD)("div",zh," Select an instance to view live logs. "))],64)}]]),Fg=a.p+"./assets/a1b365c70146b3110079.png";const Wg=(0,n._)("img",{src:Fg},null,-1),Ng=(0,n._)("p",null,"This is a list of Node-RED instances in this Application, hosted on the same domain as FlowForge.",-1),Rg=(0,n._)("p",null,"It will always run the latest flow deployed in Node-RED and use the latest credentials and runtime settings defined in the Projects settings.",-1),Lg=(0,n._)("p",null,"To edit an Application's flow, open the editor of the Instance.",-1),qg={class:"space-y-6 mb-12"},Hg=(0,n._)("img",{src:"data:image/png;base64,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"},null,-1),Og=(0,n._)("p",null," Applications in FlowForge are used to manage groups of Node-RED Instances. ",-1),Gg=(0,n._)("p",null,[(0,n.Uk)(" The FlowForge team also have more planned for Applications, including "),(0,n._)("a",{class:"ff-link",href:"https://github.com/flowforge/flowforge/issues/1734",target:"_blank"}," shared settings across Instances"),(0,n.Uk)(". ")],-1),Yg={"data-el":"empty-state"},zg={class:"ff-empty-state--message"},Kg={class:"ff-empty-state--actions"},Xg={class:"ff-empty-state--note"},$g={class:"ff-page-banner my-4","data-el":"page-banner-feature-unavailable"},Qg=(0,n._)("div",null,[(0,n.Uk)(" This is a FlowForge Premium feature. Please "),(0,n._)("a",{class:"ff-link",href:"https://flowforge.com/docs/upgrade/open-source-to-premium/",target:"_blank",rel:"noopener noreferrer"},"upgrade"),(0,n.Uk)(" your instance of Flowforge in order to use it. ")],-1);var Jg={name:"FeatureUnavailable",components:{SparklesIcon:qd.Z}},ef={name:"EmptyState",components:{FeatureUnavailable:(0,f.Z)(Jg,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SparklesIcon");return(0,n.wg)(),(0,n.iD)("div",$g,[(0,n.Wm)(r,{class:"ff-icon mr-2",style:{"stroke-width":"1px"}}),Qg,(0,n.Wm)(r,{class:"ff-icon ml-2",style:{"stroke-width":"1px"}})])}]])},props:{featureUnavailable:{type:Boolean,default:!1}}},tf=a(7114),af={};af.styleTagTransform=or(),af.setAttributes=ar(),af.insert=er().bind(null,"head"),af.domAPI=Qo(),af.insertStyleElement=nr(),Xo()(tf.Z,af),tf.Z&&tf.Z.locals&&tf.Z.locals;var nf=(0,f.Z)(ef,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FeatureUnavailable");return(0,n.wg)(),(0,n.iD)("div",Yg,[a.featureUnavailable?((0,n.wg)(),(0,n.j4)(r,{key:0})):(0,n.kq)("v-if",!0),(0,n._)("div",{class:(0,l.normalizeClass)(["ff-empty-state",{"ff-empty-state-feature-unavailable":a.featureUnavailable}])},[(0,n._)("div",null,[(0,n.WI)(e.$slots,"img"),(0,n._)("h1",null,[(0,n.WI)(e.$slots,"header")]),(0,n._)("div",zg,[(0,n.WI)(e.$slots,"message")]),(0,n._)("div",Kg,[(0,n.WI)(e.$slots,"actions")]),(0,n._)("div",Xg,[(0,n.WI)(e.$slots,"note")])])],2)])}]]);const sf={class:"flex justify-end"},of={key:1,class:"ff-btn ff-btn--secondary",disabled:""},rf={class:"ff-btn--icon ff-btn--icon-right"};var lf=a(3498),cf={name:"InstanceEditorLink",components:{ExternalLinkIcon:lf.Z},inheritAttrs:!1,props:{editorDisabled:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean},disabledReason:{default:null,type:String},url:{default:"",type:String}},computed:{...(0,o.rn)("account",["team","teamMembership"]),isVisitingAdmin(){return this.teamMembership.role===nh.Roles.Admin}},methods:{openEditor(){this.disabled||window.open(this.url,"_blank")}}},df=(0,f.Z)(cf,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ExternalLinkIcon"),c=(0,n.up)("ff-button"),d=(0,n.Q2)("ff-tooltip");return o.isVisitingAdmin?(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",of,[(0,n.Uk)((0,l.toDisplayString)(a.editorDisabled?"Editor Disabled":"Open Editor")+" ",1),(0,n._)("span",rf,[(0,n.Wm)(r)])])),[[d,"Unable to open editor when visiting as an admin","left"]]):(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{key:0,kind:"secondary","data-action":"open-editor",disabled:a.editorDisabled||a.disabled||!a.url,onClick:t[0]||(t[0]=(0,Oe.withModifiers)((e=>o.openEditor()),["stop"]))},{"icon-right":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" "+(0,l.toDisplayString)(a.editorDisabled?"Editor Disabled":"Open Editor"),1)])),_:1},8,["disabled"])),[[d,a.disabledReason,"left"]])}]]),pf={name:"InstanceEditorLinkCell",components:{InstanceEditorLink:df,StatusBadge:jg},inheritAttrs:!1,props:{id:{default:"",type:String},disabled:{default:!1,type:Boolean},editorDisabled:{default:!1,type:Boolean},url:{default:"",type:String},isHA:{default:!1,type:Boolean}}},uf=(0,f.Z)(pf,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("InstanceEditorLink",!0),l=(0,n.up)("StatusBadge"),c=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",sf,[a.isHA?((0,n.wg)(),(0,n.j4)(c,{key:1,to:{name:"InstanceSettingsHA",params:{id:a.id}},onClick:t[0]||(t[0]=(0,Oe.withModifiers)((()=>{}),["stop"]))},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{class:"text-gray-400 hover:text-blue-600",status:"high-availability"})])),_:1},8,["to"])):((0,n.wg)(),(0,n.j4)(r,{key:0,disabled:a.disabled,editorDisabled:a.editorDisabled,url:a.url},null,8,["disabled","editorDisabled","url"]))])}]]);const mf={class:"flex items-center"},hf={class:"flex flex-col space-y-1"};var gf={name:"DeploymentName",components:{CloudIcon:a(5606).Z},inheritAttrs:!1,props:{name:{required:!0,type:String}}},ff=(0,f.Z)(gf,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("CloudIcon");return(0,n.wg)(),(0,n.iD)("span",mf,[(0,n.Wm)(r,{class:"w-6 mr-2 text-gray-500"}),(0,n._)("div",hf,(0,l.toDisplayString)(a.name),1)])}]]);const vf={key:0},yf={key:1,class:"italic text-gray-500"};var kf={name:"LastSeen",inheritAttrs:!1,props:{lastSeenSince:{type:String,default:""}}},bf=(0,f.Z)(kf,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)("span",null,[a.lastSeenSince?((0,n.wg)(),(0,n.iD)("span",vf,(0,l.toDisplayString)(a.lastSeenSince),1)):((0,n.wg)(),(0,n.iD)("span",yf," never "))])}]]),wf={name:"ProjectOverview",components:{PlusSmIcon:Ct.Z,SectionTopMenu:Wa,EmptyState:nf},mixins:[Pd],inheritAttrs:!1,props:{application:{type:Object,required:!0},instances:{type:Array,required:!0}},emits:["instance-delete","instance-suspend","instance-restart","instance-start"],computed:{...(0,o.rn)("account",["team","teamMembership"]),cloudColumns(){return[{label:"Name",class:["w-64"],component:{is:(0,et.Xl)(ff)}},{label:"Instance Status",class:["w-48"],component:{is:(0,et.Xl)(Zg),map:{status:"meta.state"}}},{label:"Last Deployed",class:["w-48"],component:{is:(0,et.Xl)(bf),map:{lastSeenSince:"flowLastUpdatedSince"}}},{label:"",class:["w-20"],component:{is:(0,et.Xl)(uf)}}]},cloudRows(){return this.instances.map((e=>(e.running="running"===e.meta?.state,e.notSuspended="suspended"!==e.meta?.state,e.isHA=void 0!==e.ha?.replicas,e.disabled=!e.running||this.isVisitingAdmin||e.isHA,e)))},isVisitingAdmin(){return this.teamMembership.role===nh.Roles.Admin}},methods:{selectedCloudRow(e){this.$router.push({name:"Instance",params:{id:e.id}})}}},xf=(0,f.Z)(wf,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("PlusSmIcon"),l=(0,n.up)("ff-button"),c=(0,n.up)("SectionTopMenu"),d=(0,n.up)("ff-list-item"),p=(0,n.up)("ff-data-table"),u=(0,n.up)("EmptyState");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(c,{hero:"Node-RED Instances","help-header":"Node-RED Instances - Running in FlowForge",info:"Instances of Node-RED belonging to this application."},{pictogram:(0,n.w5)((()=>[Wg])),helptext:(0,n.w5)((()=>[Ng,Rg,Lg])),tools:(0,n.w5)((()=>[(0,n.Wm)(l,{"data-action":"create-instance",to:{name:"ApplicationCreateInstance"}},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Add Instance ")])),_:1})])),_:1}),(0,n._)("div",qg,[a.instances?.length>0?((0,n.wg)(),(0,n.j4)(p,{key:0,"data-el":"cloud-instances",columns:o.cloudColumns,rows:o.cloudRows,"rows-selectable":!0,onRowSelected:o.selectedCloudRow},(0,n.Nv)({_:2},[e.hasPermission("device:edit")?{name:"context-menu",fn:(0,n.w5)((({row:t})=>[(0,n.Wm)(d,{disabled:t.pendingStateChange||t.running,label:"Start",onClick:(0,Oe.withModifiers)((a=>e.$emit("instance-start",t)),["stop"])},null,8,["disabled","onClick"]),(0,n.Wm)(d,{disabled:!t.notSuspended,label:"Restart",onClick:(0,Oe.withModifiers)((a=>e.$emit("instance-restart",t)),["stop"])},null,8,["disabled","onClick"]),(0,n.Wm)(d,{disabled:!t.notSuspended,kind:"danger",label:"Suspend",onClick:(0,Oe.withModifiers)((a=>e.$emit("instance-suspend",t)),["stop"])},null,8,["disabled","onClick"]),e.hasPermission("project:delete")?((0,n.wg)(),(0,n.j4)(d,{key:0,kind:"danger",label:"Delete",onClick:(0,Oe.withModifiers)((a=>e.$emit("instance-delete",t)),["stop"])},null,8,["onClick"])):(0,n.kq)("v-if",!0)])),key:"0"}:void 0]),1032,["columns","rows","onRowSelected"])):((0,n.wg)(),(0,n.j4)(u,{key:1},{img:(0,n.w5)((()=>[Hg])),header:(0,n.w5)((()=>[(0,n.Uk)("Add your Application's First Instance")])),message:(0,n.w5)((()=>[Og])),actions:(0,n.w5)((()=>[(0,n.Wm)(l,{to:{name:"ApplicationCreateInstance"}},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Add Instance ")])),_:1})])),note:(0,n.w5)((()=>[Gg])),_:1}))])])}]]);const Af={class:"px-4 space-y-6"},Df=(0,n._)("div",{class:"mb-6 text-sm text-gray-500"}," Create a DevOps Pipeline for linking Node-RED Instances together. ",-1),Sf={class:"flex flex-wrap gap-3 items-center"},Tf=async e=>(await ba.Z.get(`/api/v1/applications/${e}/pipelines`)).data.pipelines.map((e=>(e.stages=e.stages.map((e=>(e.instance=e.instances?.[0],e.instances||(e.instances=[]),e))),e)));var Cf=async(e,t,a)=>(await ba.Z.get(`/api/v1/applications/${e}/instances`)).data.instances.map((e=>(e.createdSince=(0,va.Z)(e.createdAt),e.updatedSince=(0,va.Z)(e.updatedAt),e))),Ef=async(e,t,a)=>(await ba.Z.get(`/api/v1/applications/${e}/instances/status`)).data.instances.map((e=>(e.flowLastUpdatedSince=(0,va.Z)(e.flowLastUpdatedAt),e))),If=Tf,_f={name:"CreatePipeline",components:{SectionTopMenu:Wa,FormRow:Ae.Z},inheritAttrs:!1,props:{application:{type:Object,required:!0}},data(){return{icons:{chevronLeft:sa.Z},mounted:!1,loading:!1,input:{name:null}}},computed:{submitEnabled(){return this.input.name?.length>0}},async mounted(){this.mounted=!0},methods:{async create(){this.loading=!0;try{await(async(e,t)=>{const a={name:t,applicationId:e};return ba.Z.post("/api/v1/pipelines",a).then((t=>{const a={"pipeline-id":t.data.id,"created-at":t.data.createdAt};return Uh.Z.capture("$ff-pipeline-created",a,{application:e}),t.data}))})(this.application.id,this.input.name),Ee.Z.emit("Pipeline successfully created.","confirmation"),this.$router.push({name:"ApplicationPipelines",params:{id:this.application.id}})}catch(e){Ee.Z.emit("Failed to create Pipeline.","warning")}this.loading=!1}}},Uf=(0,f.Z)(_f,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),l=(0,n.up)("SectionTopMenu"),c=(0,n.up)("FormRow"),d=(0,n.up)("ff-button");return s.loading?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Creating Pipeline..."})):((0,n.wg)(),(0,n.iD)("form",{key:1,class:"space-y-6","data-form":"pipeline-form",onSubmit:t[2]||(t[2]=(0,Oe.withModifiers)(((...e)=>o.create&&o.create(...e)),["prevent"]))},[(0,n.Wm)(l,{hero:"Create DevOps Pipeline"}),(0,n._)("div",Af,[(0,n.kq)(" Form Description "),Df,(0,n.kq)(" Pipeline Options "),(0,n.Wm)(c,{modelValue:s.input.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.name=e),type:"text","data-form":"pipeline-name"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Pipeline name ")])),_:1},8,["modelValue"]),(0,n._)("div",Sf,[(0,n.Wm)(d,{class:"ff-btn--secondary",onClick:t[1]||(t[1]=t=>e.$router.back())},{default:(0,n.w5)((()=>[(0,n.Uk)(" Cancel ")])),_:1}),(0,n.Wm)(d,{disabled:!o.submitEnabled,"data-action":"create-pipeline",type:"submit"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Create Pipeline ")])),_:1},8,["disabled"])])])],32))}]]);const Vf={key:0},jf={key:1,class:"flex flex-col sm:flex-row"};var Pf={name:"PipelineIndex",inheritAttrs:!1,props:{application:{type:Object,required:!0},instances:{type:Object,required:!0}},data:function(){return{pipeline:null}},watch:{"application.id":"loadPipeline"},created(){this.loadPipeline(),this.$watch((()=>this.$route.params.pipelineId),(()=>{this.$route.params.pipelineId&&this.loadPipeline()}))},methods:{async loadPipeline(){if(this.application.id)try{this.pipeline=await(async(e,t)=>(await Tf(e)).find((e=>e.id===t)))(this.application.id,this.$route.params.pipelineId)}catch(e){this.$router.push({name:"PageNotFound",params:{pathMatch:this.$router.currentRoute.value.path.substring(1).split("/")},query:this.$router.currentRoute.value.query,hash:this.$router.currentRoute.value.hash})}}}},Zf=(0,f.Z)(Pf,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),l=(0,n.up)("router-view");return e.pipeline?.id?((0,n.wg)(),(0,n.iD)("div",jf,[(0,n.Wm)(l,{application:a.application,instances:a.instances,pipeline:e.pipeline},null,8,["application","instances","pipeline"])])):((0,n.wg)(),(0,n.iD)("main",Vf,[(0,n.Wm)(r,{message:"Loading Pipeline..."})]))}]]),Mf=async(e,t)=>ba.Z.get(`/api/v1/pipelines/${e}/stages/${t}`).then((e=>(e.data.instance=e.data.instances?.[0],e.data)));const Bf={class:"mb-8 text-sm text-gray-500"},Ff={class:"flex flex-wrap gap-1 items-center"},Wf={key:0},Nf={key:1};var Rf={name:"PipelineForm",components:{SectionTopMenu:Wa,FormRow:Ae.Z},props:{instances:{type:Array,required:!0},pipeline:{type:Object,required:!0},stage:{type:Object,default(){return{}}},sourceStage:{type:Boolean,default:!0}},emits:["submit"],data(){const e=this.stage;return{icons:{chevronLeft:sa.Z},loading:{create:!1,update:!1},input:{name:e?.name,instanceId:e.instances?.[0].id,deployToDevices:e.deployToDevices||!1}}},computed:{isEdit(){return!!this.stage.id},formDirty(){return this.input.name!==this.stage.name||this.input.instanceId!==this.stage.instances?.[0].id||this.input.deployToDevices!==this.stage.deployToDevices},submitEnabled(){return this.formDirty&&this.input.instanceId&&this.input.name},instancesNotInUse(){const e=this.pipeline.stages.reduce(((e,t)=>(t.instances.forEach((t=>{e.add(t.id)})),e)),new Set);return this.instances.filter((t=>!e.has(t.id)||t.id===this.input.instanceId))},instanceOptions(){return this.instancesNotInUse.map((e=>({label:e.name,value:e.id})))},instanceDropdownDisabled(){return 0===this.instancesNotInUse.length},instanceDropdownPlaceholder(){return 0===this.instancesNotInUse.length?"No instances available":"Choose Instance"}},methods:{async submit(){this.loading.creating=!this.isEdit,this.loading.updating=this.isEdit,this.$emit("submit",this.input)}}},Lf=(0,f.Z)(Rf,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),c=(0,n.up)("SectionTopMenu"),d=(0,n.up)("FormRow"),p=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.loading.create?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Creating Pipeline Stage..."})):s.loading.update?((0,n.wg)(),(0,n.j4)(r,{key:1,message:"Updating Pipeline Stage..."})):(0,n.kq)("v-if",!0),(0,n._)("form",{class:"space-y-6",onSubmit:t[4]||(t[4]=(0,Oe.withModifiers)(((...e)=>o.submit&&o.submit(...e)),["prevent"]))},[(0,n.Wm)(c,{hero:"Edit Pipeline Stage"}),(0,n.kq)(" Form Description "),(0,n._)("div",Bf," Update existing pipeline stage from "+(0,l.toDisplayString)(a.pipeline?.name)+". ",1),(0,n.kq)(" Stage Name "),(0,n.Wm)(d,{modelValue:s.input.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.name=e),type:"text","data-form":"stage-name"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Stage name ")])),_:1},8,["modelValue"]),(0,n.kq)(" Instance "),(0,n.Wm)(d,{modelValue:s.input.instanceId,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.instanceId=e),options:o.instanceOptions,"data-form":"stage-instance",placeholder:o.instanceDropdownPlaceholder,disabled:o.instanceDropdownDisabled},{default:(0,n.w5)((()=>[(0,n.Uk)(" Choose Instance ")])),_:1},8,["modelValue","options","placeholder","disabled"]),(0,n.kq)(" Deploy to Devices "),(0,n.Wm)(d,{modelValue:s.input.deployToDevices,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.deployToDevices=e),type:"checkbox","data-form":"stage-deploy-to-devices",disabled:!a.sourceStage,class:"max-w-md"},{description:(0,n.w5)((()=>[(0,n.Uk)(" When this stage is deployed to changes will also be be deployed to all devices connected to this stages instance. ")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Deploy to Devices "),a.sourceStage?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)("- Not available for first stage in pipeline")],64))])),_:1},8,["modelValue","disabled"]),(0,n._)("div",Ff,[(0,n.Wm)(p,{class:"ff-btn--secondary",onClick:t[3]||(t[3]=t=>e.$router.back())},{default:(0,n.w5)((()=>[(0,n.Uk)(" Cancel ")])),_:1}),(0,n.Wm)(p,{disabled:!o.submitEnabled,"data-action":"add-stage",type:"submit"},{default:(0,n.w5)((()=>[o.isEdit?((0,n.wg)(),(0,n.iD)("span",Wf," Update Stage ")):((0,n.wg)(),(0,n.iD)("span",Nf," Add Stage "))])),_:1},8,["disabled"])])],32)],64)}]]),qf={name:"CreatePipelineStage",components:{PipelineStageForm:Lf},inheritAttrs:!1,props:{application:{type:Object,required:!0},instances:{type:Array,required:!0},pipeline:{type:Object,required:!0}},data(){return{icons:{chevronLeft:sa.Z},mounted:!1}},async mounted(){this.mounted=!0},methods:{async create(e){const t={name:e.name,instanceId:e.instanceId,deployToDevices:e.deployToDevices};this.$route.query.sourceStage&&(t.source=this.$route.query.sourceStage),await(async(e,t)=>{const a={name:t.name,instanceId:t.instanceId,deployToDevices:t.deployToDevices};return t.source&&(a.source=t.source),ba.Z.post(`/api/v1/pipelines/${e}/stages`,a).then((i=>{const n={"pipeline-id":e,"pipeline-stage-name":a.name,"created-at":i.data.createdAt};return Uh.Z.capture("$ff-pipeline-stage-added",n,{instance:t.instanceId}),i.data}))})(this.pipeline.id,t),Ee.Z.emit("Pipeline stage successfully added.","confirmation"),this.$router.push({name:"ApplicationPipelines",params:{id:this.application.id}})}}},Hf=(0,f.Z)(qf,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("PipelineStageForm");return(0,n.wg)(),(0,n.iD)("main",null,[(0,n.Wm)(r,{instances:a.instances,pipeline:a.pipeline,stage:{},sourceStage:e.$route.query.sourceStage,onSubmit:o.create},null,8,["instances","pipeline","sourceStage","onSubmit"])])}]]),Of={name:"EditPipelineStage",components:{PipelineStageForm:Lf},props:{application:{type:Object,required:!0},instances:{type:Array,required:!0},pipeline:{type:Object,required:!0}},data(){return{icons:{chevronLeft:sa.Z},mounted:!1,stage:null}},async mounted(){this.mounted=!0,this.loadStage(),this.$watch((()=>this.$route.params.stageId),(async()=>{this.$route.params.stageId&&await this.loadStage()}))},methods:{async update(e){const t={name:e.name,instanceId:e.instanceId,deployToDevices:e.deployToDevices};await(async(e,t,a)=>ba.Z.put(`/api/v1/pipelines/${e}/stages/${t}`,a).then((e=>e.data)))(this.pipeline.id,this.stage.id,t),Ee.Z.emit("Pipeline stage successfully updated.","confirmation"),this.$router.push({name:"ApplicationPipelines",params:{id:this.application.id}})},async loadStage(){this.pipeline.id&&(this.stage=await Mf(this.pipeline.id,this.$route.params.stageId))}}},Gf=(0,f.Z)(Of,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),l=(0,n.up)("PipelineStageForm");return(0,n.wg)(),(0,n.iD)("main",null,[s.stage?.id?((0,n.wg)(),(0,n.j4)(l,{key:1,instances:a.instances,pipeline:a.pipeline,stage:s.stage,onSubmit:o.update},null,8,["instances","pipeline","stage","onSubmit"])):((0,n.wg)(),(0,n.j4)(r,{key:0}))])}]]);const Yf=(0,n._)("p",null," DevOps Pipelines are used to link multiple Node-RED instances together in a deployment pipeline. ",-1),zf=(0,n._)("p",null,' This is normally used to define "Development" instances, where you can test your new flows without fear or breaking "Production" environments. ',-1),Kf=(0,n._)("p",null,' Then, when you\'re ready, you could run a given stage of the pipeline to promote your instance to "Staging" or "Production". ',-1),Xf={key:0,class:"pt-4 space-y-6","data-el":"pipelines-list"},$f=(0,n._)("img",{src:"data:image/png;base64,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"},null,-1),Qf=(0,n._)("p",null," DevOps Pipelines are used to link multiple Node-RED instances together in a deployment pipeline. ",-1),Jf=(0,n._)("p",null,' This is normally used to define "Development" instances, where you can test your new flows without fear or breaking "Production" environments. ',-1),ev=(0,n._)("p",null,' Then, when you\'re ready, you could run a given stage of the pipeline to promote your instance to "Staging" or "Production". ',-1),tv={class:"ff-pipeline","data-el":"pipeline-row"},av={class:"ff-pipeline-banner"},iv={key:1,class:"flex items-center"},nv={class:"flex gap-2"},sv={key:0,"data-action":"delete-pipeline"},ov={key:0,class:"ff-pipeline-stages"},rv={key:1,class:"ff-pipeline-stages"};var lv=a(4073),cv=a(3545);const dv={key:0,class:"ff-pipeline-stage"},pv={class:"ff-pipeline-stage-banner"},uv={class:"ff-pipeline-actions"},mv={key:0,class:"py-3"},hv={class:"ff-pipeline-stage-row"},gv=(0,n._)("label",null,"Instance:",-1),fv={class:"ff-pipeline-stage-row"},vv=(0,n._)("label",null,"URL:",-1),yv=["href","target"],kv={class:"ff-pipeline-stage-row"},bv=(0,n._)("label",null,"Last Deployed:",-1),wv={class:"ff-pipeline-stage-row"},xv=(0,n._)("label",null,"Status:",-1),Av={key:1,class:"flex justify-center py-6"},Dv={key:1,class:"ff-pipeline-stage ff-pipeline-stage-ghost","data-action":"add-stage"},Sv=(0,n._)("label",null,"Add Stage",-1);var Tv=a(8368),Cv={name:"PipelineStage",components:{InstanceStatusBadge:Zg,PencilAltIcon:cv.Z,PlayIcon:ug.Z,PlusCircleIcon:Tv.Z,SpinnerIcon:ve(),TrashIcon:Zp.Z},props:{application:{default:null,type:Object},pipeline:{default:null,type:Object},stage:{default:null,type:Object},playEnabled:{default:!1,type:Boolean},editEnabled:{default:!1,type:Boolean}},emits:["stage-deleted","stage-deploy-starting","stage-deploy-started"],computed:{deploying(){return this.stage.isDeploying}},methods:{runStage:async function(){const e=await Mf(this.pipeline.id,this.stage.NextStageId);e||Ee.Z.emit(`Unable to find configured target for stage "${this.stage.name}".`,"error");const t={header:`Push to "${e.name}"`,html:`\n                    <p>Are you sure you want to push from "${this.stage.name}" to "${e.name}"?</p>\n                    <p>This will copy over all flows, nodes and credentials from "${this.stage.name}".</p>\n                    ${e.deployToDevices?`<p>And push out the changes to all devices connected to "${e.name}".</p>`:""}\n                    <p>It will also transfer the keys of any newly created Environment Variables that your target instance does not currently have.</p>`};Xe.Z.show(t,(async()=>{this.$emit("stage-deploy-starting");try{await(async(e,t)=>ba.Z.put(`/api/v1/pipelines/${e}/stages/${t}/deploy`).then((e=>e.data)))(this.pipeline.id,this.stage.id)}catch(e){return void Ee.Z.emit(e.message,"error")}this.$emit("stage-deploy-started"),Ee.Z.emit(`Deployment from "${this.stage.name}" to "${e.name}"${e.deployToDevices?", and all its devices, ":""} has started.`,"confirmation")}))},edit(){this.$router.push({name:"EditPipelineStage",params:{id:this.application.id,pipelineId:this.pipeline.id,stageId:this.stage.id}})},deleteStage(){const e={header:"Delete Pipeline Stage",kind:"danger",confirmLabel:"Delete",html:`<p>Are you sure you want to delete the pipeline stage "${this.stage.name}"?</p>`};Xe.Z.show(e,(async()=>{await(async(e,t)=>ba.Z.delete(`/api/v1/pipelines/${e}/stages/${t}`).then((e=>e.data)))(this.pipeline.id,this.stage.id),Ee.Z.emit("Pipeline stage successfully deleted","confirmation"),this.$emit("stage-deleted")}))}}},Ev=(0,f.Z)(Cv,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("PencilAltIcon"),c=(0,n.up)("TrashIcon"),d=(0,n.up)("PlayIcon"),p=(0,n.up)("SpinnerIcon"),u=(0,n.up)("router-link"),m=(0,n.up)("InstanceStatusBadge"),h=(0,n.up)("PlusCircleIcon");return a.stage?((0,n.wg)(),(0,n.iD)("div",dv,[(0,n._)("div",pv,[(0,n._)("label",null,(0,l.toDisplayString)(a.stage.name),1),(0,n._)("div",uv,[(0,n._)("span",{"data-action":"stage-edit",onClick:t[0]||(t[0]=(...e)=>o.edit&&o.edit(...e))},[a.editEnabled&&a.application?.id&&!o.deploying?((0,n.wg)(),(0,n.j4)(r,{key:0,class:"ff-icon ff-clickable"})):(0,n.kq)("v-if",!0)]),(0,n._)("span",{"data-action":"stage-delete",onClick:t[1]||(t[1]=(...e)=>o.deleteStage&&o.deleteStage(...e))},[a.editEnabled&&a.application?.id&&!o.deploying?((0,n.wg)(),(0,n.j4)(c,{key:0,class:"ff-icon ff-clickable"})):(0,n.kq)("v-if",!0)]),(0,n._)("span",{"data-action":"stage-run",onClick:t[2]||(t[2]=(...e)=>o.runStage&&o.runStage(...e))},[a.playEnabled&&a.pipeline?.id&&!o.deploying?((0,n.wg)(),(0,n.j4)(d,{key:0,class:"ff-icon ff-clickable"})):(0,n.kq)("v-if",!0)]),o.deploying?((0,n.wg)(),(0,n.j4)(p,{key:0,class:"ff-icon"})):(0,n.kq)("v-if",!0)])]),a.stage.instance?((0,n.wg)(),(0,n.iD)("div",mv,[(0,n._)("div",hv,[gv,(0,n._)("span",null,[(0,n.Wm)(u,{to:{name:"Instance",params:{id:a.stage.instance.id}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(a.stage.instance.name),1)])),_:1},8,["to"])])]),(0,n._)("div",fv,[vv,(0,n._)("a",{class:"ff-link",href:a.stage.instance.url,target:a.stage.instance.name},(0,l.toDisplayString)(a.stage.instance.url),9,yv)]),(0,n._)("div",kv,[bv,(0,n._)("span",null,(0,l.toDisplayString)(a.stage.flowLastUpdatedSince?a.stage.flowLastUpdatedSince:"Unknown"),1)]),(0,n._)("div",wv,[xv,(0,n.Wm)(m,{status:a.stage.state},null,8,["status"])])])):((0,n.wg)(),(0,n.iD)("div",Av,"No Instances Bound"))])):((0,n.wg)(),(0,n.iD)("div",Dv,[(0,n.Wm)(h,{class:"ff-icon ff-icon-lg"}),Sv]))}]]),Iv={name:"PipelineRow",components:{ChevronRightIcon:lv.Z,PencilAltIcon:cv.Z,TrashIcon:Zp.Z,PipelineStage:Ev},props:{application:{required:!0,type:Object},pipeline:{required:!0,type:Object},instanceStatusMap:{required:!0,type:Map}},emits:["pipeline-deleted","stage-deleted","deploy-starting","deploy-started","stage-deploy-starting","stage-deploy-started"],data(){const e=this.pipeline;return{editing:{name:!1},input:{pipelineName:e.name},deploying:null,scopedPipeline:e}},computed:{saveRowEnabled(){return this.scopedPipeline.name?.length>0},stagesWithStates(){return this.pipeline.stages.map((e=>{const t=this.instanceStatusMap.get(e.instance?.id);return t?(e.state=t.state,e.flowLastUpdatedSince=t.flowLastUpdatedSince,e.isDeploying=!!t?.isDeploying,e):e}))}},methods:{addStage:function(){const e={name:"CreatePipelineStage",params:{id:this.application.id,pipelineId:this.pipeline.id}};this.pipeline.stages.length>0&&(e.query={sourceStage:this.pipeline.stages[this.pipeline.stages.length-1].id}),this.$router.push(e)},edit(){this.editing.name=!0,this.$nextTick((()=>{this.$refs.pipelineName.focus()}))},cancel(){this.editing.name=!1,this.input.pipelineName=this.pipeline.name},async save(){this.scopedPipeline.name=this.input.pipelineName,await(async(e,t)=>{const a={pipeline:{name:t.name}};return ba.Z.put(`/api/v1/pipelines/${t.id}`,a).then((e=>e.data))})(this.$route.params.id,this.scopedPipeline),this.editing.name=!1,Ee.Z.emit("Pipeline successfully updated.","confirmation")},stageDeployStarting(e){const t=this.pipeline.stages.find((t=>t.id===e.NextStageId));this.$emit("stage-deploy-starting",e,t)},stageDeployStarted(e){this.$emit("stage-deploy-started",e)},stageDeleted(e){this.$emit("stage-deleted",e)},nextStageDeploying(e){return!!this.pipeline.stages[e+1]&&this.pipeline.stages[e+1].isDeploying},deletePipeline(){const e={header:"Delete Pipeline",kind:"danger",confirmLabel:"Delete",html:`<p>Are you sure you want to delete the pipeline "${this.pipeline.name}"?</p>`};Xe.Z.show(e,(async()=>{await(async(e,t)=>ba.Z.delete(`/api/v1/pipelines/${t}`).then((a=>{const i={"pipeline-id":t,"created-at":a.data.createdAt};return Uh.Z.capture("$ff-pipeline-deleted",i,{application:e}),a.data})))(this.$route.params.id,this.pipeline.id),this.deploying=!1,this.$emit("pipeline-deleted"),Ee.Z.emit("Pipeline successfully deleted","confirmation")}))}}},_v=(0,f.Z)(Iv,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-text-input"),c=(0,n.up)("PencilAltIcon"),d=(0,n.up)("TrashIcon"),p=(0,n.up)("ff-button"),u=(0,n.up)("PipelineStage"),m=(0,n.up)("ChevronRightIcon"),h=(0,n.Q2)("ff-tooltip");return(0,n.wg)(),(0,n.iD)("div",tv,[(0,n._)("div",av,[s.editing.name?((0,n.wg)(),(0,n.j4)(r,{key:0,ref:"pipelineName",modelValue:s.input.pipelineName,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.pipelineName=e)},null,8,["modelValue"])):((0,n.wg)(),(0,n.iD)("div",iv,[(0,n._)("label",null,(0,l.toDisplayString)(a.pipeline.name),1),(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",null,[s.editing.name?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.j4)(c,{key:0,class:"ml-4 ff-icon ff-clickable",onClick:o.edit},null,8,["onClick"]))])),[[h,"Edit Pipeline Name","right"]])])),(0,n._)("div",nv,[s.editing.name?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(p,{kind:"secondary",onClick:o.cancel},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"]),(0,n.Wm)(p,{kind:"primary",disabled:!o.saveRowEnabled,onClick:o.save},{default:(0,n.w5)((()=>[(0,n.Uk)("Save")])),_:1},8,["disabled","onClick"])],64)):(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",sv,[(0,n.Wm)(d,{class:"ff-icon ff-clickable",onClick:o.deletePipeline},null,8,["onClick"])])),[[h,"Delete Pipeline","left"]])])]),a.pipeline.stages.length?((0,n.wg)(),(0,n.iD)("div",ov,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.stagesWithStates,((e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:e.id},[(0,n.Wm)(u,{application:a.application,pipeline:a.pipeline,stage:e,playEnabled:t<a.pipeline.stages.length-1,editEnabled:!0,onStageDeployStarting:t=>o.stageDeployStarting(e),onStageDeployStarted:t=>o.stageDeployStarted(e),onStageDeleted:e=>o.stageDeleted(t)},null,8,["application","pipeline","stage","playEnabled","onStageDeployStarting","onStageDeployStarted","onStageDeleted"]),(0,n.Wm)(Oe.Transition,{name:"fade"},{default:(0,n.w5)((()=>[t<=a.pipeline.stages.length-1?((0,n.wg)(),(0,n.j4)(m,{key:0,class:(0,l.normalizeClass)(["ff-icon mt-4 flex-shrink-0",{"animate-deploying":o.nextStageDeploying(t)}])},null,8,["class"])):(0,n.kq)("v-if",!0)])),_:2},1024)],64)))),128)),(0,n.Wm)(Oe.Transition,{name:"fade"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{onClick:o.addStage},null,8,["onClick"])])),_:1})])):((0,n.wg)(),(0,n.iD)("div",rv,[(0,n.Wm)(u,{onClick:o.addStage},null,8,["onClick"])]))])}]]),Uv={name:"ApplicationPipelines",components:{SectionTopMenu:Wa,PlusSmIcon:Ct.Z,PipelineRow:_v,EmptyState:nf},beforeRouteLeave(){clearInterval(this.polling)},inheritAttrs:!1,props:{instances:{type:Array,required:!0},application:{type:Object,required:!0}},data(){return{pipelines:[],instanceStatusMap:new Map,polling:null}},computed:{...(0,o.rn)("account",["features"]),featureEnabled(){return this.features["devops-pipelines"]}},mounted(){this.featureEnabled&&this.loadPipelines()},methods:{stageDeployStarting(e,t){if(!t.instance?.id)return console.warn("Deployment starting to stage without an instance.");this.instanceStatusMap.get(t.instance.id).isDeploying=!0},startPollingForDeployStatus(e){clearInterval(this.polling),this.polling=setInterval(this.loadInstanceStatus,5e3)},stageDeployCompleted(){clearInterval(this.polling),this.polling=null,Ee.Z.emit("Deployment of stage successful.","confirmation")},async stageDeleted(e,t){if(e.stages.splice(t,1),e.stages[t-1]){const a=e.stages[t-1],i=await Mf(e.id,a.id);Object.assign(a,i)}},async loadPipelines(){this.loadInstanceStatus(),If(this.application.id).then((e=>{this.pipelines=e})).catch((e=>{console.error(e)}))},async loadInstanceStatus(){Ef(this.application.id).then((e=>{const t=e.some((e=>e.meta.isDeploying));this.polling?t||this.stageDeployCompleted():t&&this.startPollingForDeployStatus(),this.instanceStatusMap=new Map(e.map((e=>{const t=this.instanceStatusMap.get(e.id);return[e.id,{...t,...e.meta,flowLastUpdatedSince:e.flowLastUpdatedSince}]})))})).catch((e=>{console.error(e)}))}}},Vv=a(6397),jv={};jv.styleTagTransform=or(),jv.setAttributes=ar(),jv.insert=er().bind(null,"head"),jv.domAPI=Qo(),jv.insertStyleElement=nr(),Xo()(Vv.Z,jv),Vv.Z&&Vv.Z.locals&&Vv.Z.locals;var Pv=(0,f.Z)(Uv,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("PlusSmIcon"),l=(0,n.up)("ff-button"),c=(0,n.up)("SectionTopMenu"),d=(0,n.up)("PipelineRow"),p=(0,n.up)("EmptyState");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(c,{hero:"DevOps Pipelines","help-header":"FlowForge - DevOps Pipelines",info:"Configure automated deployments between your Instances"},{helptext:(0,n.w5)((()=>[Yf,zf,Kf])),tools:(0,n.w5)((()=>[(0,n.Wm)(l,{"data-action":"pipeline-add",to:{name:"CreatePipeline",params:{applicationId:a.application.id}},disabled:!o.featureEnabled},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Add Pipeline ")])),_:1},8,["to","disabled"])])),_:1}),s.pipelines?.length>0?((0,n.wg)(),(0,n.iD)("div",Xf,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.pipelines,(e=>((0,n.wg)(),(0,n.j4)(d,{key:e.id,application:a.application,pipeline:e,"instance-status-map":s.instanceStatusMap,onStageDeployStarting:o.stageDeployStarting,onStageDeployStarted:o.startPollingForDeployStatus,onPipelineDeleted:o.loadPipelines,onStageDeleted:t=>o.stageDeleted(e,t)},null,8,["application","pipeline","instance-status-map","onStageDeployStarting","onStageDeployStarted","onPipelineDeleted","onStageDeleted"])))),128))])):((0,n.wg)(),(0,n.j4)(p,{key:1,featureUnavailable:!o.featureEnabled},{header:(0,n.w5)((()=>[(0,n.Uk)("Add your Application's First DevOps Pipeline")])),img:(0,n.w5)((()=>[$f])),message:(0,n.w5)((()=>[Qf,Jf,ev])),actions:(0,n.w5)((()=>[(0,n.Wm)(l,{to:{name:"CreatePipeline",params:{applicationId:a.application.id}},disabled:!o.featureEnabled},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Add Pipeline ")])),_:1},8,["to","disabled"])])),_:1},8,["featureUnavailable"]))],64)}]]);const Zv={class:"flex flex-col sm:flex-row mt-9 ml-6","data-el":"application-settings"},Mv={class:"space-y-6"},Bv={class:"space-y-6"},Fv={class:"space-x-4 whitespace-nowrap"},Wv={key:1,class:"flex gap-x-3"},Nv={class:"flex flex-col space-y-4 max-w-2xl"},Rv={class:"flex-grow"},Lv={class:"max-w-sm"},qv={class:"min-w-fit flex-shrink-0"};var Hv={name:"ProjectSettings",components:{SectionTopMenu:Wa,SectionSideMenu:Re,FormHeading:Pe.Z,FormRow:Ae.Z},mixins:[Pd],inheritAttrs:!1,props:{application:{type:Object,required:!0}},emits:["application-delete","application-updated"],data(){return{sideNavigation:[{name:"General",path:"./settings"}],input:{projectName:this.application.name,projectId:this.application.id,application:this.application},editing:!1,options:{instances:[]}}},computed:{formValid(){return this.input.projectName},getDeleteApplicationText(){return 0===this.options.instances?"Once deleted, your application  permanently deleted. This cannot be undone.":"Once you delete all your instances of this application, you can delete this application."}},mounted(){this.loadInstances(this.application.id)},methods:{loadInstances(e){Cf(e).then((e=>{this.options.instances=e?.length||0})).catch((e=>{console.error(e)}))},editName(){this.editing=!0,this.$refs.appName.focus()},cancelEditName(){this.editing=!1,this.input.projectName=this.application.name},saveApplication(){var e,t;(e=this.application.id,t=this.input.projectName,ba.Z.put(`/api/v1/applications/${e}`,{name:t}).then((e=>e.data))).then((()=>{this.$emit("application-updated"),Ee.Z.emit("Application updated.","confirmation")})).finally((()=>{this.editing=!1})).catch((()=>{Ee.Z.emit("Unable to update Application.","warning")}))}}},Ov=(0,f.Z)(Hv,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),c=(0,n.up)("SectionSideMenu"),d=(0,n.up)("FormHeading"),p=(0,n.up)("FormRow"),u=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{hero:"Application Settings"}),(0,n._)("div",Zv,[(0,n.Wm)(c,{options:s.sideNavigation},null,8,["options"]),(0,n._)("div",Mv,[(0,n.Wm)(d,{class:"mb-6"},{default:(0,n.w5)((()=>[(0,n.Uk)("Application Details")])),_:1}),(0,n._)("div",Bv,[(0,n.Wm)(p,{id:"projectId",modelValue:s.input.projectId,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.projectId=e),type:"uneditable",inputClass:"font-mono"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Application ID ")])),_:1},8,["modelValue"]),(0,n.Wm)(p,{id:"projectName",ref:"appName",modelValue:s.input.projectName,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.projectName=e),"data-form":"application-name",type:s.editing?"text":"uneditable"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Name ")])),_:1},8,["modelValue","type"])]),(0,n._)("div",Fv,[s.editing?((0,n.wg)(),(0,n.iD)("div",Wv,[(0,n.Wm)(u,{kind:"secondary",onClick:o.cancelEditName},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"]),(0,n.Wm)(u,{kind:"primary",disabled:!o.formValid,"data-form":"submit",onClick:o.saveApplication},{default:(0,n.w5)((()=>[(0,n.Uk)("Save")])),_:1},8,["disabled","onClick"])])):((0,n.wg)(),(0,n.j4)(u,{key:0,kind:"primary","data-action":"application-edit",onClick:o.editName},{default:(0,n.w5)((()=>[(0,n.Uk)("Edit Application Name")])),_:1},8,["onClick"]))]),(0,n.Wm)(d,{class:"text-red-700"},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete Application")])),_:1}),(0,n._)("div",Nv,[(0,n._)("div",Rv,[(0,n._)("div",Lv,(0,l.toDisplayString)(o.getDeleteApplicationText),1)]),(0,n._)("div",qv,[(0,n.Wm)(u,{"data-action":"delete-application",kind:"danger",disabled:s.options.instances>0,onClick:t[2]||(t[2]=t=>e.$emit("application-delete"))},{default:(0,n.w5)((()=>[(0,n.Uk)(" Delete Application ")])),_:1},8,["disabled"])])])])])],64)}]]);const Gv={class:"max-w-2xl m-auto"},Yv={class:"mb-8 text-sm text-gray-500"},zv={key:0},Kv={key:2,class:"text-red-400 text-xs"},Xv={key:3,class:"flex flex-wrap items-stretch"},$v=(0,n._)("label",{class:"w-full block text-sm font-medium text-gray-700"},"Choose your Instance Type",-1),Qv={class:"flex flex-wrap gap-1 items-stretch"},Jv=(0,n._)("label",{class:"w-full block text-sm font-medium text-gray-700 mb-4"},"Choose your Stack",-1),ey={key:0,class:"text-sm text-gray-400"},ty={key:1,class:"text-sm text-gray-400"},ay={key:4,class:"flex flex-wrap gap-1 items-stretch"},iy=(0,n._)("label",{class:"w-full block text-sm font-medium text-gray-700 mb-1"},"Template",-1),ny={key:0,class:"text-sm text-gray-400"},sy={key:1,class:"text-sm text-gray-400"},oy={class:"text-gray-500"},ry={key:6},ly={class:"flex flex-wrap gap-1 items-center"},cy={key:0},dy={key:1},py={key:1,class:"text-sm text-gray-400"};var uy=async e=>ba.Z.get("/ee/billing/teams/"+e).then((e=>e.data)),my=["adorable","adventurous","aggressive","agreeable","alert","alive","amused","average","beautiful","better","bewildered","bored","brainy","brave","breakable","bright","busy","calm","careful","cautious","charming","cheerful","clean","clear","clever","cloudy","colorful","combative","comfortable","concerned","confused","cooperative","courageous","crowded","curious","cute","dangerous","dark","defiant","delightful","determined","different","difficult","distinct","dizzy","doubtful","drab","dull","eager","easy","elated","elegant","enchanting","encouraging","energetic","enthusiastic","envious","excited","expensive","exuberant","fair","famous","fancy","fantastic","fierce","fine","foolish","fragile","friendly","funny","gentle","gifted","glorious","good","graceful","grieving","grumpy","happy","healthy","helpful","helpless","hilarious","hungry","impossible","inexpensive","innocent","inquisitive","jolly","joyous","kind","light","lively","long","lovely","lucky","magnificent","misty","modern","motionless","muddy","mushy","mysterious","nice","open","outrageous","outstanding","perfect","plain","pleasant","poised","powerful","precious","proud","puzzled","quaint","real","relieved","rich","shiny","sleepy","smiling","smoggy","sparkling","splendid","spotless","stormy","strange","successful","super","talented","tame","tasty","tender","thankful","thoughtful","vast","victorious","wandering","witty","zealous"],hy=["brent-goose","canada-goose","barnacle-goose","cackling-goose","snow-goose","greylag-goose","taiga-bean-goose","pink-footed-goose","tundra-bean-goose","white-fronted-goose","lesser-white-fronted-goose","mute-swan","whooper-swan","shelduck","ruddy-shelduck","mandarin-duck","baikal-teal","garganey","blue-winged-teal","shoveler","gadwall","falcated-duck","wigeon","mallard","black-duck","pintail","teal","green-winged-teal","red-crested-pochard","canvasback","redhead","pochard","ferruginous-duck","ring-necked-duck","tufted-duck","scaup","lesser-scaup","king-eider","eider","harlequin-duck","surf-scoter","velvet-scoter","white-winged-scoter","common-scoter","black-scoter","long-tailed-duck","bufflehead","goldeneye","smew","hooded-merganser","goosander","ruddy-duck","red-grouse","ptarmigan","capercaillie","black-grouse","grey-partridge","golden-pheasant","pheasant","quail","red-legged-partridge","common-nighthawk","nightjar","white-throated-needletail","chimney-swift","alpine-swift","swift","pallid-swift","pacific-swift","little-swift","white-rumped-swift","great-spotted-cuckoo","yellow-billed-cuckoo","black-billed-cuckoo","cuckoo","rock-dove","stock-dove","woodpigeon","turtle-dove","collared-dove","mourning-dove","water-rail","corncrake","sora-rail","spotted-crake","moorhen","coot","western-swamphen","little-crake","sandhill-crane","crane","little-grebe","pied-billed-grebe","great-crested-grebe","black-necked-grebe","stone-curlew","oystercatcher","black-winged-stilt","avocet","lapwing","sociable-plover","white-tailed-plover","golden-plover","pacific-golden-plover","grey-plover","ringed-plover","little-ringed-plover","killdeer","kentish-plover","lesser-sand-plover","greater-sand-plover","caspian-plover","dotterel","upland-sandpiper","whimbrel","little-whimbrel","curlew","turnstone","great-knot","broad-billed-sandpiper","sharp-tailed-sandpiper","stilt-sandpiper","curlew-sandpiper","long-toed-stint","sanderling","dunlin","purple-sandpiper","little-stint","least-sandpiper","white-rumped-sandpiper","pectoral-sandpiper","western-sandpiper","long-billed-dowitcher","short-billed-dowitcher","jack-snipe","great-snipe","snipe","terek-sandpiper","grey-phalarope","common-sandpiper","spotted-sandpiper","green-sandpiper","solitary-sandpiper","grey-tailed-tattler","lesser-yellowlegs","redshank","marsh-sandpiper","wood-sandpiper","spotted-redshank","greenshank","greater-yellowlegs","cream-coloured-courser","collared-pratincole","black-winged-pratincole","kittiwake","ivory-gull","slender-billed-gull","black-headed-gull","little-gull","laughing-gull","mediterranean-gull","great-black-headed-gull","common-gull","ring-billed-gull","great-black-backed-gull","glaucous-winged-gull","glaucous-gull","iceland-gull","herring-gull","caspian-gull","yellow-legged-gull","slaty-backed-gull","lesser-black-backed-gull","gull-billed-tern","caspian-tern","royal-tern","lesser-crested-tern","sandwich-tern","elegant-tern","little-tern","least-tern","aleutian-tern","bridled-tern","sooty-tern","roseate-tern","common-tern","arctic-tern","whiskered-tern","white-winged-black-tern","black-tern","south-polar-skua","great-skua","pomarine-skua","arctic-skua","long-tailed-skua","little-auk","common-guillemot","razorbill","great-auk","black-guillemot","long-billed-murrelet","ancient-murrelet","puffin","tufted-puffin","red-billed-tropicbird","red-throated-diver","pacific-diver","great-northern-diver","albatross","storm-petrel","fulmar","great-shearwater","stork","ascension-frigatebird","magnificent-frigatebird","gannet","cormorant","double-crested-cormorant","glossy-ibis","spoonbill","bittern","little-bittern","night-heron","green-heron","cattle-egret","grey-heron","great-blue-heron","purple-heron","great-white-egret","snowy-egret","little-egret","osprey","vulture","honey-buzzard","short-toed-eagle","spotted-eagle","golden-eagle","sparrowhawk","goshawk","marsh-harrier","hen-harrier","northern-harrier","pallid-harrier","red-kite","black-kite","white-tailed-eagle","rough-legged-buzzard","buzzard","barn-owl","little-owl","hawk-owl","scops-owl","long-eared-owl","short-eared-owl","snowy-owl","tawny-owl","hoopoe","roller","kingfisher","belted-kingfisher","blue-cheeked-bee-eater","bee-eater","wryneck","lesser-spotted-woodpecker","great-spotted-woodpecker","green-woodpecker","lesser-kestrel","kestrel","red-footed-falcon","amur-falcon","merlin","hobby","gyr-falcon","peregrine","ring-necked-parakeet","eastern-phoebe","yellow-bellied-flycatcher","acadian-flycatcher","alder-flycatcher","eastern-kingbird","brown-shrike","red-backed-shrike","long-tailed-shrike","lesser-grey-shrike","great-grey-shrike","woodchat-shrike","masked-shrike","yellow-throated-vireo","golden-oriole","jay","magpie","jackdaw","rook","carrion-crow","hooded-crow","raven","waxwing","cedar-waxwing","woodlark","white-winged-lark","skylark","crested-lark","shore-lark","short-toed-lark","bimaculated-lark","calandra-lark","black-lark","sand-martin","tree-swallow","purple-martin","crag-martin","swallow","house-martin","red-rumped-swallow","wood-warbler","yellow-browed-warbler","dusky-warbler","willow-warbler","chiffchaff","iberian-chiffchaff","eastern-crowned-warbler","green-warbler","greenish-warbler","arctic-warbler","great-reed-warbler","aquatic-warbler","sedge-warbler","reed-warbler","marsh-warbler","thick-billed-warbler","booted-warbler","olive-tree-warbler","melodious-warbler","icterine-warbler","lanceolated-warbler","river-warbler","grasshopper-warbler","fan-tailed-warbler","blackcap","garden-warbler","barred-warbler","lesser-whitethroat","whitethroat","spectacled-warbler","dartford-warbler","ruby-crowned-kinglet","firecrest","goldcrest","wren","nuthatch","wallcreeper","treecreeper","short-toed-treecreeper","grey-catbird","northern-mockingbird","brown-thrasher","rose-coloured-starling","starling","varied-thrush","wood-thrush","hermit-thrush","grey-cheeked-thrush","veery","siberian-thrush","song-thrush","mistle-thrush","redwing","blackbird","eyebrowed-thrush","fieldfare","ring-ouzel","black-throated-thrush","red-throated-thrush","dusky-thrush","spotted-flycatcher","asian-brown-flycatcher","robin","siberian-blue-robin","bluethroat","thrush-nightingale","nightingale","red-flanked-bluetail","pied-flycatcher","collared-flycatcher","redstart","rock-thrush","blue-rock-thrush","whinchat","stonechat","wheatear","desert-wheatear","pied-wheatear","dipper","rock-sparrow","tree-sparrow","spanish-sparrow","house-sparrow","alpine-accentor","dunnock","yellow-wagtail","citrine-wagtail","grey-wagtail","pied-wagtail","tawny-pipit","meadow-pipit","tree-pipit","olive-backed-pipit","pechora-pipit","red-throated-pipit","buff-bellied-pipit","water-pipit","rock-pipit","chaffinch","brambling","evening-grosbeak","pine-grosbeak","bullfinch","trumpeter-finch","common-rosefinch","greenfinch","linnet","common-redpoll","lesser-redpoll","arctic-redpoll","parrot-crossbill","crossbill","two-barred-crossbill","goldfinch","citril-finch","serin","siskin","snow-bunting","corn-bunting","yellowhammer","pine-bunting","rock-bunting","ortolan-bunting","cirl-bunting","chestnut-eared-bunting","little-bunting","yellow-browed-bunting","rustic-bunting","chestnut-bunting","reed-bunting","lark-sparrow","song-sparrow","eastern-towhee","bobolink","red-winged-blackbird","ovenbird","northern-waterthrush","golden-winged-warbler","common-yellowthroat","hooded-warbler","northern-parula","magnolia-warbler","blackburnian-warbler","yellow-warbler","chestnut-sided-warbler","blackpoll-warbler","yellow-rumped-warbler","summer-tanager","scarlet-tanager","indigo-bunting"];function gy(e){return e[Math.floor(Math.random()*e.length)]}function fy(){return gy(my)+"-"+gy(hy)+"-"+(1e3+Math.floor(9e3*Math.random()))}const vy={class:"space-y-4 my-3"};var yy={name:"ExportInstanceComponents",components:{FormRow:Ae.Z},props:["modelValue","showSecret","showTemplate","showSettings"],emits:["update:modelValue"],setup(){return{envVarKeyOptions:[{label:"Keys and Values",value:"all"},{label:"Keys Only",value:"keys"}]}},data(){return{envVarOpts:{envVars:!0,envVarsKo:""}}},computed:{parts:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},watch:{envVarOpts:{deep:!0,handler:function(e){e.envVars?this.parts.envVars=e.envVarsKo:this.parts.envVars=!1}}},mounted(){!1===this.parts.envVars?this.envVarOpts.envVars=!1:!0===this.parts.envVars||"all"===this.parts.envVars?(this.envVarOpts.envVars=!0,this.envVarOpts.envVarsKo="all"):(this.envVarOpts.envVars=!0,this.envVarOpts.envVarsKo="keys")}},ky=(0,f.Z)(yy,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),c=(0,n.up)("ff-radio-group");return(0,n.wg)(),(0,n.iD)("div",vy,[(0,n.Wm)(r,{modelValue:o.parts.flows,"onUpdate:modelValue":t[0]||(t[0]=e=>o.parts.flows=e),type:"checkbox"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Flows ")])),_:1},8,["modelValue"]),(0,n._)("div",{class:(0,l.normalizeClass)(o.parts.flows?"opacity-100":"opacity-30")},[(0,n.Wm)(r,{modelValue:o.parts.credentials,"onUpdate:modelValue":t[1]||(t[1]=e=>o.parts.credentials=e),type:"checkbox",disabled:!o.parts.flows},{default:(0,n.w5)((()=>[(0,n.Uk)(" Credentials ")])),_:1},8,["modelValue","disabled"])],2),a.showTemplate?((0,n.wg)(),(0,n.j4)(r,{key:0,modelValue:o.parts.template,"onUpdate:modelValue":t[2]||(t[2]=e=>o.parts.template=e),type:"checkbox"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Template ")])),_:1},8,["modelValue"])):(0,n.kq)("v-if",!0),a.showSecret?((0,n.wg)(),(0,n.j4)(r,{key:1,modelValue:o.parts.credsSecret,"onUpdate:modelValue":t[3]||(t[3]=e=>o.parts.credsSecret=e),type:"text",disabled:!o.parts.flows&&!o.parts.credentials},{description:(0,n.w5)((()=>[(0,n.Uk)("Provide a Secret to encrypt the exported Credentials")])),default:(0,n.w5)((()=>[(0,n.Uk)(" Secret ")])),_:1},8,["modelValue","disabled"])):(0,n.kq)("v-if",!0),a.showSettings?((0,n.wg)(),(0,n.j4)(r,{key:2,modelValue:o.parts.settings,"onUpdate:modelValue":t[4]||(t[4]=e=>o.parts.settings=e),type:"checkbox"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Instance Settings ")])),_:1},8,["modelValue"])):(0,n.kq)("v-if",!0),(0,n.Wm)(r,{modelValue:s.envVarOpts.envVars,"onUpdate:modelValue":t[5]||(t[5]=e=>s.envVarOpts.envVars=e),type:"checkbox"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Environment Variables ")])),_:1},8,["modelValue"]),(0,n._)("div",{class:(0,l.normalizeClass)(["space-y-4",s.envVarOpts.envVars?"opacity-100":"opacity-30"])},[(0,n.Wm)(c,{modelValue:s.envVarOpts.envVarsKo,"onUpdate:modelValue":t[6]||(t[6]=e=>s.envVarOpts.envVarsKo=e),class:"ml-9",orientation:"vertical",options:i.envVarKeyOptions},null,8,["modelValue","options"])],2)])}]]);const by={key:0,class:"pb-4 mb-4 border-b border-gray-300","data-el":"charges-table"},wy=(0,n._)("h1",{class:"text-lg font-medium mb-2 border-b border-gray-700"}," Charges ",-1),xy={class:"grid grid gap-x-1 gap-y-4 text-sm text-sm mt-4 ml-4",style:{"grid-template-columns":"1fr 200px auto"}},Ay={"data-el":"selected-instance-type-name"},Dy={"data-el":"selected-instance-type-cost",class:"text-right"},Sy={key:0,"data-el":"selected-instance-type-interval",class:"text-left"},Ty={key:1},Cy={key:0,"data-el":"credit-balance-row"},Ey={key:1,"data-el":"credit-balance-row"},Iy={"data-el":"credit-balance-amount",class:"text-right"},_y={key:1,class:"text-right ff-description mb-2 space-y-1","data-el":"payable-now-summary"},Uy={key:0};var Vy={methods:{formatCurrency(e){return"number"!=typeof e?e:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e/100)}}},jy={name:"InstanceChargesTable",mixins:[Vy],props:{subscription:{type:Object,default:null},projectType:{type:Object,default:null},trialMode:{type:Boolean,default:!1}},computed:{selectedCostAfterCredit(){return(this.pricingDetails?.cost??0)+(this.subscription?.customer?.balance??0)},pricingDetails(){return this.projectType?{name:this.projectType.name,currency:this.projectType.currency,cost:this.projectType.cost,interval:this.projectType.priceInterval}:{}}}},Py=(0,f.Z)(jy,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)(n.HY,null,[a.projectType&&(o.pricingDetails?.cost>0||a.subscription?.customer?.balance>0)?((0,n.wg)(),(0,n.iD)("div",by,[wy,(0,n._)("div",xy,[o.pricingDetails?.cost?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("div",Ay," 1 x "+(0,l.toDisplayString)(o.pricingDetails.name),1),(0,n._)("div",Dy,[a.trialMode?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)(" Free during the trial, then ")],64)):(0,n.kq)("v-if",!0),(0,n.Uk)(" "+(0,l.toDisplayString)(e.formatCurrency(o.pricingDetails.cost)),1)]),o.pricingDetails?.interval?((0,n.wg)(),(0,n.iD)("div",Sy," /"+(0,l.toDisplayString)(o.pricingDetails.interval),1)):((0,n.wg)(),(0,n.iD)("div",Ty))],64)):(0,n.kq)("v-if",!0),a.subscription?.customer?.balance?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[a.subscription.customer.balance<0?((0,n.wg)(),(0,n.iD)("div",Cy," Credit Balance ")):((0,n.wg)(),(0,n.iD)("div",Ey," Debit Balance ")),(0,n._)("div",Iy,(0,l.toDisplayString)(e.formatCurrency(a.subscription?.customer?.balance)),1)],64)):(0,n.kq)("v-if",!0)])])):(0,n.kq)("v-if",!0),!a.trialMode&&o.selectedCostAfterCredit>=0?((0,n.wg)(),(0,n.iD)("div",_y,[(0,n.Uk)((0,l.toDisplayString)(e.formatCurrency(o.selectedCostAfterCredit))+" now ",1),o.pricingDetails?.interval?((0,n.wg)(),(0,n.iD)("span",Uy," then "+(0,l.toDisplayString)(e.formatCurrency(o.pricingDetails.cost))+" /"+(0,l.toDisplayString)(o.pricingDetails.interval),1)):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0)],64)}]]);const Zy={key:0,class:"w-full text-sm text-blue-600 italic","data-el":"credit-balance-banner"},My={key:1,class:"w-full text-sm text-blue-600 italic","data-el":"credit-balance-banner"};var By={name:"InstanceCreditBanner",mixins:[Vy],props:{subscription:{type:Object,default:null}}},Fy=(0,f.Z)(By,[["render",function(e,t,a,i,s,o){return a.subscription?.customer?.balance&&a.subscription?.customer?.balance<0?((0,n.wg)(),(0,n.iD)("div",Zy,[(0,n.kq)(" Stripe gives credit as a -ve number "),(0,n.Uk)(" You have a credit balance of "+(0,l.toDisplayString)(e.formatCurrency(-1*a.subscription.customer.balance))+" that will be applied to this instance ",1)])):((0,n.wg)(),(0,n.iD)("div",My,[(0,n.kq)(" Stripe gives credit as a -ve number "),(0,n.Uk)(" You owe "+(0,l.toDisplayString)(e.formatCurrency(a.subscription.customer.balance))+" that will be applied to this instance ",1)]))}]]),Wy={name:"InstanceForm",components:{ExportInstanceComponents:ky,FormRow:Ae.Z,InstanceChargesTable:Py,InstanceCreditBanner:Fy,RefreshIcon:wg.Z,SectionTopMenu:Wa},props:{team:{required:!0,type:Object},billingEnabled:{default:!1,type:Boolean},instance:{default:null,type:Object},sourceInstance:{default:null,type:Object},submitErrors:{default:null,type:Object},applications:{default:()=>[],type:Array},applicationSelection:{default:!1,type:Boolean},applicationFieldsLocked:{default:!1,type:Boolean},applicationFieldsVisible:{default:!1,type:Boolean}},emits:["on-submit"],data(){const e=this.instance||this.sourceInstance;let t="",a="";return this.applicationFieldsLocked&&1===this.applications.length&&(t=this.applications[0].label,a=this.applications[0].value),{stacks:[],templates:[],projectTypes:[],subscription:null,input:{applicationName:t,applicationId:a,name:this.instance?.name||fy(),projectType:e?.projectType?.id||e?.projectType||"",stack:e?.stack?.id||e?.stack||"",template:e?.template?.id||e?.template||""},errors:{name:"",projectType:"",stack:"",template:""},copyParts:{flows:!0,credentials:!0,nodes:!0,envVars:"all"},selectedProjectType:null}},computed:{...(0,o.rn)("account",["settings"]),creatingApplication(){return this.applicationSelection&&!this.applications.length||this.creatingNew&&this.applicationFieldsVisible},creatingNew(){return!this.instance?.id},isCopyProject(){return!!this.sourceInstance&&this.creatingNew},projectTypeChanged(){return this.instance?.projectType?.id!==this.input.projectType},projectStackChanged(){return(this.instance?.stack?.id||this.stacks?.[0]?.id)!==this.input.stack},formDirty(){return this.creatingNew||this.projectTypeChanged||this.projectStackChanged},showBilling(){return this.billingEnabled&&(this.creatingNew||this.projectTypeChanged)},formValid(){return this.input.name&&!this.errors.name&&this.input.projectType&&!this.errors.projectType&&this.input.stack&&!this.errors.stack&&(!this.creatingNew||this.input.template&&!this.errors.template)&&(!this.creatingNew||!this.applicationFieldsVisible||this.input.applicationName)&&(!this.applicationSelection||this.input.applicationId)},submitEnabled(){return this.formValid&&this.formDirty},isTrialProjectSelected(){return this.team.billing?.trial&&(!this.team.billing?.active||this.team.billing.trialProjectAllowed&&this.selectedProjectType?.id===this.settings["user:team:trial-mode:projectType"])}},watch:{"input.name":function(e,t){/^[a-zA-Z][a-zA-Z0-9-]*$/.test(e)?this.errors.name="":this.errors.name="Names must only include a→z, A→Z, -, 0→9 and can not start with 0→9"},"input.projectType":async function(e,t){e?await this.updateInstanceType(e):this.selectedProjectType=null}},async created(){const e=kr(),t=Au(),a=(await e).types;this.templates=(await t).templates.filter((e=>e.active));let i=a.length;if(this.billingEnabled){try{this.subscription=await uy(this.team.id)}catch(e){if("not_found"===e.response?.data?.code&&(!this.team.billing?.trial||this.team.billing?.trialEnded))throw e}a.forEach((e=>{const t=this.team.type.properties.instances[e.id],a=this.team.instanceCountByType?.[e.id]||0;if(e.price="",e.priceInterval="",e.currency="",e.cost=0,t&&(t.active?null!==t.limit&&t.limit<=a&&(e.disabled=!0):e.disabled=!0),!e.disabled){let i;if(t?a>=(t.free||0)&&(i=t.description):i=e.properties?.billingDescription,i?([e.price,e.priceInterval]=i.split("/"),e.currency=e.price.replace(/[\d.]+/,""),e.cost=100*(Number(e.price.replace(/[^\d.]+/,""))||0)):(e.price="",e.priceInterval="",e.currency="",e.cost=0),this.team.billing?.trial&&this.team.type.properties?.trial?.instanceType){const t=e.id===this.team.type.properties?.trial?.instanceType;this.team.billing?.active||(e.disabled=!t),t&&this.team.billing?.trialProjectAllowed&&(e.price="Free Trial",e.priceInterval=e.properties?.billingDescription)}}e.disabled&&i--}))}this.projectTypes=a,0===this.projectTypes.length?this.errors.projectType="No instance types available. Ask an Administrator to create a new instance type":1===i&&(this.input.projectType=this.projectTypes.find((e=>!e.disabled)).id),this.creatingNew&&0===this.templates.length&&(this.errors.template="No templates available. Ask an Administrator to create a new template definition"),this.creatingNew&&!this.isCopyProject&&(this.input.template=this.templates[0]?.id||""),this.input.projectType&&this.updateInstanceType(this.input.projectType)},async beforeMount(){this.billingEnabled&&((this.team.billing?.active??1)||(this.team.billing?.canceled||!this.team.billing?.trial||this.team.billing?.trialEnded||this.team.type.properties?.trial?.instanceType&&this.team.instanceCount>0)&&this.$router.push({path:`/team/${this.team.slug}/billing`}))},methods:{refreshName(){this.input.name=fy()},findStackById(e){return this.stacks.find((t=>t.id===e))},async updateInstanceType(e){const t=this.projectTypes.find((t=>t.id===e));this.selectedProjectType=t,await this.updateStacks(t)},async updateStacks(e){this.errors.stack="";const t=await Er(null,null,null,e.id);if(this.stacks=t.stacks.filter((e=>e.active)),0===this.stacks.length)return this.input.stack=null,void(this.errors.stack="No stacks available for this instance type. Ask an Administrator to create a new stack definition");this.sourceInstance?.stack&&this.findStackById(this.sourceInstance.stack.id)?this.input.stack=this.sourceInstance.stack.id:this.instance?.stack&&this.findStackById(this.instance.stack.id)?this.input.stack=this.instance.stack.id:e.defaultStack&&this.findStackById(e.defaultStack)?this.input.stack=e.defaultStack:this.input.stack=this.stacks[0]?.id}}},Ny=(0,f.Z)(Wy,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),c=(0,n.up)("FormRow"),d=(0,n.up)("RefreshIcon"),p=(0,n.up)("ff-button"),u=(0,n.up)("InstanceCreditBanner"),m=(0,n.up)("ff-tile-selection-option"),h=(0,n.up)("ff-tile-selection"),g=(0,n.up)("ExportInstanceComponents"),f=(0,n.up)("InstanceChargesTable");return(0,n.wg)(),(0,n.iD)("form",{class:"space-y-6",onSubmit:t[9]||(t[9]=(0,Oe.withModifiers)((t=>e.$emit("on-submit",s.input,s.copyParts)),["prevent"]))},[(0,n.Wm)(r,{hero:o.creatingNew?o.creatingApplication?"Create a new Application & Instance":"Create Instance":"Update Instance"},null,8,["hero"]),(0,n.kq)(" Form title "),(0,n._)("div",Yv,[o.creatingNew?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[a.applicationSelection?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)(" Let's get your new Node-RED instance setup in no time. ")],64)):o.isCopyProject?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)(" Let's get your new Node-RED application and first instance setup in no time. ")],64))],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)(" Here you can make changes to the instances settings. ")],64))]),(0,n.kq)(" Application Selection "),a.applicationSelection&&a.applications.length>0?((0,n.wg)(),(0,n.iD)("div",zv,[(0,n.Wm)(c,{modelValue:s.input.applicationId,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.applicationId=e),options:a.applications,error:s.errors.applicationId||a.submitErrors?.applicationId,disabled:a.applicationFieldsLocked,"data-form":"application-id"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Application ")])),_:1},8,["modelValue","options","error","disabled"])])):o.creatingApplication?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.kq)(" No Existing Applications, or we are creating a new one "),(0,n._)("div",null,[(0,n.Wm)(c,{modelValue:s.input.applicationName,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.applicationName=e),error:s.errors.applicationName||a.submitErrors?.applicationName,disabled:!o.creatingNew||a.applicationFieldsLocked,placeholder:"My Application Name","data-form":"application-name"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Application Name ")])),_:1},8,["modelValue","error","disabled"])])],2112)):(0,n.kq)("v-if",!0),(0,n.kq)(" Instance Name "),(0,n._)("div",null,[(0,n.Wm)(c,{modelValue:s.input.name,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.name=e),error:s.errors.name||a.submitErrors?.name,disabled:!o.creatingNew,"data-form":"project-name"},(0,n.Nv)({default:(0,n.w5)((()=>[(0,n.Uk)(" Instance Name ")])),_:2},[o.creatingNew?{name:"description",fn:(0,n.w5)((()=>[(0,n.Uk)(" The instance name is used to access the editor so must be suitable for using in a url. It is not currently possible to rename the instance after it has been created. ")])),key:"0"}:void 0,o.creatingNew?{name:"append",fn:(0,n.w5)((()=>[(0,n.Wm)(p,{kind:"secondary",onClick:o.refreshName},{icon:(0,n.w5)((()=>[(0,n.Wm)(d)])),_:1},8,["onClick"])])),key:"1"}:void 0]),1032,["modelValue","error","disabled"])]),(0,n.kq)(" Instance Type "),s.errors.projectTypes?((0,n.wg)(),(0,n.iD)("div",Kv,(0,l.toDisplayString)(s.errors.projectTypes),1)):((0,n.wg)(),(0,n.iD)("div",Xv,[$v,(0,n.Wm)(u,{subscription:s.subscription},null,8,["subscription"]),(0,n.Wm)(h,{modelValue:s.input.projectType,"onUpdate:modelValue":t[3]||(t[3]=e=>s.input.projectType=e),class:"mt-5","data-form":"project-type"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.projectTypes,((e,t)=>((0,n.wg)(),(0,n.j4)(m,{key:t,label:e.name,description:e.description,price:e.price,"price-interval":e.priceInterval,value:e.id,disabled:e.disabled},null,8,["label","description","price","price-interval","value","disabled"])))),128))])),_:1},8,["modelValue"])])),(0,n.kq)(" Stack "),(0,n._)("div",Qv,[Jv,s.input.projectType?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("label",ey," Please select a Instance Type first.")),s.errors.stack?((0,n.wg)(),(0,n.iD)("label",ty,(0,l.toDisplayString)(s.errors.stack),1)):(0,n.kq)("v-if",!0),s.input.projectType?((0,n.wg)(),(0,n.j4)(h,{key:2,modelValue:s.input.stack,"onUpdate:modelValue":t[4]||(t[4]=e=>s.input.stack=e),"data-form":"instance-stack"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.stacks,((e,t)=>((0,n.wg)(),(0,n.j4)(m,{key:t,value:e.id,label:e.label||e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])):(0,n.kq)("v-if",!0)]),(0,n.kq)(" Template "),o.creatingNew&&s.templates.length>1?((0,n.wg)(),(0,n.iD)("div",ay,[iy,s.input.projectType&&s.input.stack?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("label",ny,"Please select a Instance Type & Stack first.")),s.errors.template?((0,n.wg)(),(0,n.iD)("label",sy,(0,l.toDisplayString)(s.errors.template),1)):(0,n.kq)("v-if",!0),s.input.projectType&&s.input.stack?((0,n.wg)(),(0,n.j4)(h,{key:2,modelValue:s.input.template,"onUpdate:modelValue":t[5]||(t[5]=e=>s.input.template=e),"data-form":"project-template"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.templates,((e,t)=>((0,n.wg)(),(0,n.j4)(m,{key:t,value:e.id,disabled:o.isCopyProject,label:e.name,description:e.description},null,8,["value","disabled","label","description"])))),128))])),_:1},8,["modelValue"])):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0),(0,n.kq)(" Copying a instance "),o.isCopyProject?((0,n.wg)(),(0,n.iD)(n.HY,{key:5},[(0,n._)("p",oy," Select the components to copy from '"+(0,l.toDisplayString)(a.sourceInstance?.name)+"' ",1),(0,n.Wm)(g,{id:"exportSettings",modelValue:s.copyParts,"onUpdate:modelValue":t[6]||(t[6]=e=>s.copyParts=e)},null,8,["modelValue"])],64)):(0,n.kq)("v-if",!0),(0,n.kq)(" Billing details "),o.showBilling?((0,n.wg)(),(0,n.iD)("div",ry,[(0,n.Wm)(f,{confirmed:o.submitEnabled,"onUpdate:confirmed":t[7]||(t[7]=e=>o.submitEnabled=e),"project-type":s.selectedProjectType,subscription:s.subscription,trialMode:o.isTrialProjectSelected},null,8,["confirmed","project-type","subscription","trialMode"])])):(0,n.kq)("v-if",!0),(0,n.kq)(" Submit "),(0,n._)("div",ly,[o.creatingNew?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.j4)(p,{key:0,class:"ff-btn--secondary",onClick:t[8]||(t[8]=t=>e.$router.back())},{default:(0,n.w5)((()=>[(0,n.Uk)(" Cancel ")])),_:1})),(0,n.Wm)(p,{disabled:!o.submitEnabled,"data-action":o.creatingNew?"create-project":"update-project",type:"submit"},{default:(0,n.w5)((()=>[o.creatingNew?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[a.applicationFieldsVisible?((0,n.wg)(),(0,n.iD)("span",cy,"Create Application")):((0,n.wg)(),(0,n.iD)("span",dy,"Create Instance"))],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)(" Confirm Changes ")],64))])),_:1},8,["disabled","data-action"]),o.creatingNew||o.formDirty?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("label",py," No changes have been made "))])],32)}]]),Ry={name:"ApplicationCreateInstance",components:{InstanceForm:Ny,NavItem:oa.Z,SideNavigation:pa},inheritAttrs:!1,props:{application:{required:!0,type:Object},sourceInstanceId:{default:null,type:String}},emits:["application-updated"],data(){return{icons:{chevronLeft:sa.Z},loading:!1,sourceInstance:null,mounted:!1,errors:{name:""},instanceDetails:null}},computed:{...(0,o.rn)("account",["features","team"])},created(){this.sourceInstanceId&&jh(this.sourceInstanceId).then((e=>{this.sourceInstance=e})).catch((e=>{console.error("Failed to load source instance",e)}))},async mounted(){this.mounted=!0},methods:{async handleFormSubmit(e,t){this.loading=!0;const{applicationName:a,...i}=e;try{await this.createInstance(i,t),await this.$store.dispatch("account/refreshTeam"),this.$emit("application-updated"),this.$router.push({name:"ApplicationInstances",params:{id:this.application.id}})}catch(e){this.instanceDetails=i,409===e.response?.status?this.errors.name=e.response.data.error:400===e.response?.status?Ee.Z.emit("Failed to create instance: "+e.response.data.error,"warning",7500):(Ee.Z.emit("Failed to create instance"),console.error(e))}this.loading=!1},createInstance(e,t){const a={...e,applicationId:this.application.id};return this.sourceInstance?.id&&(a.sourceProject={id:this.sourceInstanceId,options:{...t}}),this.features.ha&&a.isHA&&(a.ha={replicas:2}),delete a.isHA,Vh(a)}}},Ly=(0,f.Z)(Ry,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("nav-item"),l=(0,n.up)("SideNavigation"),c=(0,n.up)("ff-loading"),d=(0,n.up)("InstanceForm");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-sidenav"},[(0,n.Wm)(l,null,{options:(0,n.w5)((()=>[(0,n._)("a",{onClick:t[0]||(t[0]=t=>e.$router.back())},[(0,n.Wm)(r,{icon:s.icons.chevronLeft,label:"Back"},null,8,["icon"])])])),_:1})])):(0,n.kq)("v-if",!0),(0,n._)("main",null,[(0,n._)("div",Gv,[s.loading?((0,n.wg)(),(0,n.j4)(c,{key:0,message:"Creating instance..."})):a.sourceInstanceId&&!s.sourceInstance?((0,n.wg)(),(0,n.j4)(c,{key:1,message:"Loading instance to Copy From..."})):((0,n.wg)(),(0,n.j4)(d,{key:2,instance:s.instanceDetails,"source-instance":s.sourceInstance,team:e.team,applicationFieldsLocked:!!a.application?.id,"billing-enabled":!!e.features.billing,"submit-errors":s.errors,onOnSubmit:o.handleFormSubmit},null,8,["instance","source-instance","team","applicationFieldsLocked","billing-enabled","submit-errors","onOnSubmit"]))])])],64)}]]);const qy=(0,n._)("div",{class:"ff-nested-title"},"Application",-1),Hy={key:3},Oy={key:4,class:"ff-with-status-header"},Gy={key:0,class:"ff-banner","data-el":"banner-project-as-admin"},Yy={class:"ff-instance-header"},zy={class:"flex-grow space-x-6 items-center inline-flex","data-el":"application-name"},Ky={class:"text-gray-800 text-xl font-bold"},Xy=(0,n._)("div",{class:"text-sm font-medium text-gray-500"},"Application:",-1),$y={class:"px-3 py-3 md:px-6 md:py-6"};var Qy=a(2577),Jy=a(9030);const ek={class:"ff-section-header flex flex-wrap border-b border-gray-300 text-gray-500 justify-between px-6 py-4 items-center"},tk={class:"flex"},ak={class:"w-full flex items-center md:w-auto mr-8 gap-x-2"},ik={key:0},nk={class:"w-full md:w-auto flex-grow text-right"};var sk={name:"InstanceStatusHeader",props:{hero:{type:String,default:null}},setup(e,{slots:t}){const a=(0,et.iH)(!1);return t.tools&&t.tools().length&&(a.value=!0),{hasTools:a}},computed:{hasInfoDialog(){return!!this.$slots.helptext}},methods:{openInfoDialog(){this.$refs["help-dialog"].show()}}},ok=(0,f.Z)(sk,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)("div",ek,[(0,n._)("div",tk,[(0,n._)("div",ak,[(0,n.WI)(e.$slots,"hero")])]),i.hasTools?((0,n.wg)(),(0,n.iD)("ul",ik,[(0,n._)("li",nk,[(0,n.WI)(e.$slots,"tools")])])):(0,n.kq)("v-if",!0)])}]]);const rk=["loading","installing","starting","stopping","restarting","suspending","importing"];var lk={props:{instance:{type:Object,required:!0}},emits:["instance-updated"],data(){return{checkInterval:null,checkWaitTime:1e3}},watch:{instance:"checkForUpdateIfNeeded","instance.pendingStateChange":"checkForUpdateIfNeeded","instance.meta.state":"checkForUpdateIfNeeded"},mounted(){this.checkForUpdateIfNeeded()},unmounted(){clearTimeout(this.checkInterval)},methods:{checkForUpdateIfNeeded(){clearTimeout(this.checkInterval),this.shouldCheckForUpdate(this.instance)?this.scheduleUpdate(this.instance.id):this.checkWaitTime=1e3},scheduleUpdate(){this.checkInterval=setTimeout((async()=>{if(this.checkWaitTime*=1.15,this.instance.id){const e=await jh(this.instance.id);this.$emit("instance-updated",e)}}),this.checkWaitTime)},shouldCheckForUpdate(e){return!(e.optimisticStateChange||(!e.meta?.state||!rk.includes(e.meta.state))&&!e.pendingStateChange)}}},ck=(0,f.Z)(lk,[["render",function(e,t,a,i,n,s){return null}]]);const dk={class:"ff-side-navigation--primary"},pk={class:"ff-side-navigation--options"},uk={key:1,class:"ff-side-navigation-divider"},mk={key:0,class:"ff-navigation-divider"},hk=[(0,n._)("label",null,"Team Admin Zone",-1)],gk={key:1,class:"ff-side-navigation--admin"},fk={class:"ff-side-navigation--nested"};var vk=a(8169),yk=a(5413),kk=a(6310),bk={name:"FFSideNavigationTeamOptions",components:{NavItem:oa.Z},mixins:[Pd],props:{mobileMenuOpen:{type:Boolean,default:!1}},emits:["option-selected"],data(){return{closeNested:!1,loaded:!1}},computed:{...(0,o.rn)("account",["user","team","teamMembership","features","notifications"]),nested:function(){return this.$slots["nested-menu"]&&this.loaded||this.closeNested},navigation(){const e={general:[{label:"Applications",to:"/applications",tag:"team-applications",icon:j.Z},{},{label:"Instances",to:"/instances",tag:"team-instances",icon:Ti()},{label:"Devices",to:"/devices",tag:"team-devices",icon:vk.Z},{},{label:"Library",to:"/library",tag:"shared-library",icon:yk.Z,featureUnavailable:!this.features?.["shared-library"]},{label:"Members",to:"/members",tag:"team-members",icon:bh.Z}],admin:[{label:"Audit Log",to:"/audit-log",tag:"team-audit",icon:Ah.Z},{label:"Team Settings",to:"/settings",tag:"team-settings",icon:aa.Z}]};return this.features?.billing&&e.admin.splice(1,0,{label:"Billing",to:"/billing",tag:"team-billing",icon:kk.Z}),e}},mounted(){this.loaded=!0},beforeMount(){const e=this.$router.options.history.state.back;!e||0!==e.indexOf("/project")&&0!==e.indexOf("/device")||(this.closeNested=!0,setTimeout((()=>{this.closeNested=!1}),50))},beforeUnmount(){this.loaded=!1},methods:{atNestedRoute(e){return"/devices"===e.to&&0===this.$route.path.indexOf("/device")||"/applications"===e.to&&0===this.$route.path.indexOf("/application")||"/instances"===e.to&&0===this.$route.path.indexOf("/instance")||void 0},switchTeam(){this.teamSelectionOpen=!this.teamSelectionOpen},selectTeam(e){e&&(this.$router.push({name:"Team",params:{team_slug:e.slug}}),this.switchTeam())},createTeam(){this.$router.push({name:"CreateTeam"}),this.switchTeam()}}},wk=(0,f.Z)(bk,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("nav-item"),c=(0,n.up)("router-link");return e.team?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,l.normalizeClass)(["ff-side-navigation",{minimised:o.nested}])},[(0,n._)("div",dk,[(0,n.kq)(" Team Options: General "),(0,n._)("ul",pk,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.navigation.general,(a=>((0,n.wg)(),(0,n.iD)("div",{key:a.label},[a.label?((0,n.wg)(),(0,n.j4)(c,{key:0,class:(0,l.normalizeClass)({"router-link-active":o.atNestedRoute(a)}),to:"/team/"+e.team.slug+a.to,"data-nav":a.tag,onClick:t[0]||(t[0]=t=>e.$emit("option-selected"))},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{label:a.label,icon:a.icon,featureUnavailable:a.featureUnavailable},null,8,["label","icon","featureUnavailable"])])),_:2},1032,["class","to","data-nav"])):((0,n.wg)(),(0,n.iD)("div",uk))])))),128))]),e.hasPermission("team:edit")?((0,n.wg)(),(0,n.iD)("span",mk,hk)):(0,n.kq)("v-if",!0),(0,n.kq)(" Team Options: Admin "),e.hasPermission("team:edit")?((0,n.wg)(),(0,n.iD)("ul",gk,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.navigation.admin,(t=>((0,n.wg)(),(0,n.j4)(c,{key:t.label,to:"/team/"+e.team.slug+t.to,"data-nav":t.tag},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:t.icon,label:t.label,featureUnavailable:t.featureUnavailable},null,8,["icon","label","featureUnavailable"])])),_:2},1032,["to","data-nav"])))),128))])):(0,n.kq)("v-if",!0)]),(0,n._)("div",fk,[(0,n.WI)(e.$slots,"nested-menu")])],2)):(0,n.kq)("v-if",!0)}]]);const xk={key:0},Ak={key:1},Dk=(0,n._)("strong",null,"Billing settings",-1);var Sk={name:"SubscriptionExpired",components:{ExclamationCircleIcon:ki.Z,ChevronRightIcon:lv.Z},mixins:[Pd],props:{team:{type:Object,required:!0}},computed:{...(0,o.rn)("account",["teamMembership"]),billingPath(){return"/team/"+this.team.slug+"/billing"},linkToBilling(){return this.hasPermission("team:edit")&&!this.onBillingPage},onBillingPage(){return this.$route.path.includes(this.billingPath)},subscriptionPastDue(){return this.team.billing?.pastDue},subscriptionExpired(){return this.team.billing?.canceled}},methods:{navigateToBilling(){this.linkToBilling&&this.$router.push(this.billingPath)}}},Tk=(0,f.Z)(Sk,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ExclamationCircleIcon"),c=(0,n.up)("ChevronRightIcon");return o.subscriptionExpired||o.subscriptionPastDue?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,l.normalizeClass)(["ff-banner ff-banner-warning",{"cursor-pointer":o.linkToBilling}]),"data-el":"banner-subscription-expired",onClick:t[0]||(t[0]=(...e)=>o.navigateToBilling&&o.navigateToBilling(...e))},[(0,n._)("span",null,[(0,n.Wm)(r,{class:"ff-icon mr-2"}),o.subscriptionExpired?((0,n.wg)(),(0,n.iD)("span",xk,"The subscription for this team has expired.")):o.subscriptionPastDue?((0,n.wg)(),(0,n.iD)("span",Ak,"The subscription for this team has over due payments.")):(0,n.kq)("v-if",!0),o.linkToBilling?((0,n.wg)(),(0,n.iD)(n.HY,{key:2},[(0,n.Uk)(" Please visit "),Dk,(0,n.Uk)(" to update. ")],64)):e.hasPermission("team:edit")?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)(n.HY,{key:3},[(0,n.Uk)(" Please ask a team administrator to update the subscription. ")],64))]),o.linkToBilling?((0,n.wg)(),(0,n.j4)(c,{key:0,class:"ff-icon align-self-right"})):(0,n.kq)("v-if",!0)],2)):(0,n.kq)("v-if",!0)}]]);const Ck={key:0},Ek={class:"font-bold"},Ik={key:0},_k={key:1},Uk={key:1},Vk={key:0};var jk={name:"TeamTrialBanner",components:{ExclamationCircleIcon:ki.Z,ChevronRightIcon:lv.Z},mixins:[Pd],props:{team:{type:Object,required:!0}},computed:{...(0,o.rn)("account",["teamMembership"]),billingPath(){return"/team/"+this.team.slug+"/billing"},linkToBilling(){return this.hasPermission("team:edit")&&!this.onBillingPage},onBillingPage(){return this.$route.path.includes(this.billingPath)},trialEndsIn(){if(this.team.billing?.trialEndsAt){const e=new Date(this.team.billing.trialEndsAt),t=Math.ceil((e.getTime()-Date.now())/864e5);return t+" day"+(1!==t?"s":"")}return""}},methods:{navigateToBilling(){this.linkToBilling&&this.$router.push(this.billingPath)}}},Pk=(0,f.Z)(jk,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ExclamationCircleIcon"),c=(0,n.up)("ChevronRightIcon");return a.team.billing?.trial?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,l.normalizeClass)(["ff-banner",{"ff-banner-warning":!a.team.billing?.active,"ff-banner-info":a.team.billing?.active,"cursor-pointer":o.linkToBilling}]),"data-el":"banner-team-trial",onClick:t[0]||(t[0]=(...e)=>o.navigateToBilling&&o.navigateToBilling(...e))},[(0,n._)("span",null,[(0,n.Wm)(r,{class:"ff-icon mr-2"}),a.team.billing?.trialEnded?((0,n.wg)(),(0,n.iD)("span",Uk,[(0,n.Uk)(" Your trial has ended. "),a.team.billing?.active?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("span",Vk," You will need to setup billing to continuing using this team. "))])):((0,n.wg)(),(0,n.iD)("span",Ck,[(0,n.Uk)(" You have "),(0,n._)("span",Ek,(0,l.toDisplayString)(o.trialEndsIn)+" left",1),(0,n.Uk)(" of your free trial. "),a.team.billing?.active?((0,n.wg)(),(0,n.iD)("span",Ik," You trial instances will be added to your billing subscription at the end of your trial. ")):((0,n.wg)(),(0,n.iD)("span",_k," Click here to setup billing at any time to keep your instances running after the trial the ends. "))]))]),o.linkToBilling?((0,n.wg)(),(0,n.j4)(c,{key:0,class:"ff-icon align-self-right"})):(0,n.kq)("v-if",!0)],2)):(0,n.kq)("v-if",!0)}]]);class Zk{constructor(e){this.instance=e}setStateOptimistically(e){this.instance.optimisticStateChange=!0,this.instance.pendingStateChange=!1,e&&(this.prevState=this.instance.meta.state,this.instance.meta.state=e)}setStateAsPendingFromServer(e=null){this.instance.optimisticStateChange=!1,this.instance.pendingStateChange=!0,e&&(this.prevState=this.instance.meta.state,this.instance.meta.state=e)}restoreState(){this.clearState(),this.instance.meta.state=this.prevState}clearState(){this.instance.optimisticStateChange=!1,this.instance.pendingStateChange=!1}}const Mk={class:"mt-2 space-y-2"},Bk=(0,n._)("p",null," Are you sure you want to delete this instance and the application that contains it? Once deleted, there is no going back. ",-1),Fk={class:"flex"};var Wk={name:"ConfirmInstanceDeleteDialog",components:{FormRow:Ae.Z},emits:["confirm"],setup(){return{show(e){this.instance=e,this.$refs.dialog.show()}}},data(){return{input:{instanceName:""},instance:null}},computed:{formValid(){return this.instance?.name&&this.input.instanceName===this.instance.name}},methods:{confirm(){this.formValid&&this.$emit("confirm",this.instance)}}},Nk=(0,f.Z)(Wk,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),c=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(c,{ref:"dialog","confirm-label":"Delete","data-el":"delete-instance-dialog",header:"Delete Instance",kind:"danger","disable-primary":!o.formValid,onConfirm:t[2]||(t[2]=e=>o.confirm())},{default:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-6",onSubmit:t[1]||(t[1]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n._)("div",Mk,[Bk,(0,n._)("p",Fk,[(0,n.Uk)(" Enter the instance name "),(0,n._)("code",null,(0,l.toDisplayString)(s.instance?.name),1),(0,n.Uk)(" to continue. ")])]),(0,n.Wm)(r,{modelValue:s.input.instanceName,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.instanceName=e),"data-form":"instance-name"},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),_:1},8,["modelValue"])],32)])),_:1},8,["disable-primary"])}]]);const Rk={class:"mt-2 space-y-2"},Lk=(0,n._)("p",null," Are you sure you want to delete this application? Once deleted, there is no going back. ",-1),qk={class:"flex"};var Hk={name:"ConfirmApplicationDeleteDialog",components:{FormRow:Ae.Z},emits:["confirm"],setup(){return{show(e){this.$refs.dialog.show(),this.application=e}}},data(){return{input:{projectName:""},formValid:!1,application:null}},watch:{input:{handler:function(e){this.formValid=this.application.name===e.projectName},deep:!0}},methods:{confirm(){this.formValid&&this.$emit("confirm")}}},Ok={name:"ProjectPage",components:{ConfirmApplicationDeleteDialog:(0,f.Z)(Hk,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),c=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(c,{ref:"dialog","disable-primary":!s.formValid,"confirm-label":"Delete","data-el":"delete-application-dialog",header:"Delete Application",kind:"danger",onConfirm:t[2]||(t[2]=e=>o.confirm())},{default:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-6",onSubmit:t[1]||(t[1]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n._)("div",Rk,[Lk,(0,n._)("p",qk,[(0,n.Uk)(" Enter the application name "),(0,n._)("code",null,(0,l.toDisplayString)(s.application?.name),1),(0,n.Uk)(" to continue. ")])]),(0,n.Wm)(r,{id:"projectName",modelValue:s.input.projectName,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.projectName=e),"data-form":"application-name"},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),_:1},8,["modelValue"])],32)])),_:1},8,["disable-primary"])}]]),ConfirmInstanceDeleteDialog:Nk,InstanceStatusHeader:ok,InstanceStatusPolling:ck,NavItem:oa.Z,SideNavigationTeamOptions:wk,SubscriptionExpiredBanner:Tk,TeamTrialBanner:Pk},mixins:[Pd],data:function(){return{mounted:!1,application:{},applicationInstances:new Map,loading:{deleting:!1,suspend:!1}}},computed:{...(0,o.rn)("account",["teamMembership","team","features"]),isVisitingAdmin(){return this.teamMembership.role===nh.Roles.Admin},isLoading(){return this.loading.deleting||this.loading.suspend},navigation(){return[{label:"Node-RED Instances",path:`/application/${this.application.id}/instances`,tag:"application-overview",icon:Ti()},{label:"DevOps Pipelines",path:`/application/${this.application.id}/pipelines`,tag:"application-pipelines",icon:Di(),featureUnavailable:!this.features?.["devops-pipelines"]},{label:"Node-RED Logs",path:`/application/${this.application.id}/logs`,tag:"application-logs",icon:Qy.Z},{label:"Audit Log",path:`/application/${this.application.id}/activity`,tag:"application-activity",icon:Jy.Z},{label:"Settings",path:`/application/${this.application.id}/settings`,tag:"application-settings",icon:aa.Z}]},instancesArray(){return Array.from(this.applicationInstances.values())}},async created(){await this.updateApplication(),this.$watch((()=>this.$route.params.id),(async()=>{await this.updateApplication()}))},mounted(){this.mounted=!0},methods:{async updateApplication(){const e=this.$route.params.id;try{this.applicationInstances=[];const t=(e=>ba.Z.get(`/api/v1/applications/${e}`).then((e=>(e.data.createdSince=(0,va.Z)(e.data.createdAt),e.data.updatedSince=(0,va.Z)(e.data.updatedAt),e.data))))(e),a=Cf(e);this.application=await t;const i=await a;this.applicationInstances=new Map,i.forEach((e=>{this.applicationInstances.set(e.id,e)})),Ef(e).then((e=>{e.forEach((e=>{this.applicationInstances.set(e.id,{...this.applicationInstances.get(e.id),...e})}))})).catch((e=>{console.error(e)})),this.$store.dispatch("account/setTeam",this.application.team.slug)}catch(e){this.$router.push({name:"PageNotFound",params:{pathMatch:this.$router.currentRoute.value.path.substring(1).split("/")},query:this.$router.currentRoute.value.query,hash:this.$router.currentRoute.value.hash})}},instanceUpdated:function(e){new Zk(e).clearState(),this.applicationInstances.set(e.id,{...this.applicationInstances.get(e.id),...e})},showConfirmDeleteApplicationDialog(){this.$refs.confirmApplicationDeleteDialog.show(this.application)},async deleteApplication(){this.loading.deleting=!0;try{await(e=this.application.id,t=this.team.id,ba.Z.delete(`/api/v1/applications/${e}`).then((()=>{const a=(new Date).toISOString();Uh.Z.capture("$ff-application-deleted",{"deleted-at":a},{team:t,application:e}),Uh.Z.groupUpdate("application",e,{deleted:!0,"deleted-at":a})}))),await this.$store.dispatch("account/refreshTeam"),this.$router.push({name:"Home"}),Ee.Z.emit("Application successfully deleted.","confirmation")}catch(e){e.response.data.error?Ee.Z.emit(`Application failed to delete: ${e.response.data.error}`,"warning",1e4):Ee.Z.emit("Application failed to delete","warning")}var e,t;this.loading.deleting=!1},async instanceStart(e){const t=new Zk(e);t.setStateOptimistically("starting");try{await Mh(e),t.setStateAsPendingFromServer()}catch(e){console.warn("Instance start failed.",e),Ee.Z.emit("Instance start failed.","warning"),t.restoreState()}},async instanceRestart(e){const t=new Zk(e);t.setStateOptimistically("restarting");try{await Bh(e),t.setStateAsPendingFromServer()}catch(e){console.warn("Instance restart failed.",e),Ee.Z.emit("Instance restart failed.","warning"),t.restoreState()}},instanceShowConfirmSuspend(e){Xe.Z.show({header:"Suspend Instance",text:`Are you sure you want to suspend ${e.name}`,confirmLabel:"Suspend",kind:"danger"},(()=>{const t=new Zk(e);t.setStateOptimistically("suspending"),Fh(e).then((()=>{t.setStateAsPendingFromServer(),Ee.Z.emit("Instance suspend request succeeded.","confirmation")})).catch((e=>{console.warn(e),Ee.Z.emit("Instance failed to suspend.","warning"),t.restoreState()}))}))},instanceShowConfirmDelete(e){this.$refs.confirmInstanceDeleteDialog.show(e)},deleteInstance(e){this.loading.deleting=!0,Ph(e).then((async()=>{Ee.Z.emit("Instance successfully deleted.","confirmation"),this.updateApplication()})).catch((e=>{console.warn(e),Ee.Z.emit("Instance failed to delete.","warning")})).finally((()=>{this.loading.deleting=!1}))}}};var Gk=[{path:"/application/:id",redirect:e=>`/application/${e.params.id}/instances`,name:"Application",component:(0,f.Z)(Ok,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("nav-item"),c=(0,n.up)("router-link"),d=(0,n.up)("SideNavigationTeamOptions"),p=(0,n.up)("ff-loading"),u=(0,n.up)("ConfirmApplicationDeleteDialog"),m=(0,n.up)("ConfirmInstanceDeleteDialog"),h=(0,n.up)("SubscriptionExpiredBanner"),g=(0,n.up)("TeamTrialBanner"),f=(0,n.up)("InstanceStatusHeader"),v=(0,n.up)("router-view"),y=(0,n.up)("InstanceStatusPolling");return(0,n.wg)(),(0,n.iD)(n.HY,null,[e.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-sidenav"},[(0,n.Wm)(d,null,{"nested-menu":(0,n.w5)((()=>[qy,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.navigation,(e=>((0,n.wg)(),(0,n.j4)(c,{key:e.label,to:e.path},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:e.icon,label:e.label,"data-nav":e.tag,featureUnavailable:e.featureUnavailable},null,8,["icon","label","data-nav","featureUnavailable"])])),_:2},1032,["to"])))),128))])),_:1})])):(0,n.kq)("v-if",!0),e.loading.deleting?((0,n.wg)(),(0,n.j4)(p,{key:1,message:"Deleting Application..."})):e.loading.suspend?((0,n.wg)(),(0,n.j4)(p,{key:2,message:"Suspending Application..."})):e.application?.id?((0,n.wg)(),(0,n.iD)("main",Oy,[(0,n.Wm)(u,{ref:"confirmApplicationDeleteDialog",onConfirm:o.deleteApplication},null,8,["onConfirm"]),(0,n.Wm)(m,{ref:"confirmInstanceDeleteDialog",onConfirm:o.deleteInstance},null,8,["onConfirm"]),e.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-banner"},[o.isVisitingAdmin?((0,n.wg)(),(0,n.iD)("div",Gy," You are viewing this application as an Administrator ")):(0,n.kq)("v-if",!0),(0,n.Wm)(h,{team:e.team},null,8,["team"]),e.team.billing?.trial?((0,n.wg)(),(0,n.j4)(g,{key:1,team:e.team},null,8,["team"])):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0),(0,n._)("div",Yy,[(0,n.Wm)(f,null,{hero:(0,n.w5)((()=>[(0,n._)("div",zy,[(0,n._)("div",Ky,[Xy,(0,n.Uk)(" "+(0,l.toDisplayString)(e.application.name),1)])])])),_:1})]),(0,n._)("div",$y,[(0,n.Wm)(v,{application:e.application,instances:o.instancesArray,"is-visiting-admin":o.isVisitingAdmin,onApplicationUpdated:o.updateApplication,onApplicationDelete:o.showConfirmDeleteApplicationDialog,onInstanceStart:o.instanceStart,onInstanceRestart:o.instanceRestart,onInstanceSuspend:o.instanceShowConfirmSuspend,onInstanceDelete:o.instanceShowConfirmDelete},null,8,["application","instances","is-visiting-admin","onApplicationUpdated","onApplicationDelete","onInstanceStart","onInstanceRestart","onInstanceSuspend","onInstanceDelete"]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.instancesArray,(e=>((0,n.wg)(),(0,n.j4)(y,{key:e.id,instance:e,onInstanceUpdated:o.instanceUpdated},null,8,["instance","onInstanceUpdated"])))),128))])])):((0,n.wg)(),(0,n.iD)("main",Hy,[(0,n.Wm)(p,{message:"Loading Application..."})]))],64)}]]),meta:{title:"Application - Overview"},children:[{path:"instances",name:"ApplicationInstances",component:xf,meta:{title:"Application - Instances"}},{path:"instances/create",name:"ApplicationCreateInstance",component:Ly,props:e=>({sourceInstanceId:e.query.sourceInstanceId}),meta:{title:"Application - Instances - Create"}},{path:"pipelines",name:"ApplicationPipelines",component:Pv,meta:{title:"Application - Pipelines"}},{path:"settings",component:Ov,meta:{title:"Application - Settings"}},{path:"logs",component:Bg,meta:{title:"Application - Logs"}},{path:"activity",component:qh,meta:{title:"Application - Activity"}},{path:"pipelines/create",name:"CreatePipeline",component:Uf,meta:{title:"Pipeline - Create"}},{path:"pipelines/:pipelineId",name:"EditPipeline",component:Zf,meta:{title:"Pipeline"},redirect:e=>`/application/${e.params.applicationId}/pipelines/${e.params.pipelineId}/stages/create`,children:[{path:"stages/create",name:"CreatePipelineStage",component:Hf,meta:{title:"Pipeline Stage - Create"}},{path:"stages/:stageId/edit",name:"EditPipelineStage",component:Gf,meta:{title:"Pipeline Stage - Edit"}}]}]}];const Yk={key:1,class:"mx-auto text-xs border bg-gray-800 text-gray-200 rounded p-2 font-mono"},zk={class:"w-40 flex-shrink-0"},Kk={class:"w-20 flex-shrink-0 align-right"},Xk={class:"flex-grow break-all whitespace-pre-wrap"},$k={key:2};var Qk={name:"DeviceLogView",inheritAttrs:!1,props:{device:{type:Object,required:!0},instance:{type:Object,required:!0}},data(){return{loading:!0,logEntries:[],prevCursor:null,nextCursor:null,keepAliveInterval:null,connection:null}},mounted(){this.connect()},unmounted(){this.disconnect(),clearInterval(this.keepAliveInterval)},methods:{connect:async function(){if(null===this.connection)try{const e="http:"===location.protocol?"ws:":"wss:";this.connection=new WebSocket(`${e}//${location.host}/api/v1/devices/${this.device.id}/logs`),this.connection.onopen=()=>{this.loading=!1},this.connection.onmessage=e=>{const t=JSON.parse(e.data);if(Array.isArray(t))t.forEach((e=>{isNaN(e.ts)||(e.ts=`${e.ts}`);const t=new Date(parseInt(e.ts.substring(0,e.ts.length-4)));e.date=`${t.toLocaleDateString()} ${t.toLocaleTimeString()}`,"string"!=typeof e.msg&&(e.msg=JSON.stringify(e.msg)),this.logEntries.push(e)}));else{isNaN(t.ts)||(t.ts=`${t.ts}`);const e=new Date(parseInt(t.ts.substring(0,t.ts.length-4)));t.date=`${e.toLocaleDateString()} ${e.toLocaleTimeString()}`,"string"!=typeof t.msg&&(t.msg=JSON.stringify(t.msg)),this.logEntries.push(t)}}}catch(e){console.error(e)}},disconnect:async function(){this.connection&&this.connection.close(),this.connection=null}}},Jk={name:"DeviceLogs",components:{SectionTopMenu:Wa,LogsShared:(0,f.Z)(Qk,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.loading?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Loading Logs..."})):(0,n.kq)("v-if",!0),a.device?.status&&"stopped"!==a.device?.status?((0,n.wg)(),(0,n.iD)("div",Yk,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.logEntries,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:(0,l.normalizeClass)(["flex","forge-log-entry-level-"+e.level])},[(0,n._)("div",zk,(0,l.toDisplayString)(e.date),1),(0,n._)("div",Kk,"["+(0,l.toDisplayString)(e.level)+"]",1),(0,n._)("div",Xk,(0,l.toDisplayString)(e.msg.replace(/^[\n]*/,"")),1)],2)))),128))])):((0,n.wg)(),(0,n.iD)("div",$k," Logs unavailable "))],64)}]])},inheritAttrs:!1,props:{device:{type:Object,required:!0},instance:{type:Object,required:!0}}},eb=(0,f.Z)(Jk,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("LogsShared");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{hero:"Device Logs","help-header":"FlowForge - Device Logs",info:"Live logs from your FlowForge instances of Node-RED"}),(0,n.Wm)(l,{device:a.device,instance:a.instance},null,8,["device","instance"])],64)}]]);const tb={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ab={class:"border rounded p-4"},ib={class:"mb-2"},nb={key:0,class:"table-fixed w-full"},sb={class:"border-b"},ob=(0,n._)("td",{class:"w-1/4 font-medium"},"Last Seen",-1),rb={class:"py-2"},lb={class:"border-b"},cb=(0,n._)("td",{class:"w-1/4 font-medium"},"Status",-1),db={class:"py-2"},pb={class:"border-b"},ub=(0,n._)("td",{class:"w-1/4 font-medium"},"Agent Version",-1),mb={class:"py-2"},hb={class:"border rounded p-4"},gb={class:"mb-2"},fb={key:0,class:"table-fixed w-full"},vb={class:"border-b"},yb=(0,n._)("td",{class:"w-1/4 font-medium"},"Application",-1),kb={class:"py-2"},bb={key:1},wb={class:"border-b"},xb=(0,n._)("td",{class:"w-1/4 font-medium"},"Instance",-1),Ab={class:"py-2"},Db={key:1},Sb={class:"border-b"},Tb=(0,n._)("td",{class:"w-1/4 font-medium"},"Active Snapshot",-1),Cb={class:"py-2 flex"},Eb={class:"flex space-x-4 pr-2"},Ib={class:"flex items-center space-x-2 text-gray-500 italic"},_b={key:0,class:"flex flex-col"},Ub={class:"text-xs text-gray-500"},Vb={class:"border-b"},jb=(0,n._)("td",{class:"w-1/4 font-medium"},"Target Snapshot",-1),Pb={class:"py-2 flex"},Zb={class:"flex space-x-4 pr-2"},Mb={class:"flex items-center space-x-2 text-gray-500 italic"},Bb={key:0,class:"flex flex-col"},Fb={class:"text-xs text-gray-500"},Wb={key:0,class:"border-b"},Nb=(0,n._)("td",{class:"w-1/4 font-medium"},"Device Mode",-1),Rb={class:"py-2"},Lb={class:"flex space-x-2 pr-2"},qb=(0,n._)("span",null," Developer Mode ",-1),Hb={key:0,class:"border rounded p-4"},Ob={class:"flex flex-wrap mb-2"},Gb={key:0,class:"table-fixed w-full"},Yb={class:"border-b"},zb=(0,n._)("td",{class:"w-1/4 font-medium"},"Editor Access",-1),Kb={class:"w-28 font-medium"},Xb={key:0},$b={key:0},Qb={key:1},Jb={key:1},ew={class:"py-2"},tw={class:"space-x-2 flex align-center"},aw={key:0},iw={key:1},nw={key:0},sw={key:1},ow=(0,n._)("td",{class:"w-1/4 md:w-1/3"}," ",-1),rw={class:"border-b"},lw=(0,n._)("td",{class:"w-1/4 font-medium"},"Device Flows",-1),cw=(0,n._)("td",{class:"w-28 font-medium"}," ",-1),dw={class:"py-2"},pw=(0,n._)("td",{class:"w-1/4 md:w-1/3"}," ",-1);var uw=a(5487),mw=a(3337),hw=a(1249),gw=a.n(hw);var fw=async e=>await ba.Z.get(`/api/v1/devices/${e}`).then((e=>{const t=e.data;return t.lastSeenSince=t.lastSeenAt?(0,ya.Z)(0,t.lastSeenMs)+" ago":"",e.data=t,e.data})),vw=async(e,t)=>await ba.Z.delete(`/api/v1/devices/${e}`).then((()=>{Uh.Z.capture("$ff-device-deleted",{"deleted-at":(new Date).toISOString()},{team:t}),Uh.Z.groupUpdate("device",e,{deleted:!0})})),yw=async(e,t)=>ba.Z.put(`/api/v1/devices/${e}`,t).then((e=>e.data)),kw=async e=>ba.Z.put(`/api/v1/devices/${e}/editor`,{enabled:!1}).then((e=>e.data));const bw={class:"ml-1"};function ww(e,t){return e&&"number"==typeof t?t/1e3/60:-1}var xw=function(e,t){const a=ww(e,t);return e?a<1.5?{class:"running",label:"< 1.5 mins"}:a<3?{class:"safe",label:"1.5 - 3 mins"}:{class:"error",label:"> 3 mins"}:{class:"never",label:"Never Seen"}},Aw={name:"DeviceLastSeenBadge",props:["lastSeenAt","lastSeenMs","lastSeenSince"],computed:{status:function(){return xw(this.lastSeenAt,this.lastSeenMs).class},label:function(){return this.lastSeenAt?this.lastSeenSince||"unknown":"never"}},components:{ExclamationCircleIcon:ki.Z}},Dw=(0,f.Z)(Aw,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ExclamationCircleIcon"),c=(0,n.Q2)("ff-tooltip");return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{class:(0,l.normalizeClass)(["forge-badge","forge-status-"+o.status])},["error"===o.status?((0,n.wg)(),(0,n.j4)(r,{key:0,class:"w-4 h-4"})):(0,n.kq)("v-if",!0),(0,n._)("span",bw,(0,l.toDisplayString)(o.label),1)],2)),[[c,a.lastSeenAt?"Last seen at "+a.lastSeenAt:"Never seen","bottom"]])}]]);const Sw={class:""};var Tw=a(1382),Cw={name:"SnapshotCreateDialog",components:{FormRow:Ae.Z,QuestionMarkCircleIcon:Tw.Z},props:{device:{type:Object,required:!0}},emits:["device-upload-failed","device-upload-success","canceled"],setup(){return{show(){this.$refs.dialog.show(),this.input.name="",this.input.description="",this.input.setAsTarget=!1,this.submitted=!1,this.errors={}}}},data(){return{submitted:!1,input:{name:"",description:"",setAsTarget:!1},errors:{}}},computed:{instance(){return this.device?.instance},formValid(){return!this.submitted&&!!this.input.name}},mounted(){},methods:{confirm(){if(this.formValid){this.submitted=!0;const e={name:this.input.name,description:this.input.description,setAsTarget:this.input.setAsTarget};(async(e,t,a)=>{const i={name:a.name,description:a.description,setAsTarget:a.setAsTarget};return ba.Z.post(`/api/v1/devices/${t}/snapshot`,i).then((t=>{const i={"created-at":t.data.createdAt,"snapshot-id":t.data.id,"snapshot-name":a.name,"snapshot-set-as-target":a.setAsTarget};return t.data.createdSince=(0,va.Z)(t.data.createdAt),t.data.updatedSince=(0,va.Z)(t.data.updatedAt),Uh.Z.capture("$ff-snapshot-device",i,{instance:e}),t.data}))})(this.device.instance.id,this.device.id,e).then((e=>{this.$emit("device-upload-success",e),this.$refs.dialog.close()})).catch((e=>{this.$emit("device-upload-failed",e)})).finally((()=>{this.submitted=!1}))}},cancel(){this.$refs.dialog.close(),this.$emit("canceled")}}},Ew=(0,f.Z)(Cw,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),l=(0,n.up)("QuestionMarkCircleIcon"),c=(0,n.up)("ff-dialog"),d=(0,n.Q2)("ff-tooltip");return(0,n.wg)(),(0,n.j4)(c,{ref:"dialog",header:"Create Snapshot","confirm-label":"Create","disable-primary":!o.formValid,closeOnConfirm:!1,onConfirm:t[4]||(t[4]=e=>o.confirm()),onCancel:o.cancel},{default:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-6 mt-2",onSubmit:t[3]||(t[3]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n.Wm)(r,{modelValue:s.input.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.name=e),error:s.errors.name,"data-form":"snapshot-name"},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),_:1},8,["modelValue","error"]),(0,n.Wm)(r,{"data-form":"snapshot-description"},{input:(0,n.w5)((()=>[(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.description=e),rows:"8",class:"ff-input ff-text-input",style:{height:"auto"}},null,512),[[Oe.vModelText,s.input.description]])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Description ")])),_:1}),(0,n.Wm)(r,{modelValue:s.input.setAsTarget,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.setAsTarget=e),type:"checkbox","data-form":"snapshot-name"},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.iD)("span",Sw,[(0,n.Uk)(" Set as Target "),(0,n.Wm)(l,{class:"ff-icon",style:{margin:"0px 0px 0px 4px",height:"18px"}})])),[[d,"If checked, all devices assigned to this instance will be restarted on this snapshot.","right"]])])),_:1},8,["modelValue"])],32)])),_:1},8,["disable-primary","onCancel"])}]]),Iw={name:"DeviceOverview",emits:["device-updated","device-refresh"],props:["device"],components:{BeakerIcon:si.Z,CheckCircleIcon:uw.Z,ExclamationIcon:om.Z,WifiIcon:mw.Z,TemplateIcon:li.Z,DeviceLastSeenBadge:Dw,FormHeading:Pe.Z,StatusBadge:jg,SnapshotCreateDialog:Ew},beforeRouteLeave(){clearInterval(this.polling)},computed:{...(0,o.rn)("account",["settings","features"]),targetSnapshotDeployed:function(){return this.device.activeSnapshot?.id===this.device.targetSnapshot?.id},isDevModeAvailable:function(){return!!this.features.deviceEditor},developerMode:function(){return"developer"===this.device?.mode},editorTunnelConnected:function(){return!!this.device?.editor?.connected},editorEnabled:function(){return!!this.device?.editor?.enabled},editorCanBeEnabled:function(){return this.developerMode&&"running"===this.device.status},lastSeenAt:function(){return this.device?.lastSeenAt||""},lastSeenMs:function(){return this.device?.lastSeenMs||0},lastSeenSince:function(){return this.device?.lastSeenSince||""}},data(){return{agentSupportsDeviceAccess:!1,busy:!1,openingTunnel:!1,closingTunnel:!1,polling:null}},watch:{"device.editor"(e){this.isDevModeAvailable&&(e.enabled?(clearInterval(this.polling),this.polling=setInterval((()=>{this.$emit("device-refresh")}),5e3)):clearInterval(this.polling))}},mounted(){this.refreshDevice(),this.agentSupportsDeviceAccess=this.device?.agentVersion&&gw().gt(this.device.agentVersion,"0.6.1")},methods:{refreshDevice:function(){this.$emit("device-refresh")},showCreateSnapshotDialog(){this.busy=!0,this.$refs.snapshotCreateDialog.show()},async onSnapshotCreated(e){Ee.Z.emit("Successfully created snapshot from the device.","confirmation"),this.busy=!1},onSnapshotCancel(){this.busy=!1},async onSnapshotFailed(e){console.error(e.response?.data),e.response?.data&&/name/.test(e.response.data.error)?this.errors.name=e.response.data.error:(Ee.Z.emit("Failed to create snapshot from the device.","warning"),this.busy=!1)},async openTunnel(){if("running"===this.device.status){this.openingTunnel=!0;try{const e=await(async e=>ba.Z.put(`/api/v1/devices/${e}/editor`,{enabled:!0}).then((e=>e.data)))(this.device.id);this.updateTunnelStatus(e),setTimeout((()=>{this.$emit("device-updated")}),500)}finally{this.openingTunnel=!1}}else Ee.Z.emit('The device must be in "running" state to access the editor',"warning",7500)},async closeTunnel(){this.closingTunnel=!0;try{const e=await kw(this.device.id);this.updateTunnelStatus(e),this.$emit("device-updated")}finally{this.closingTunnel=!1}},updateTunnelStatus(e){this.device.editor=this.device.editor||{},this.device.editor.url=e.url,this.device.editor.enabled=!!e.enabled,this.device.editor.connected=!!e.connected}}},_w=(0,f.Z)(Iw,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("WifiIcon"),c=(0,n.up)("FormHeading"),d=(0,n.up)("DeviceLastSeenBadge"),p=(0,n.up)("StatusBadge"),u=(0,n.up)("TemplateIcon"),m=(0,n.up)("router-link"),h=(0,n.up)("ExclamationIcon"),g=(0,n.up)("CheckCircleIcon"),f=(0,n.up)("BeakerIcon"),v=(0,n.up)("ff-button"),y=(0,n.up)("SnapshotCreateDialog");return(0,n.wg)(),(0,n.iD)("div",tb,[(0,n._)("div",ab,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",ib,[(0,n.Wm)(r,{class:"w-6 h-6 mr-2 inline text-gray-400"}),(0,n.Uk)(" Connection ")])])),_:1}),a.device?((0,n.wg)(),(0,n.iD)("table",nb,[(0,n._)("tr",sb,[ob,(0,n._)("td",rb,[(0,n.Wm)(d,{"last-seen-at":o.lastSeenAt,"last-seen-ms":o.lastSeenMs,"last-seen-since":o.lastSeenSince},null,8,["last-seen-at","last-seen-ms","last-seen-since"])])]),(0,n._)("tr",lb,[cb,(0,n._)("td",db,[(0,n.Wm)(p,{status:a.device.status},null,8,["status"])])]),(0,n._)("tr",pb,[ub,(0,n._)("td",mb,(0,l.toDisplayString)(a.device.agentVersion||"unknown"),1)])])):(0,n.kq)("v-if",!0)]),(0,n._)("div",hb,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",gb,[(0,n.Wm)(u,{class:"w-6 h-6 mr-2 inline text-gray-400"}),(0,n.Uk)(" Deployment ")])])),_:1}),a.device?((0,n.wg)(),(0,n.iD)("table",fb,[(0,n._)("tr",vb,[yb,(0,n._)("td",kb,[a.device?.instance?((0,n.wg)(),(0,n.j4)(m,{key:0,to:{name:"Application",params:{id:a.device.instance.id}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(a.device.instance?.name),1)])),_:1},8,["to"])):((0,n.wg)(),(0,n.iD)("span",bb,"None"))])]),(0,n.kq)(" TODO: Currently links to same object as instance "),(0,n._)("tr",wb,[xb,(0,n._)("td",Ab,[a.device?.instance?((0,n.wg)(),(0,n.j4)(m,{key:0,to:{name:"Instance",params:{id:a.device.instance.id}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(a.device.instance?.name),1)])),_:1},8,["to"])):((0,n.wg)(),(0,n.iD)("span",Db,"None"))])]),(0,n._)("tr",Sb,[Tb,(0,n._)("td",Cb,[(0,n._)("span",Eb,[(0,n._)("span",Ib,[a.device.activeSnapshot&&o.targetSnapshotDeployed?((0,n.wg)(),(0,n.j4)(g,{key:1,class:"text-green-700 w-4"})):((0,n.wg)(),(0,n.j4)(h,{key:0,class:"text-yellow-600 w-4"}))])]),a.device.activeSnapshot?((0,n.wg)(),(0,n.iD)("div",_b,[(0,n._)("span",null,(0,l.toDisplayString)(a.device.activeSnapshot.name),1),(0,n._)("span",Ub,(0,l.toDisplayString)(a.device.activeSnapshot.id),1)])):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)(" No Snapshot Deployed ")],64))])]),(0,n._)("tr",Vb,[jb,(0,n._)("td",Pb,[(0,n._)("span",Zb,[(0,n._)("span",Mb,[a.device.targetSnapshot?((0,n.wg)(),(0,n.j4)(g,{key:1,class:"text-green-700 w-4"})):((0,n.wg)(),(0,n.j4)(h,{key:0,class:"text-yellow-600 w-4"}))])]),a.device.targetSnapshot?((0,n.wg)(),(0,n.iD)("div",Bb,[(0,n._)("span",null,(0,l.toDisplayString)(a.device.targetSnapshot.name),1),(0,n._)("span",Fb,(0,l.toDisplayString)(a.device.targetSnapshot.id),1)])):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)(" No Target Snapshot Set ")],64))])]),o.developerMode?((0,n.wg)(),(0,n.iD)("tr",Wb,[Nb,(0,n._)("td",Rb,[(0,n._)("span",Lb,[(0,n.Wm)(f,{class:"text-yellow-600 w-4"}),qb])])])):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0)]),o.developerMode&&o.isDevModeAvailable?((0,n.wg)(),(0,n.iD)("div",Hb,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",Ob,[(0,n._)("div",null,[(0,n.Wm)(f,{class:"w-6 h-6 mr-2 inline text-gray-400"}),(0,n.Uk)(" Developer Mode Options ")])])])),_:1}),a.device?((0,n.wg)(),(0,n.iD)("table",Gb,[(0,n._)("tr",Yb,[zb,(0,n._)("td",Kb,[(0,n._)("div",{class:(0,l.normalizeClass)(["forge-badge","forge-status-"+(o.editorEnabled?o.editorTunnelConnected?"running":"error":"stopped")])},[o.editorEnabled?((0,n.wg)(),(0,n.iD)("span",Xb,[o.editorTunnelConnected?((0,n.wg)(),(0,n.iD)("span",$b,"enabled")):((0,n.wg)(),(0,n.iD)("span",Qb,"not connected"))])):((0,n.wg)(),(0,n.iD)("span",Jb,"disabled"))],2)]),(0,n._)("td",ew,[(0,n._)("div",tw,[o.editorEnabled?((0,n.wg)(),(0,n.j4)(v,{key:0,disabled:!o.editorCanBeEnabled||s.closingTunnel||!o.editorEnabled,kind:"primary",size:"small",onClick:o.closeTunnel},{default:(0,n.w5)((()=>[s.closingTunnel?((0,n.wg)(),(0,n.iD)("span",aw,"Disabling...")):((0,n.wg)(),(0,n.iD)("span",iw,"Disable"))])),_:1},8,["disabled","onClick"])):(0,n.kq)("v-if",!0),o.editorEnabled?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.j4)(v,{key:1,disabled:!o.editorCanBeEnabled||s.openingTunnel||o.editorEnabled,kind:"danger",size:"small",onClick:o.openTunnel},{default:(0,n.w5)((()=>[s.openingTunnel?((0,n.wg)(),(0,n.iD)("span",nw,"Enabling...")):((0,n.wg)(),(0,n.iD)("span",sw,"Enable"))])),_:1},8,["disabled","onClick"]))])]),ow]),(0,n._)("tr",rw,[lw,cw,(0,n._)("td",dw,[(0,n.Wm)(v,{kind:"secondary",class:"w-28 whitespace-nowrap",size:"small",onClick:o.showCreateSnapshotDialog},{default:(0,n.w5)((()=>[(0,n.Uk)(" Create Snapshot ")])),_:1},8,["onClick"])]),pw])])):(0,n.kq)("v-if",!0),(0,n.Wm)(y,{ref:"snapshotCreateDialog","data-el":"dialog-create-device-snapshot",device:a.device,onDeviceUploadSuccess:o.onSnapshotCreated,onDeviceUploadFailed:o.onSnapshotFailed,onCanceled:o.onSnapshotCancel},null,8,["device","onDeviceUploadSuccess","onDeviceUploadFailed","onCanceled"])])):(0,n.kq)("v-if",!0)])}]]);const Uw={key:2,class:"flex flex-col lg:flex-row max-w-2xl space-y-4"},Vw=(0,n._)("div",{class:"flex-grow"},[(0,n._)("div",{class:"max-w-sm pt-2"}," Once deleted, your device is removed. This cannot be undone. ")],-1),jw={class:"min-w-fit flex-shrink-0"},Pw={class:"mt-2 space-y-2"},Zw=(0,n._)("p",null," Are you sure you want to delete this device? Once deleted, there is no going back. ",-1),Mw={class:"block"};var Bw={name:"ConfirmDeviceDeleteDialog",emits:["delete-device"],components:{FormRow:Ae.Z},data(){return{input:{deviceName:""},formValid:!1,device:null}},watch:{input:{handler:function(e){this.formValid=this.device.name===e.deviceName},deep:!0}},methods:{confirm(){this.formValid&&this.$emit("delete-device")}},setup(){return{show(e){this.device=e,this.$refs.dialog.show()}}}},Fw={name:"DeviceSettingsDanger",props:["device"],emits:["device-updated"],mixins:[Pd],components:{ConfirmDeviceDeleteDialog:(0,f.Z)(Bw,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),c=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(c,{ref:"dialog",header:"Delete Device",kind:"danger","confirm-label":"Delete",onConfirm:t[2]||(t[2]=e=>o.confirm()),"disable-primary":!s.formValid},{default:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-6",onSubmit:t[1]||(t[1]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n._)("div",Pw,[Zw,(0,n._)("p",null,[(0,n.Uk)(" Enter the device name to continue. "),(0,n._)("code",Mw,(0,l.toDisplayString)(s.device?.name),1)])]),(0,n.Wm)(r,{modelValue:s.input.deviceName,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.deviceName=e),id:"deviceName"},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),_:1},8,["modelValue"])],32)])),_:1},8,["disable-primary"])}]]),FormHeading:Pe.Z},computed:{...(0,o.rn)("account",["team","teamMembership"])},data(){return{loading:{deleting:!1}}},mounted(){this.checkAccess()},methods:{checkAccess:async function(){this.hasPermission("device:edit")||(0,i.tv)().push({replace:!0,path:"general"})},showConfirmDeleteDialog(){this.$refs.confirmDeviceDeleteDialog.show(this.device)},deleteDevice(){this.loading.deleting=!0,vw(this.device.id,this.team.id).then((()=>{this.$router.push({name:"TeamDevices",params:{team_slug:this.team.slug}})})).catch((e=>{console.warn(e)})).finally((()=>{this.loading.deleting=!1}))}}},Ww=(0,f.Z)(Fw,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),l=(0,n.up)("FormHeading"),c=(0,n.up)("ff-button"),d=(0,n.up)("ConfirmDeviceDeleteDialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.loading.deleting?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Deleting Device..."})):(0,n.kq)("v-if",!0),s.loading.deleting?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.j4)(l,{key:1,class:"text-red-700"},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete Device")])),_:1})),s.loading.deleting?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("div",Uw,[Vw,(0,n._)("div",jw,[(0,n.Wm)(c,{kind:"danger",onClick:t[0]||(t[0]=e=>o.showConfirmDeleteDialog())},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete Device")])),_:1}),(0,n.Wm)(d,{onDeleteDevice:t[1]||(t[1]=e=>o.deleteDevice()),ref:"confirmDeviceDeleteDialog"},null,512)])]))],64)}]]);const Nw={class:"space-y-6"},Rw={key:0,class:"space-x-4 whitespace-nowrap"};var Lw={name:"DeviceSettingsEnvironment",props:["device"],emits:["device-updated"],mixins:[Pd],beforeRouteLeave:async function(e,t,a){if(this.unsavedChanges){const e={header:"Unsaved changes",kind:"danger",html:"<p>You have unsaved changes. Are you sure you want to leave?</p>",confirmLabel:"Yes, lose changes"};"confirm"===await Xe.Z.showAsync(e)?a():a(!1)}else a()},watch:{device:"getSettings","editable.settings.env":{deep:!0,handler(e){let t=!1,a=!1;this.editable.settings?.env.forEach((e=>{this.original.settings.envMap[e.name]&&e.value===this.original.settings.envMap[e.name].value||(t=!0),e.error&&(a=!0)})),this.editable.settings.env.length!==Object.keys(this.original.settings.envMap).length&&(t=!0),this.hasError=a,this.unsavedChanges=t}}},components:{TemplateSettingsEnvironment:lm},data(){return{unsavedChanges:!1,hasError:!1,editable:{name:"",settings:{env:[]},policy:{},changed:{name:!1,description:!1,settings:{},policy:{}},errors:{}},original:{settings:{envMap:{}}},templateEnvValues:{}}},mounted(){this.getSettings()},computed:{...(0,o.rn)("account",["teamMembership"])},methods:{getSettings:async function(){if(this.device){this.original.settings.envMap={},this.editable.settings.env=[];const e=await(async e=>ba.Z.get(`/api/v1/devices/${e}/settings`).then((e=>e.data)))(this.device.id);e.env?.forEach((e=>{this.editable.settings.env.push(Object.assign({},e)),this.original.settings.envMap[e.name]=e}))}},saveSettings:async function(){const e={env:[]};this.editable.settings.env.forEach((t=>{e.env.push({name:t.name,value:t.value})})),(async(e,t)=>{ba.Z.put(`/api/v1/devices/${e}/settings`,t).then((e=>e.data))})(this.device.id,e),this.$emit("device-updated"),Ee.Z.emit("Device settings successfully updated. NOTE: changes will be applied once the device restarts.","confirmation",6e3)}}},qw=(0,f.Z)(Lw,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("TemplateSettingsEnvironment"),l=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)("form",Nw,[(0,n.Wm)(r,{readOnly:!e.hasPermission("device:edit-env"),modelValue:s.editable,"onUpdate:modelValue":t[0]||(t[0]=e=>s.editable=e),editTemplate:!1},null,8,["readOnly","modelValue"]),e.hasPermission("device:edit-env")?((0,n.wg)(),(0,n.iD)("div",Rw,[(0,n.Wm)(l,{size:"small",disabled:!s.unsavedChanges||s.hasError,onClick:t[1]||(t[1]=e=>o.saveSettings())},{default:(0,n.w5)((()=>[(0,n.Uk)("Save Settings")])),_:1},8,["disabled"])])):(0,n.kq)("v-if",!0)])}]]);const Hw={class:"space-y-6"},Ow={key:0};var Gw={name:"DeviceSettings",props:["device"],emits:["device-updated"],mixins:[Pd],data(){return{editing:{deviceName:!1},input:{deviceId:"",deviceName:""},original:{deviceName:""}}},watch:{device:"fetchData"},computed:{...(0,o.rn)("account",["teamMembership"])},mounted(){this.fetchData()},methods:{editDevice(){this.original.deviceName=this.input.deviceName,this.editing.deviceName=!0},async updateDevice(){await yw(this.device.id,{name:this.input.deviceName}),this.editing.deviceName=!1,this.$emit("device-updated")},cancelEditName(){this.editing.deviceName=!1,this.input.deviceName=this.original.deviceName},fetchData(){this.device&&(this.input.deviceId=this.device.id,this.input.deviceName=this.device.name)}},components:{FormRow:Ae.Z}},Yw=(0,f.Z)(Gw,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),l=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)("form",Hw,[(0,n.Wm)(r,{modelValue:s.input.deviceId,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.deviceId=e),type:"uneditable",id:"deviceId",inputClass:"font-mono"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Device ID ")])),_:1},8,["modelValue"]),(0,n.Wm)(r,{modelValue:s.input.deviceName,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.deviceName=e),type:s.editing.deviceName?"text":"uneditable",ref:"deviceName"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Name ")])),_:1},8,["modelValue","type"]),e.hasPermission("device:edit")?((0,n.wg)(),(0,n.iD)("div",Ow,[s.editing.deviceName?((0,n.wg)(),(0,n.j4)(l,{key:1,kind:"primary",onClick:o.updateDevice},{default:(0,n.w5)((()=>[(0,n.Uk)("Save Changes")])),_:1},8,["onClick"])):((0,n.wg)(),(0,n.j4)(l,{key:0,kind:"primary",onClick:o.editDevice},{default:(0,n.w5)((()=>[(0,n.Uk)("Edit Device")])),_:1},8,["onClick"]))])):(0,n.kq)("v-if",!0)])}]]);const zw={class:"flex flex-col sm:flex-row"},Kw={class:"flex-grow"};var Xw={name:"DeviceSettins",props:["device"],emits:["device-updated"],mixins:[Pd],data:function(){return{sideNavigation:[]}},computed:{...(0,o.rn)("account",["teamMembership","team"])},mounted(){this.checkAccess()},methods:{checkAccess:async function(){this.teamMembership?(this.sideNavigation=[{name:"General",path:"./general"},{name:"Environment",path:"./environment"}],this.hasPermission("device:edit")&&this.sideNavigation.push({name:"Danger",path:"./danger"})):(0,i.tv)().push({replace:!0,path:"overview"})}},components:{SectionSideMenu:Re}},$w=(0,f.Z)(Xw,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionSideMenu"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",zw,[(0,n.Wm)(r,{options:e.sideNavigation},null,8,["options"]),(0,n._)("div",Kw,[(0,n.Wm)(l,{device:a.device,onDeviceUpdated:t[0]||(t[0]=t=>e.$emit("device-updated"))},null,8,["device"])])])}]]);const Qw=(0,n._)("div",{class:"ff-nested-title"},"Device",-1),Jw={class:"ff-with-status-header"},ex={class:"ff-instance-header"},tx={class:"flex-grow items-center inline-flex flex-wrap","data-el":"device-name"},ax={class:"text-gray-800 text-xl font-bold mr-6"},ix={class:"w-full text-sm mt-1"},nx={key:0},sx={key:1,class:"text-gray-400 italic"},ox={class:"space-x-2 flex align-center"},rx=["href","target"],lx={class:"ff-btn--icon ff-btn--icon-right"},cx={key:1,class:"ff-btn ff-btn--secondary",disabled:""},dx={class:"ff-btn--icon ff-btn--icon-right"},px={class:"text-sm sm:px-6 mt-4 sm:mt-8"},ux=(0,n._)("div",{class:"ff-banner","data-el":"banner-device-as-admin"},"You are viewing this device as an Administrator",-1),mx={class:"px-3 pb-3 md:px-6 md:pb-6"};var hx=a(7266);const gx={class:"mb-6 space-y-2"},fx={key:0},vx=(0,n._)("p",null," When a device is in developer mode its editor can be enabled and accessed remotely. ",-1),yx=(0,n._)("p",null," This allows you to develop your flows on a real device before creating a snapshot to deploy across your other devices. ",-1),kx=(0,n._)("p",null," Whilst in this mode, the device will no longer automatically update when new snapshots are deployed. ",-1),bx=(0,n._)("p",null," Disabling developer mode will turn off access to the editor and deploy the current target snapshot to the device. ",-1),wx=(0,n._)("p",null," Any changes made to the device whilst in developer mode will be lost. ",-1),xx=(0,n._)("p",null," To save changes, use the 'create snapshot' developer mode option before disabling developer mode. ",-1),Ax={key:0},Dx={key:1};var Sx={name:"ModeChoiceDialog",props:{device:{type:Object,required:!0}},emits:["mode-change"],setup(){return{show(){this.unsupportedVersion=!(this.device?.agentVersion&&gw().gte(this.device?.agentVersion,"0.8.0")),this.developerMode="developer"===this.device?.mode,this.unsupportedVersion?this.dialogHeader="Developer Mode Unavailable":this.dialogHeader=(this.developerMode?"Disable":"Enable")+" Developer Mode",this.$refs["device-mode-dialog"].show()}}},data(){return{unsupportedVersion:!1,developerMode:!1,busy:!1,dialogHeader:""}},methods:{async applyMode(){this.busy=!0;try{this.$emit("mode-change",this.developerMode?"autonomous":"developer"),this.$refs["device-mode-dialog"].close()}catch(e){console.error(e)}finally{this.busy=!1}}}},Tx=(0,f.Z)(Sx,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-button"),l=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(l,{ref:"device-mode-dialog",header:s.dialogHeader},{default:(0,n.w5)((()=>[(0,n._)("div",gx,[s.unsupportedVersion?((0,n.wg)(),(0,n.iD)("p",fx," Developer Mode requires Device Agent v0.8.0 or later. Please update your Device Agent to the latest version. ")):s.developerMode?((0,n.wg)(),(0,n.iD)(n.HY,{key:2},[bx,wx,xx],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[vx,yx,kx],64))])])),actions:(0,n.w5)((()=>[s.unsupportedVersion?((0,n.wg)(),(0,n.j4)(r,{key:0,kind:"primary",onClick:t[0]||(t[0]=t=>e.$refs["device-mode-dialog"].close())},{default:(0,n.w5)((()=>[(0,n.Uk)("Close")])),_:1})):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(r,{kind:"secondary",onClick:t[1]||(t[1]=t=>e.$refs["device-mode-dialog"].close())},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1}),(0,n.Wm)(r,{kind:"danger",onClick:t[2]||(t[2]=e=>o.applyMode())},{default:(0,n.w5)((()=>[s.developerMode?((0,n.wg)(),(0,n.iD)("span",Ax,"Disable")):((0,n.wg)(),(0,n.iD)("span",Dx,"Enable"))])),_:1})],64))])),_:1},8,["header"])}]]),Cx={name:"DevicePage",components:{BeakerIcon:si.Z,ExternalLinkIcon:hx.Z,DeviceLastSeenBadge:Dw,InstanceStatusHeader:ok,ModeChoiceDialog:Tx,NavItem:oa.Z,SideNavigationTeamOptions:wk,StatusBadge:jg,SubscriptionExpiredBanner:Tk,TeamTrialBanner:Pk},mixins:[Pd],data:function(){return{mounted:!1,device:null,navigation:[{label:"Overview",path:`/device/${this.$route.params.id}/overview`,tag:"device-overview",icon:vk.Z},{label:"Settings",path:`/device/${this.$route.params.id}/settings`,tag:"device-settings",icon:aa.Z}],agentSupportsDeviceAccess:!1}},computed:{...(0,o.rn)("account",["teamMembership","team","features","settings"]),isVisitingAdmin:function(){return this.teamMembership.role===nh.Roles.Admin},isDevModeAvailable:function(){return!!this.features.deviceEditor},developerMode:function(){return this.device&&this.agentSupportsDeviceAccess&&"developer"===this.device.mode},editorAvailable:function(){return this.isDevModeAvailable&&this.device&&this.agentSupportsDeviceAccess&&this.developerMode&&"running"===this.device.status&&this.deviceEditorURL&&this.device.editor?.connected},deviceEditorURL:function(){return this.device.editor?.url||""}},mounted(){this.checkFeatures(),this.mounted=!0,this.loadDevice()},methods:{loadDevice:async function(){this.device=await fw(this.$route.params.id),this.agentSupportsDeviceAccess=this.device.agentVersion&&gw().gte(this.device.agentVersion,"0.8.0"),this.$store.dispatch("account/setTeam",this.device.team.slug)},checkFeatures:async function(){this.features.projectComms&&this.navigation.splice(1,0,{label:"Device Logs",path:`/device/${this.$route.params.id}/logs`,tag:"device-logs",icon:Qy.Z})},showModeChoiceDialog:function(){this.$refs["mode-choice-dialog"].show()},showOpenEditorDialog:async function(){this.$refs["open-editor-dialog"].show()},setDeviceMode:async function(e){if("autonomous"!==e&&"developer"!==e)throw new Error("Unknown mode");{const t=await kw(this.device.id),a=await(async(e,t)=>ba.Z.put(`/api/v1/devices/${e}/mode`,{mode:t}).then((e=>e.data)))(this.device.id,e);this.device.editor={enabled:!!t?.editor?.enabled,connected:!!t?.editor?.connected,url:t?.editor?.url},this.device.mode=a?.mode}}}},Ex=[{path:"/device/:id",redirect:e=>`/device/${e.params.id}/overview`,name:"Device",component:(0,f.Z)(Cx,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("nav-item"),c=(0,n.up)("router-link"),d=(0,n.up)("SideNavigationTeamOptions"),p=(0,n.up)("SubscriptionExpiredBanner"),u=(0,n.up)("TeamTrialBanner"),m=(0,n.up)("DeviceLastSeenBadge"),h=(0,n.up)("StatusBadge"),g=(0,n.up)("ExternalLinkIcon"),f=(0,n.up)("BeakerIcon"),v=(0,n.up)("ff-button"),y=(0,n.up)("InstanceStatusHeader"),k=(0,n.up)("router-view"),b=(0,n.up)("ModeChoiceDialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[e.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-sidenav"},[(0,n.Wm)(d,null,{"nested-menu":(0,n.w5)((()=>[Qw,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.navigation,(e=>((0,n.wg)(),(0,n.j4)(c,{key:e.label,to:e.path,"data-nav":e.tag},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:e.icon,label:e.label},null,8,["icon","label"])])),_:2},1032,["to","data-nav"])))),128))])),_:1})])):(0,n.kq)("v-if",!0),(0,n._)("main",Jw,[e.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-banner"},[(0,n.Wm)(p,{team:e.team},null,8,["team"]),e.team.billing?.trial?((0,n.wg)(),(0,n.j4)(u,{key:0,team:e.team},null,8,["team"])):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0),(0,n._)("div",ex,[(0,n.Wm)(y,null,(0,n.Nv)({hero:(0,n.w5)((()=>[(0,n._)("div",tx,[(0,n._)("div",ax,(0,l.toDisplayString)(e.device.name),1),(0,n.Wm)(m,{class:"mr-6","last-seen-at":e.device.lastSeenAt,"last-seen-ms":e.device.lastSeenMs,"last-seen-since":e.device.lastSeenSince},null,8,["last-seen-at","last-seen-ms","last-seen-since"]),(0,n.Wm)(h,{status:e.device.status},null,8,["status"]),(0,n._)("div",ix,[e.device?.instance?((0,n.wg)(),(0,n.iD)("div",nx,[(0,n.Uk)(" Instance: "),(0,n.Wm)(c,{to:{name:"Instance",params:{id:e.device.instance.id}},class:"text-blue-600 cursor-pointer hover:text-blue-700 hover:underline"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(e.device.instance.name),1)])),_:1},8,["to"])])):((0,n.wg)(),(0,n.iD)("span",sx,"Device Not Assigned to an Instance"))])])])),_:2},[o.isDevModeAvailable?{name:"tools",fn:(0,n.w5)((()=>[(0,n._)("div",ox,[o.editorAvailable&&!o.isVisitingAdmin?((0,n.wg)(),(0,n.iD)("a",{key:0,class:"ff-btn ff-btn--secondary",href:o.deviceEditorURL,target:`device-editor-${e.device.id}`,"data-action":"device-editor"},[(0,n.Uk)(" Device Editor "),(0,n._)("span",lx,[(0,n.Wm)(g)])],8,rx)):((0,n.wg)(),(0,n.iD)("button",cx,[(0,n.Uk)(" Editor Disabled "),(0,n._)("span",dx,[(0,n.Wm)(g)])])),(0,n.Wm)(v,{disabled:!0!==e.hasPermission("device:edit")||!e.device?.instance,kind:o.developerMode?"primary":"secondary","data-action":"toggle-mode",onClick:t[0]||(t[0]=e=>o.showModeChoiceDialog())},{"icon-right":(0,n.w5)((()=>[(0,n.Wm)(f)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Developer Mode ")])),_:1},8,["disabled","kind"])])])),key:"0"}:void 0]),1024)]),(0,n._)("div",px,[e.mounted&&o.isVisitingAdmin?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-banner"},[ux])):(0,n.kq)("v-if",!0),(0,n._)("div",mx,[(0,n.Wm)(k,{instance:e.device.instance,device:e.device,onDeviceUpdated:t[1]||(t[1]=e=>o.loadDevice()),onDeviceRefresh:t[2]||(t[2]=e=>o.loadDevice())},null,8,["instance","device"])])]),(0,n.Wm)(b,{ref:"mode-choice-dialog",device:e.device,onModeChange:o.setDeviceMode},null,8,["device","onModeChange"])])],64)}]]),meta:{title:"Device - Overview"},children:[{path:"overview",component:_w},{path:"settings",component:$w,meta:{title:"Device - Settings"},redirect:e=>`/device/${e.params.id}/settings/general`,children:[{path:"general",component:Yw},{path:"environment",component:qw},{path:"danger",component:Ww}]},{path:"logs",component:eb,meta:{title:"Device - Logs"}}]}],Ix=[{path:"/help",link:"https://github.com/flowforge/flowforge/tree/main/docs",external:!0,profileLink:!0,profileMenuIndex:60,name:"Documentation",icon:hg.Z}];const _x={class:"mb-3"};var Ux={name:"InstanceAuditLog",components:{SectionTopMenu:Wa,AuditLogBrowser:ur},inheritAttrs:!1,props:{instance:{type:Object,required:!0}},data(){return{logEntries:[],users:[]}},computed:{...(0,o.rn)("account",["team"])},watch:{instance(){this.$refs.AuditLog?.loadEntries()}},created(){this.loadUsers()},methods:{async loadUsers(){this.users=(await Dt.Z.getTeamMembers(this.team.id)).members},async loadEntries(e=new URLSearchParams,t=void 0){const a=this.instance.id;this.logEntries=(await Zh(a,e,t,200)).log}}},Vx=(0,f.Z)(Ux,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("AuditLogBrowser");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",_x,[(0,n.Wm)(r,{hero:"Audit Log",info:""})]),(0,n.Wm)(l,{ref:"AuditLog",users:s.users,logEntries:s.logEntries,logType:"project",onLoadEntries:o.loadEntries},null,8,["users","logEntries","onLoadEntries"])],64)}]]);const jx=(0,n._)("p",null,"FlowForge can be used to manage instances of Node-RED running on remote devices.",-1),Px=(0,n._)("p",null,[(0,n.Uk)("Each device must run the "),(0,n._)("a",{href:"https://flowforge.com/docs/user/devices/",target:"_blank"},"FlowForge Device Agent"),(0,n.Uk)(", which connects back to the platform to receive updates.")],-1),Zx=(0,n._)("p",null,"Devices are registered to a Team, and assigned to an Instance within an Application.",-1),Mx=(0,n._)("p",null,"Flows can then be deployed remotely to the devices as an Instance Snapshot.",-1),Bx={class:"space-y-2","data-el":"devices-section"},Fx={class:"font-normal"},Wx=(0,n._)("img",{src:"data:image/png;base64,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"},null,-1),Nx=(0,n._)("p",null," Devices in FlowForge allow you to manage Node-RED instances running on remote hardware. ",-1),Rx=(0,n._)("p",null,[(0,n.Uk)(" A Device runs the "),(0,n._)("a",{class:"ff-link",href:"https://flowforge.com/docs/user/devices",target:"_blank"},"FlowForge Device Agent"),(0,n.Uk)(", and can be used to deploy and debug instances anywhere, from here, in FlowForge. ")],-1),Lx=(0,n._)("img",{src:"data:image/png;base64,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"},null,-1),qx=(0,n._)("p",null," Here, you will see a list of Devices connected to this Node-RED Instance. ",-1),Hx={key:2,class:"ff-no-data ff-no-data-large"},Ox=[(0,n._)("span",{"data-el":"no-devices"}," No devices found. ",-1)],Gx=(0,n._)("b",null,"device.yml",-1),Yx={class:"my-4"},zx=(0,n._)("p",{class:"my-4"},[(0,n.Uk)(" Further info on Devices can be found "),(0,n._)("a",{href:"https://flowforge.com/docs/user/devices/",target:"_blank"},"here"),(0,n.Uk)(". ")],-1);var Kx=a(5633);const Xx={key:1,class:"italic text-gray-500"};var $x={name:"ApplicationLink",inheritAttrs:!1,props:{id:{type:String,default:null},name:{type:String,default:null}}},Qx=(0,f.Z)($x,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("router-link");return a.id?((0,n.wg)(),(0,n.j4)(r,{key:0,to:{name:"Application",params:{id:a.id}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(a.name),1)])),_:1},8,["to"])):((0,n.wg)(),(0,n.iD)("span",Xx,"Unassigned"))}]]);const Jx={key:0,class:"flex flex-col space-y-2"},eA={key:1,class:"flex flex-col space-y-2"},tA={class:"flex flex-col space-y-1"},aA={class:"text-lg"},iA={class:"text-xs text-gray-500"};var nA=a(1043),sA={name:"DeviceLink",components:{ChipIcon:vk.Z,BeakerIcon:nA.Z},inheritAttrs:!1,props:{id:{required:!0,type:String},name:{type:String,required:!0},mode:{type:String,required:!0}}},oA=(0,f.Z)(sA,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("BeakerIcon"),c=(0,n.up)("ChipIcon"),d=(0,n.up)("router-link"),p=(0,n.Q2)("ff-tooltip");return(0,n.wg)(),(0,n.j4)(d,{to:{name:"Device",params:{id:a.id}},class:"flex"},{default:(0,n.w5)((()=>["developer"===a.mode?(0,n.wy)(((0,n.wg)(),(0,n.iD)("span",Jx,[(0,n.Wm)(r,{class:"text-yellow-600 w-6 mr-2 flex-auto"})])),[[p,"Developer Mode"]]):((0,n.wg)(),(0,n.iD)("span",eA,[(0,n.Wm)(c,{class:"text-gray-500 w-6 mr-2 flex-auto"})])),(0,n._)("div",tA,[(0,n._)("span",aA,(0,l.toDisplayString)(a.name),1),(0,n._)("span",iA,"id: "+(0,l.toDisplayString)(a.id),1)])])),_:1},8,["to"])}]]);const rA={key:1,class:"italic text-gray-500"};var lA={name:"InstanceInstancesLink",inheritAttrs:!1,props:{id:{type:String,default:null},name:{type:String,default:null}}},cA=(0,f.Z)(lA,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("router-link");return a.id?((0,n.wg)(),(0,n.j4)(r,{key:0,to:{name:"InstanceRemoteInstances",params:{id:a.id}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(a.name),1)])),_:1},8,["to"])):((0,n.wg)(),(0,n.iD)("span",rA,"Unassigned"))}]]);const dA={class:"flex space-x-4"},pA={key:0,class:"flex items-center space-x-2 text-gray-500 italic"},uA={key:1,class:"flex flex-col"},mA={class:"text-xs text-gray-500"},hA={key:2,class:"italic text-gray-500"};var gA={name:"CloudLink",components:{ExclamationIcon:om.Z,CheckCircleIcon:uw.Z},inheritAttrs:!1,props:{activeSnapshot:{default:null,type:Object},targetSnapshot:{default:null,type:Object}},computed:{updateNeeded:function(){return!this.activeSnapshot||this.activeSnapshot?.id!==this.targetSnapshot?.id}}},fA=(0,f.Z)(gA,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ExclamationIcon"),c=(0,n.up)("CheckCircleIcon"),d=(0,n.Q2)("ff-tooltip");return(0,n.wg)(),(0,n.iD)("span",dA,[a.activeSnapshot?.id||o.updateNeeded?(0,n.wy)(((0,n.wg)(),(0,n.iD)("span",pA,[o.updateNeeded?((0,n.wg)(),(0,n.j4)(r,{key:0,class:"text-yellow-600 w-4"})):a.activeSnapshot?.id?((0,n.wg)(),(0,n.j4)(c,{key:1,class:"text-green-700 w-4"})):(0,n.kq)("v-if",!0)])),[[d,"Target snapshot has not yet been deployed to this device.","left"]]):(0,n.kq)("v-if",!0),a.activeSnapshot?((0,n.wg)(),(0,n.iD)("div",uA,[(0,n._)("span",null,(0,l.toDisplayString)(a.activeSnapshot?.name),1),(0,n._)("span",mA,(0,l.toDisplayString)(a.activeSnapshot.id),1)])):((0,n.wg)(),(0,n.iD)("span",hA,"none"))])}]]);const vA=(0,n._)("p",null,"Please select the Snapshot that you wish to deploy to all of your devices assigned to this instance.",-1),yA={key:1},kA=(0,n._)("br",null,null,-1);var bA=async(e,t)=>(async(e,t)=>{const a={snapshot:t};return ba.Z.post(`/api/v1/projects/${e}/actions/rollback`,a).then((e=>e.data))})(e,t),wA=(e,t)=>ba.Z.get(`/api/v1/projects/${e}/snapshots/${t}`).then((e=>(e.data.createdSince=(0,va.Z)(e.data.createdAt),e.data.updatedSince=(0,va.Z)(e.data.updatedAt),e.data))),xA=(e,t,a)=>{const i=(0,ka.Z)(`/api/v1/projects/${e}/snapshots`,t,a);return ba.Z.get(i).then((e=>(e.data.snapshots=e.data.snapshots.map((e=>(e.createdSince=(0,va.Z)(e.createdAt),e.updatedSince=(0,va.Z)(e.updatedAt),e))),e.data)))},AA={name:"SnapshotAssignDialog",components:{FormRow:Ae.Z},props:{instance:{required:!0,type:Object}},emits:["snapshot-assigned"],data(){return{loading:!0,selectedSnapshotId:null,snapshots:[],submitted:!1}},computed:{formValid(){return!this.submitted&&this.selectedSnapshotId&&this.instance.targetSnapshot?.id!==this.selectedSnapshotId},snapshotOptions(){return this.snapshots.map((e=>({value:e.id,label:`${e.name}${this.instance.targetSnapshot?.id===e.id?" (active)":""}`})))}},methods:{show(){this.reset(),this.fetchData(),this.$refs.dialog.show()},reset(){this.selectedSnapshotId=null,this.submitted=!1},fetchData:async function(){const e=await xA(this.instance.id);this.snapshots=e.snapshots,this.loading=!1},async confirm(){this.formValid&&(this.submitted=!0,await Rh(this.instance.id,{targetSnapshot:this.selectedSnapshotId}),this.$emit("snapshot-assigned"),Ee.Z.emit("Target snapshot updated.","confirmation"),this.$refs.dialog.close())}}},DA=(0,f.Z)(AA,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),l=(0,n.up)("ff-dropdown-option"),c=(0,n.up)("ff-dropdown"),d=(0,n.up)("router-link"),p=(0,n.up)("FormRow"),u=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(u,{ref:"dialog",header:"Select Target Snapshot","confirm-label":"Assign","disable-primary":!o.formValid,class:"ff-dialog-fixed-height","data-el":"snapshot-assign-dialog",onConfirm:t[2]||(t[2]=e=>o.confirm())},{default:(0,n.w5)((()=>[s.loading?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Loading Snapshots..."})):((0,n.wg)(),(0,n.iD)("form",{key:1,class:"space-y-6 mt-2",onSubmit:t[1]||(t[1]=(0,Oe.withModifiers)((e=>o.confirm()),["prevent"]))},[vA,(0,n.Wm)(p,{"data-form":"snapshot",containerClass:"w-full"},{input:(0,n.w5)((()=>[s.snapshots.length>0?((0,n.wg)(),(0,n.j4)(c,{key:0,modelValue:s.selectedSnapshotId,"onUpdate:modelValue":t[0]||(t[0]=e=>s.selectedSnapshotId=e),placeholder:"Select a snapshot","data-form":"snapshot-select",class:"w-full"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.snapshotOptions,(e=>((0,n.wg)(),(0,n.j4)(l,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):((0,n.wg)(),(0,n.iD)("div",yA,[(0,n.Uk)(" There are no snapshots to choose from for this instance yet!"),kA,(0,n.Uk)(" Snapshots can be managed on the "),(0,n.Wm)(d,{to:{name:"InstanceSnapshots",params:{id:a.instance.id}}},{default:(0,n.w5)((()=>[(0,n.Uk)(" Instance Snapshots ")])),_:1},8,["to"]),(0,n.Uk)(" page. ")]))])),default:(0,n.w5)((()=>[(0,n.Uk)(" Target Snapshot ")])),_:1})],32))])),_:1},8,["disable-primary"])}]]);const SA={class:"space-y-6 mt-2 mb-2"},TA=(0,n._)("p",{class:"text-sm text-gray-500"}," Select the Node-RED instance you want to bind the device to. ",-1);var CA={name:"SelectInstance",components:{FormRow:Ae.Z},props:{team:{type:Object,required:!0},modelValue:{type:Object,default:null},excludeInstanceIds:{type:Array,default:()=>[]}},emits:["update:modelValue"],data(){return{loading:{applications:!1,instances:!1},options:{applications:null,instances:null},input:{application:null}}},computed:{localValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},noInstances(){return!this.options.instances||0===this.options.instances?.length},noApplications(){return!this.options.applications||0===this.options.applications?.length},instancePlaceholder(){return this.input.application?"Select an instance":"Select an application first"}},watch:{"input.application":function(){this.localValue=null,this.loadInstances(this.input.application.id)}},mounted(){this.loadApplications()},methods:{loadApplications(){this.loading.applications=!0,Dt.Z.getTeamApplications(this.team.id).then((e=>{this.options.applications=e.applications.map((e=>({value:e,label:e.name}))),this.loading.applications=!1})).catch((e=>{console.error(e)}))},loadInstances(e){this.loading.instances=!0,Cf(e).then((e=>{this.options.instances=e?.filter((e=>!this.excludeInstanceIds.includes(e.id))).map((e=>({value:e,label:e.name})))??[],this.loading.instances=!1,1===this.options.instances.length&&(this.localValue=this.options.instances[0].value)})).catch((e=>{console.error(e)}))}}},EA={name:"DeviceAssignInstanceDialog",components:{SelectInstance:(0,f.Z)(CA,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{modelValue:s.input.application,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.application=e),options:s.options.applications,disabled:o.noApplications||s.loading.applications,placeholder:"Select an application","data-form":"application"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Application ")])),_:1},8,["modelValue","options","disabled"]),(0,n.Wm)(r,{modelValue:o.localValue,"onUpdate:modelValue":t[1]||(t[1]=e=>o.localValue=e),options:s.options.instances,disabled:o.noInstances||s.loading.instances,placeholder:o.instancePlaceholder,"data-form":"instance"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Node-RED Instance ")])),_:1},8,["modelValue","options","disabled","placeholder"])],64)}]])},setup(){return{async show(e){this.$refs.dialog.show(),this.device=e}}},data(){return{device:null,input:{instance:null}}},computed:{...(0,o.rn)("account",["team"])},methods:{assignDevice(){this.$emit("assignDevice",this.device,this.input.instance.id),Ee.Z.emit("Device successfully assigned to instance.","confirmation")}}},IA=(0,f.Z)(EA,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SelectInstance"),l=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(l,{ref:"dialog",header:"Add Device to Instance",class:"ff-dialog-fixed-height","confirm-label":"Add","data-el":"assign-device-dialog",onConfirm:t[1]||(t[1]=e=>o.assignDevice())},{default:(0,n.w5)((()=>[(0,n._)("form",SA,[TA,(0,n.Wm)(r,{modelValue:s.input.instance,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.instance=e),team:e.team},null,8,["modelValue","team"])])])),_:1},512)}]]);const _A={class:"text-gray-800"},UA=(0,n._)("p",null," Are you sure you want to regenerate configuration for this device? ",-1),VA=(0,n._)("p",{class:"mt-3 mb-6"}," The existing configuration will be reset and the device will not be able to reconnect until it has been given its new configuration. ",-1),jA=(0,n._)("p",null," To connect your device to the platform, use the following configuration. This will need to be placed on your device. ",-1),PA=(0,n._)("p",{class:"mt-3 mb-3"},[(0,n.Uk)(" See the "),(0,n._)("a",{href:"https://flowforge.com/docs/device-agent/register/#connect-the-device",target:"_blank",rel:"noreferrer"},"Connect Your Device"),(0,n.Uk)(" documentation for more information. ")],-1),ZA=(0,n._)("p",{class:"font-bold mt-3 mb-6"}," Make a note of this configuration, as this is the only time you will see it. ",-1),MA={class:"overflow-auto text-sm p-4 mt-6 border rounded bg-gray-800 text-gray-200"};var BA={methods:{async copyToClipboard(e){return FA.copy(e)}},computed:{clipboardSupported(){return FA.supported}}};const FA={get supported(){return!(!navigator.clipboard||!navigator.clipboard.writeText)},async requestPermission(){return navigator.permissions.query({name:"clipboard-write"})},async writeClipboard(e){return"granted"===(await FA.requestPermission()).state&&(await navigator.clipboard.writeText(e),!0)},async copy(e){const t=FA.normaliseInput(e);return FA.writeClipboard(t)},normaliseInput(e){const t="function"==typeof e?e():e;let a;switch(typeof t){case"string":a=t;break;case"object":a=JSON.stringify(t||"")||"";break;default:a=String(t)}return a}};var WA={name:"DeviceCredentialsDialog",components:{DocumentDownloadIcon:sm.Z},mixins:[BA],props:["team"],data(){return{device:null}},methods:{downloadCredentials(){const e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(this.credentials)),e.setAttribute("download",`device-${this.device.id}.yml`),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},async regenerateCredentials(){const e=await(async e=>ba.Z.post(`/api/v1/devices/${e}/generate_credentials`).then((e=>e.data)))(this.device.id);this.device.credentials=e},close(){this.$refs.dialog.close(),this.device.credentials=void 0},copy(){this.copyToClipboard(this.credentials).then((()=>{Ee.Z.emit("Copied to Clipboard.","confirmation")})).catch((e=>{console.warn("Clipboard write permission denied: ",e),Ee.Z.emit("Clipboard write permission denied.","warning")}))}},computed:{...(0,o.rn)("account",["settings"]),hasCredentials:function(){return this.device&&this.device.credentials},credentials:function(){let e="";return this.device&&(e=`deviceId: ${this.device.id}\ntoken: ${this.device.credentials.token}\ncredentialSecret: ${this.device.credentials.credentialSecret}\nforgeURL: ${this.settings.base_url}\n`,this.device.credentials.broker&&(e+=`brokerURL: ${this.device.credentials.broker.url}\nbrokerUsername: ${this.device.credentials.broker.username}\nbrokerPassword: ${this.device.credentials.broker.password}\n`)),e}},setup(){return{show(e){this.$refs.dialog.show(),this.device=e}}}},NA=(0,f.Z)(WA,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-button"),c=(0,n.up)("DocumentDownloadIcon"),d=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(d,{ref:"dialog",header:"Device Configuration"},{default:(0,n.w5)((()=>[(0,n._)("form",_A,[o.hasCredentials?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[UA,VA],64)),o.hasCredentials?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[jA,PA,ZA,(0,n._)("pre",MA,(0,l.toDisplayString)(o.credentials),1)],64)):(0,n.kq)("v-if",!0)])])),actions:(0,n.w5)((()=>[o.hasCredentials?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[e.clipboardSupported?((0,n.wg)(),(0,n.j4)(r,{key:0,kind:"secondary",onClick:t[2]||(t[2]=e=>o.copy())},{default:(0,n.w5)((()=>[(0,n.Uk)("Copy to Clipboard")])),_:1})):(0,n.kq)("v-if",!0),(0,n.Wm)(r,{kind:"secondary",onClick:t[3]||(t[3]=e=>o.downloadCredentials())},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(c)])),default:(0,n.w5)((()=>[(0,n.Uk)("Download device-"+(0,l.toDisplayString)(s.device.id)+".yml",1)])),_:1}),(0,n.Wm)(r,{class:"ml-4",onClick:t[4]||(t[4]=e=>o.close())},{default:(0,n.w5)((()=>[(0,n.Uk)("Done")])),_:1})],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Wm)(r,{kind:"secondary",onClick:t[0]||(t[0]=e=>o.close())},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1}),(0,n.Wm)(r,{kind:"danger",class:"ml-4",onClick:t[1]||(t[1]=e=>o.regenerateCredentials())},{default:(0,n.w5)((()=>[(0,n.Uk)("Regenerate configuration")])),_:1})],64))])),_:1},512)}]]);const RA={class:"space-y-6 mt-2"},LA={key:0};var qA={name:"TeamDeviceCreateDialog",components:{FormRow:Ae.Z},mixins:[Vy],props:{team:{type:Object,required:!0}},emits:["deviceUpdated","deviceCreating","deviceCreated"],setup(){return{show(e,t,a){this.$refs.dialog.show(),this.instance=t||a,this.device=e,e?this.input={name:e.name,type:e.type}:(this.editDisabled=!1,this.input={name:"",type:""}),this.errors={}}}},data(){return{device:null,instance:null,totalDeviceCount:0,input:{name:"",type:""},errors:{},editDisabled:!1}},computed:{...(0,o.rn)("account",["features"]),deviceIsBillable(){return this.features.billing&&this.team.type.properties.billing?.deviceCost>0&&(this.team.type.properties.deviceFreeAllocation||0)<=this.totalDeviceCount},billingDescription(){return this.deviceIsBillable&&this.team.type.properties.billing?.deviceCost>0?`${this.formatCurrency(100*this.team.type.properties.billing?.deviceCost)} /month`:""},formValid(){return!!this.input.name}},async mounted(){if(this.features.billing&&this.team.type.properties.billing?.deviceCost>0){const e=await Dt.Z.getTeamDevices(this.team.id,null,0);this.totalDeviceCount=e.count}},methods:{confirm(){const e={name:this.input.name,type:this.input.type};this.device?yw(this.device.id,e).then((e=>{this.$emit("deviceUpdated",e),Ee.Z.emit("Device successfully updated.","confirmation")})).catch((e=>{console.error(e.response.data),e.response.data&&/name/.test(e.response.data.error)&&(this.errors.name=e.response.data.error)})):(e.team=this.team.id,this.$emit("deviceCreating"),(async e=>ba.Z.post("/api/v1/devices/",e).then((t=>{const a={"device-type":e.type,"created-at":t.data.createdAt};return Uh.Z.capture("$ff-device-created",a,{team:t.data.team.id}),Uh.Z.groupUpdate("device",t.data.id,a),t.data})))(e).then((e=>{if(this.instance){const t=e.credentials;return yw(e.id,{project:this.instance.id}).then((e=>{e.credentials=t,this.$emit("deviceCreated",e),Ee.Z.emit("Device successfully created.","confirmation")}))}this.$emit("deviceCreated",e),Ee.Z.emit("Device successfully created.","confirmation")})).catch((e=>{this.$emit("deviceCreated",null),console.error(e.response.data),e.response.data&&(/name/.test(e.response.data.error)?this.errors.name=e.response.data.error:Ee.Z.emit("Failed to create device: "+e.response.data.error,"warning",7500))})))}}},HA=(0,f.Z)(qA,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),c=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(c,{ref:"dialog",header:s.device?"Update Device":"Add Device","confirm-label":s.device?"Update":"Add","disable-primary":!o.formValid,onConfirm:t[2]||(t[2]=e=>o.confirm())},{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"description"),(0,n._)("form",RA,[(0,n.Wm)(r,{modelValue:s.input.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.name=e),"data-form":"device-name",error:s.errors.name,disabled:s.editDisabled,"container-class":"w-full"},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),description:(0,n.w5)((()=>[(0,n.Uk)("Provide a unique, identifiable name for your device.")])),_:1},8,["modelValue","error","disabled"]),(0,n.Wm)(r,{modelValue:s.input.type,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.type=e),"data-form":"device-type",error:s.errors.type,disabled:s.editDisabled,"container-class":"w-full"},{default:(0,n.w5)((()=>[(0,n.Uk)("Type")])),description:(0,n.w5)((()=>[(0,n.Uk)("Use this field to better identify your device, and sort/filter in your device list.")])),_:1},8,["modelValue","error","disabled"]),o.billingDescription?((0,n.wg)(),(0,n.iD)("div",LA,[(0,n._)("b",null,"Price: "+(0,l.toDisplayString)(o.billingDescription),1)])):(0,n.kq)("v-if",!0)])])),_:3},8,["header","confirm-label","disable-primary"])}]]);const OA={class:"ff-chart space-y-2"},GA={class:"flex items-center justify-between"},YA={class:"flex items-center gap-4"},zA={key:0,class:"flex items-center gap-1 opacity-50"},KA={key:0,class:"ff-chart-device-status"},XA=["onClick"],$A={class:"truncate overflow-ellipsis"};var QA=a(6887),JA=a(8100),eD=a(2153),tD={name:"DeviceStatusBar",components:{EyeIcon:QA.Z,EyeOffIcon:JA.Z,FilterIcon:eD.Z},props:{label:{required:!0,type:String},devices:{required:!0,type:Array},property:{required:!0,type:String},filter:{required:!0,type:[null,Object]}},emits:["filter-selected"],data(){return{visible:!0}},computed:{buckets(){let e=[];if("lastseen"===this.property)e=this.devices.map((e=>({id:e.id,bucket:xw(e.lastSeenAt,e.lastSeenMs)})));else{if("status"!==this.property)throw Error(`Do not know how to filter on the property '${this.property}'`);e=this.devices.map((e=>({id:e.id,bucket:{class:e.status,label:e.status}})))}const t={};return e.forEach((e=>{t[e.bucket.class]||(t[e.bucket.class]={label:e.bucket.label,devices:[]}),t[e.bucket.class].devices.push(e.id)})),t}},methods:{selected(e,t){this.filter?.bucket===e?this.$emit("filter-selected",null):this.$emit("filter-selected",{property:this.property,bucket:e,devices:t})},toggle(){this.visible=!this.visible}}},aD=(0,f.Z)(tD,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FilterIcon"),c=(0,n.up)("EyeIcon"),d=(0,n.up)("EyeOffIcon"),p=(0,n.Q2)("ff-tooltip");return(0,n.wg)(),(0,n.iD)("div",OA,[(0,n._)("div",GA,[(0,n._)("div",YA,[(0,n._)("h3",null,(0,l.toDisplayString)(a.label),1),a.filter?.property===a.property?((0,n.wg)(),(0,n.iD)("label",zA,[(0,n.Wm)(r,{class:"ff-icon ff-icon-sm"}),(0,n.Uk)(" Filter Applied - "+(0,l.toDisplayString)(a.filter?.devices.length)+" Device",1),a.filter?.devices.length>1?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)("s")],64)):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0)]),(0,n._)("button",{class:"ff-btn ff-btn--tertiary",onClick:t[0]||(t[0]=e=>o.toggle())},[s.visible?((0,n.wg)(),(0,n.j4)(c,{key:0,class:"ff-icon"})):((0,n.wg)(),(0,n.j4)(d,{key:1,class:"ff-icon"}))])]),s.visible?((0,n.wg)(),(0,n.iD)("div",KA,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.buckets,((e,t)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{key:t,class:(0,l.normalizeClass)(["capitalize","ff-chart-bar ff-chart-bar--"+t+" "+(a.filter?.property===a.property&&a.filter?.bucket&&a.filter?.bucket!==t?"ghost":"")]),style:(0,l.normalizeStyle)({width:e.devices.length/a.devices.length*100+"%"}),onClick:a=>o.selected(t,e.devices)},[(0,n._)("div",null,(0,l.toDisplayString)(e.devices.length),1),(0,n._)("label",$A,(0,l.toDisplayString)(e.label),1)],14,XA)),[[p,e.label,"top"]]))),128))])):(0,n.kq)("v-if",!0)])}]]),iD={name:"DevicesBrowser",components:{ClockIcon:mi.Z,DeviceAssignInstanceDialog:IA,DeviceCredentialsDialog:NA,PlusSmIcon:Kx.Z,SnapshotAssignDialog:DA,TeamDeviceCreateDialog:HA,EmptyState:nf,DevicesStatusBar:aD},mixins:[Pd],inheritAttrs:!1,props:{instance:{type:Object,required:!1,default:null},team:{type:Object,required:!0},teamMembership:{type:Object,required:!0}},emits:["instance-updated"],data(){return{loading:!0,filter:null,creatingDevice:!1,deletingDevice:!1,nextCursor:null,devices:new Map,checkInterval:null}},computed:{columns(){const e=[{label:"Device",key:"name",class:["w-64"],sortable:!0,component:{is:(0,et.Xl)(oA)}},{label:"Type",key:"type",class:["w-48"],sortable:!0}],t=[{label:"Last Seen",key:"lastSeenAt",class:["w-32"],sortable:!0,component:{is:(0,et.Xl)(Dw)}},{label:"Last Known Status",class:["w-32"],component:{is:(0,et.Xl)(Zg)}}];return this.displayingTeam&&e.push(...t,{label:"Application",class:["w-48"],key:"application",sortable:!0,component:{is:(0,et.Xl)(Qx),map:{id:"application.id",name:"application.name"}}}),this.displayingInstance||e.push({label:"Instance",key:"instance",class:["w-48"],sortable:!0,component:{is:(0,et.Xl)(cA),map:{id:"instance.id",name:"instance.name"}}}),this.displayingTeam||e.push(...t,{label:"Deployed Snapshot",class:["w-48"],component:{is:(0,et.Xl)(fA)}}),e},filteredDevices(){let e=[];return this.filter?this.filter.devices.forEach((t=>{e.push(this.devices.get(t))})):e=Array.from(this.devices.values()),e},displayingInstance(){return null!==this.instance},displayingTeam(){return null!==this.team&&!this.displayingInstance},hasLoadedModel(){return this.displayingInstance&&!!this.instance?.id||this.displayingTeam&&!!this.team?.id}},watch:{instance:"refreshData",application:"refreshData",team:"refreshData"},mounted(){this.pollForData()},unmounted(){clearInterval(this.checkInterval)},methods:{applyFilter(e){this.filter=e},showCreateDeviceDialog(){this.$refs.teamDeviceCreateDialog.show(null,this.instance,this.application)},showEditDeviceDialog(e){this.$refs.teamDeviceCreateDialog.show(e)},showSelectTargetSnapshotDialog(){this.$refs.snapshotAssignDialog.show()},deviceCreating(){this.creatingDevice=!0},deviceCreated(e){this.creatingDevice=!1,e&&(setTimeout((()=>{this.$refs.deviceCredentialsDialog.show(e)}),500),this.devices.set(e.id,e),this.applyFilter())},deviceUpdated(e){this.devices.set(e.id,e)},async assignDevice(e,t){const a=await yw(e.id,{instance:t});a.instance&&(e.instance=a.instance),a.application&&(e.application=a.application),this.devices.set(e.id,e)},async pollForData(){try{if(this.hasLoadedModel){const e=!this.checkInterval;await this.fetchData(null,!e)}}finally{this.checkInterval=setTimeout(this.pollForData,1e4)}},async refreshData(){this.nextCursor=null,this.loadMore()},async loadMore(){this.hasLoadedModel&&await this.fetchData(this.nextCursor)},async fetchData(e=null,t=!1){let a;if(this.displayingInstance)a=await Nh(this.instance.id,e);else{if(!this.displayingTeam)return console.warn("Trying to fetch data without a loaded model.");a=await Dt.Z.getTeamDevices(this.team.id,e)}e||t||(this.devices=new Map),a.devices.forEach((e=>{this.devices.set(e.id,e)})),t||(this.nextCursor=a.meta.next_cursor),this.applyFilter(this.filter),this.loading=!1},deviceAction(e,t){const a=this.devices.get(t);"edit"===e?this.showEditDeviceDialog(a):"delete"===e?Xe.Z.show({header:"Delete Device",kind:"danger",text:"Are you sure you want to delete this device? Once deleted, there is no going back.",confirmLabel:"Delete"},(async()=>{this.deletingDevice=!0;try{await vw(a.id),Ee.Z.emit("Successfully deleted the device","confirmation"),this.devices.delete(a.id)}catch(e){Ee.Z.emit("Failed to delete device: "+e.toString(),"warning",7500)}finally{this.deletingDevice=!1}})):"updateCredentials"===e?this.$refs.deviceCredentialsDialog.show(a):"removeFromProject"===e?Xe.Z.show({header:"Remove Device from Instance",kind:"danger",text:"Are you sure you want to remove this device from the instance? This will stop the flows running on the device.",confirmLabel:"Remove"},(async()=>{await yw(a.id,{instance:null}),delete a.instance,delete a.application,this.displayingInstance&&this.devices.delete(a.id),Ee.Z.emit("Successfully removed the device from the instance.","confirmation")})):"assignToProject"===e&&this.$refs.deviceAssignInstanceDialog.show(a)}}},nD=(0,f.Z)(iD,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),c=(0,n.up)("DevicesStatusBar"),d=(0,n.up)("ClockIcon"),p=(0,n.up)("ff-button"),u=(0,n.up)("PlusSmIcon"),m=(0,n.up)("ff-list-item"),h=(0,n.up)("ff-data-table"),g=(0,n.up)("EmptyState"),f=(0,n.up)("router-link"),v=(0,n.up)("TeamDeviceCreateDialog"),y=(0,n.up)("DeviceCredentialsDialog"),k=(0,n.up)("SnapshotAssignDialog"),b=(0,n.up)("DeviceAssignInstanceDialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Bx,[s.loading?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Loading Devices..."})):s.creatingDevice?((0,n.wg)(),(0,n.j4)(r,{key:1,message:"Creating Device..."})):s.deletingDevice?((0,n.wg)(),(0,n.j4)(r,{key:2,message:"Deleting Device..."})):((0,n.wg)(),(0,n.iD)(n.HY,{key:3},[s.devices.size>0?((0,n.wg)(),(0,n.j4)(c,{key:0,"data-el":"devicestatus-lastseen",label:"Last Seen",devices:Array.from(s.devices.values()),property:"lastseen",filter:s.filter,onFilterSelected:o.applyFilter},null,8,["devices","filter","onFilterSelected"])):(0,n.kq)("v-if",!0),s.devices.size>0?((0,n.wg)(),(0,n.j4)(c,{key:1,"data-el":"devicestatus-status",label:"Last Known Status",devices:Array.from(s.devices.values()),property:"status",filter:s.filter,onFilterSelected:o.applyFilter},null,8,["devices","filter","onFilterSelected"])):(0,n.kq)("v-if",!0),s.devices.size>0?((0,n.wg)(),(0,n.j4)(h,{key:2,"data-el":"devices-browser",columns:o.columns,rows:o.filteredDevices,"show-search":!0,"search-placeholder":"Search Devices","show-load-more":!!s.nextCursor,onLoadMore:o.loadMore},(0,n.Nv)({actions:(0,n.w5)((()=>[o.displayingInstance&&e.hasPermission("project:snapshot:create")?((0,n.wg)(),(0,n.j4)(p,{key:0,"data-action":"change-target-snapshot",kind:"secondary",onClick:o.showSelectTargetSnapshotDialog},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(d)])),default:(0,n.w5)((()=>[(0,n._)("span",Fx,[(0,n.Uk)(" Target Snapshot: "),(0,n._)("b",null,(0,l.toDisplayString)(a.instance.targetSnapshot?.name||"none"),1)])])),_:1},8,["onClick"])):(0,n.kq)("v-if",!0),e.hasPermission("device:create")?((0,n.wg)(),(0,n.j4)(p,{key:1,class:"font-normal","data-action":"register-device",kind:"primary",onClick:o.showCreateDeviceDialog},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(u)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Add Device ")])),_:1},8,["onClick"])):(0,n.kq)("v-if",!0)])),_:2},[e.hasPermission("device:edit")?{name:"context-menu",fn:(0,n.w5)((({row:t})=>[(0,n.Wm)(m,{label:"Edit Details",onClick:e=>o.deviceAction("edit",t.id)},null,8,["onClick"]),!t.instance&&o.displayingTeam?((0,n.wg)(),(0,n.j4)(m,{key:0,label:"Add to Instance","data-action":"device-assign",onClick:e=>o.deviceAction("assignToProject",t.id)},null,8,["onClick"])):((0,n.wg)(),(0,n.j4)(m,{key:1,label:"Remove from Application Instance","data-action":"device-remove",onClick:e=>o.deviceAction("removeFromProject",t.id)},null,8,["onClick"])),(0,n.Wm)(m,{kind:"danger",label:"Regenerate Configuration",onClick:e=>o.deviceAction("updateCredentials",t.id)},null,8,["onClick"]),e.hasPermission("device:delete")?((0,n.wg)(),(0,n.j4)(m,{key:2,kind:"danger",label:"Delete Device",onClick:e=>o.deviceAction("delete",t.id)},null,8,["onClick"])):(0,n.kq)("v-if",!0)])),key:"0"}:void 0]),1032,["columns","rows","show-load-more","onLoadMore"])):((0,n.wg)(),(0,n.iD)(n.HY,{key:3},[o.displayingTeam?((0,n.wg)(),(0,n.j4)(g,{key:0,"data-el":"team-no-devices"},{img:(0,n.w5)((()=>[Wx])),header:(0,n.w5)((()=>[(0,n.Uk)("Connect your First Device")])),message:(0,n.w5)((()=>[Nx,Rx])),actions:(0,n.w5)((()=>[e.hasPermission("device:create")?((0,n.wg)(),(0,n.j4)(p,{key:0,class:"font-normal",kind:"primary","data-action":"register-device",onClick:o.showCreateDeviceDialog},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(u)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Add Device ")])),_:1},8,["onClick"])):(0,n.kq)("v-if",!0)])),_:1})):o.displayingInstance?((0,n.wg)(),(0,n.j4)(g,{key:1,"data-el":"instance-no-devices"},{img:(0,n.w5)((()=>[Lx])),header:(0,n.w5)((()=>[(0,n.Uk)("Connect your First Device")])),message:(0,n.w5)((()=>[qx,(0,n._)("p",null,[(0,n.Uk)(" You can deploy "),(0,n.Wm)(f,{class:"ff-link",to:{name:"InstanceSnapshots",params:{id:a.instance.id}}},{default:(0,n.w5)((()=>[(0,n.Uk)("Snapshots")])),_:1},8,["to"]),(0,n.Uk)(" of this Instance to your connected Devices. ")]),(0,n._)("p",null,[(0,n.Uk)(" A full list of your Team's Devices are available "),(0,n.Wm)(f,{class:"ff-link",to:{name:"TeamDevices",params:{team_slug:a.team.slug}}},{default:(0,n.w5)((()=>[(0,n.Uk)(" here ")])),_:1},8,["to"]),(0,n.Uk)(". ")])])),_:1})):((0,n.wg)(),(0,n.iD)("div",Hx,Ox))],64))],64))]),(0,n.Wm)(v,{ref:"teamDeviceCreateDialog",team:a.team,onDeviceCreating:o.deviceCreating,onDeviceCreated:o.deviceCreated,onDeviceUpdated:o.deviceUpdated},{description:(0,n.w5)((()=>[(0,n._)("p",null,[(0,n.Uk)(" Here, you can add a new device to your "),o.displayingTeam?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)("team.")],64)):o.displayingInstance?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)("application instance.")],64)):(0,n.kq)("v-if",!0),(0,n.Uk)(" This will generate a "),Gx,(0,n.Uk)(" file that should be placed on the target device. ")]),(0,n._)("p",Yx,[(0,n.Uk)(" If you want your device to be automatically registered to an instance, in order to remotely deploy flows, you can use provisioning tokens in your "),(0,n.Wm)(f,{to:{name:"TeamSettingsDevices",params:{team_slug:a.team.slug}}},{default:(0,n.w5)((()=>[(0,n.Uk)("Team Settings")])),_:1},8,["to"])]),zx])),_:1},8,["team","onDeviceCreating","onDeviceCreated","onDeviceUpdated"]),(0,n.Wm)(y,{ref:"deviceCredentialsDialog"},null,512),o.displayingInstance?((0,n.wg)(),(0,n.j4)(k,{key:0,ref:"snapshotAssignDialog",instance:a.instance,onSnapshotAssigned:t[0]||(t[0]=t=>e.$emit("instance-updated"))},null,8,["instance"])):(0,n.kq)("v-if",!0),o.displayingTeam?((0,n.wg)(),(0,n.j4)(b,{key:1,ref:"deviceAssignInstanceDialog",onAssignDevice:o.assignDevice},null,8,["onAssignDevice"])):(0,n.kq)("v-if",!0)],64)}]]),sD={name:"InstanceRemoteInstances",components:{DevicesBrowser:nD,SectionTopMenu:Wa},mixins:[Pd],inheritAttrs:!1,props:{instance:{required:!0,type:Object}},emits:["instance-updated"],computed:{...(0,o.rn)("account",["team","teamMembership"])}};const oD=(0,f.Z)(sD,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("DevicesBrowser");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{hero:"Devices","help-header":"FlowForge - Devices",info:"A list of all edge devices registered to this instance."},{helptext:(0,n.w5)((()=>[jx,Px,Zx,Mx])),_:1}),(0,n.Wm)(l,{team:e.team,teamMembership:e.teamMembership,instance:a.instance,onInstanceUpdated:t[0]||(t[0]=t=>e.$emit("instance-updated",...arguments))},null,8,["team","teamMembership","instance"])],64)}]]);var rD=oD;const lD={class:"mb-3"},cD={style:{display:"flex","align-items":"center"}},dD=(0,n._)("div",{class:"mr-2"},[(0,n._)("strong",null,"Replica:")],-1);var pD={name:"InstanceLogs",components:{LogsShared:lg,SectionTopMenu:Wa},inheritAttrs:!1,props:{instance:{type:Object,required:!0}},data(){return{haIds:[],selectedHAId:"all"}},methods:{newHAId(e){this.haIds.includes(e)||this.haIds.push(e)}}},uD=(0,f.Z)(pD,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-dropdown-option"),l=(0,n.up)("ff-dropdown"),c=(0,n.up)("SectionTopMenu"),d=(0,n.up)("LogsShared");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",lD,[(0,n.Wm)(c,{hero:"Node-RED Logs",info:""},(0,n.Nv)({_:2},[null!=a.instance.ha?.replicas?{name:"tools",fn:(0,n.w5)((()=>[(0,n._)("div",cD,[dD,(0,n.Wm)(l,{ref:"dropdown",modelValue:s.selectedHAId,"onUpdate:modelValue":t[0]||(t[0]=e=>s.selectedHAId=e),"data-el":"select-ha-replica"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{label:"All",value:"all"}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.haIds,(e=>((0,n.wg)(),(0,n.j4)(r,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])),key:"0"}:void 0]),1024)]),(0,n.Wm)(d,{instance:a.instance,filter:s.selectedHAId,onHaInstanceDetected:o.newHAId},null,8,["instance","filter","onHaInstanceDetected"])],64)}]]);const mD={class:"ff-project-overview space-y-4"},hD={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},gD={class:"ff-instance-info"},fD={class:"table-fixed w-full border border-separate rounded"},vD={class:"border-b"},yD=(0,n._)("td",{class:"w-40 font-medium"},"Editor",-1),kD={key:0},bD={key:0,class:"my-2"},wD=["href"],xD={class:"ml-r"},AD={key:1,class:"my-2"},DD={class:"border-b"},SD=(0,n._)("td",{class:"font-medium"},"Status",-1),TD={class:"py-2"},CD={class:"border-b"},ED=(0,n._)("td",{class:"font-medium"},"Last Updated",-1),ID={class:"py-2"},_D={key:1,class:"text-gray-400 italic"},UD={class:"ff-instance-info"},VD={class:"table-fixed w-full"},jD={class:"border-b"},PD=(0,n._)("td",{class:"w-48 font-medium"},"Type",-1),ZD={class:"flex items-center"},MD={class:"py-2 flex-grow"},BD={key:0},FD={key:0,class:"border-b"},WD=(0,n._)("td",{class:"font-medium"},"Template",-1),ND={class:"py-2"},RD={class:"border-b"},LD=(0,n._)("td",{class:"font-medium"},"Node-RED Version",-1),qD={class:"py-2"},HD={class:"border-b"},OD=(0,n._)("td",{class:"font-medium"},"Launcher Version",-1),GD={class:"py-2"},YD={class:"border-b"},zD=(0,n._)("td",{class:"font-medium"},"Node.js Version",-1),KD={class:"py-2"},XD={class:"ff-instance-info"},$D={class:"pb-4 text-center"};var QD=a(4058),JD=a(4288),eS={name:"InstanceOverview",components:{AuditLog:cr,ExternalLinkIcon:hx.Z,FormHeading:Pe.Z,InstanceStatusBadge:Zg,ServerIcon:QD.Z,StatusBadge:jg,TemplateIcon:li.Z,TrendingUpIcon:JD.Z},mixins:[Pd],inheritAttrs:!1,props:{instance:{required:!0,type:Object},isVisitingAdmin:{required:!0,type:Boolean}},data(){return{auditLog:[]}},computed:{...(0,o.rn)("account",["teamMembership"]),instanceRunning(){return"running"===this.instance?.meta?.state},editorAvailable(){return!this.isHA&&this.instanceRunning},isHA(){return void 0!==this.instance?.ha?.replicas}},watch:{"instance.id":function(e,t){this.loadLogs()}},mounted(){this.loadLogs()},methods:{loadLogs(){this.instance&&this.instance.id&&this.loadItems(this.instance.id).then((e=>{this.auditLog=e.log}))},loadItems:async function(e,t){return await Zh(e,null,t,4)}}},tS=a(6268),aS={};aS.styleTagTransform=or(),aS.setAttributes=ar(),aS.insert=er().bind(null,"head"),aS.domAPI=Qo(),aS.insertStyleElement=nr(),Xo()(tS.Z,aS),tS.Z&&tS.Z.locals&&tS.Z.locals;var iS=(0,f.Z)(eS,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("TemplateIcon"),c=(0,n.up)("FormHeading"),d=(0,n.up)("ExternalLinkIcon"),p=(0,n.up)("StatusBadge"),u=(0,n.up)("router-link"),m=(0,n.up)("InstanceStatusBadge"),h=(0,n.up)("ServerIcon"),g=(0,n.up)("ff-button"),f=(0,n.up)("TrendingUpIcon"),v=(0,n.up)("AuditLog");return(0,n.wg)(),(0,n.iD)("div",mD,[(0,n._)("div",hD,[(0,n._)("div",null,[(0,n._)("div",gD,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r),(0,n.Uk)("Info")])),_:1}),(0,n._)("table",fD,[(0,n._)("tr",vD,[yD,(0,n._)("td",null,[o.editorAvailable?((0,n.wg)(),(0,n.iD)("div",kD,[a.isVisitingAdmin||a.instance.settings.disableEditor?((0,n.wg)(),(0,n.iD)("div",bD,(0,l.toDisplayString)(a.instance.url),1)):((0,n.wg)(),(0,n.iD)("a",{key:1,href:a.instance.url,target:"_blank",class:"ff-link flex","data-el":"editor-link"},[(0,n._)("span",xD,(0,l.toDisplayString)(a.instance.url),1),(0,n.Wm)(d,{class:"w-4 ml-3"})],8,wD))])):((0,n.wg)(),(0,n.iD)("div",AD,[o.isHA?((0,n.wg)(),(0,n.j4)(u,{key:0,to:{name:"InstanceSettingsHA",params:{id:a.instance.id}},onClick:t[0]||(t[0]=(0,Oe.withModifiers)((()=>{}),["stop"]))},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"text-gray-400 hover:text-blue-600",status:"high-availability"})])),_:1},8,["to"])):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)(" Unavailable ")],64))]))])]),(0,n._)("tr",DD,[SD,(0,n._)("td",TD,[(0,n.Wm)(m,{status:a.instance.meta.state,pendingStateChange:a.instance.pendingStateChange,optimisticStateChange:a.instance.optimisticStateChange},null,8,["status","pendingStateChange","optimisticStateChange"])])]),(0,n._)("tr",CD,[ED,(0,n._)("td",ID,[a.instance.flowLastUpdatedSince?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)((0,l.toDisplayString)(a.instance.flowLastUpdatedSince),1)],64)):((0,n.wg)(),(0,n.iD)("span",_D," flows never deployed "))])])])]),(0,n._)("div",UD,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h),(0,n.Uk)("Specs")])),_:1}),(0,n._)("table",VD,[(0,n._)("tr",jD,[PD,(0,n._)("td",ZD,[(0,n._)("div",MD,(0,l.toDisplayString)(a.instance.projectType?.name||"none")+" / "+(0,l.toDisplayString)(a.instance.stack?.label||a.instance.stack?.name||"none"),1),a.instance.stack?.replacedBy?((0,n.wg)(),(0,n.iD)("div",BD,[(0,n.Wm)(g,{size:"small",to:"./settings/general"},{default:(0,n.w5)((()=>[(0,n.Uk)("Update")])),_:1})])):(0,n.kq)("v-if",!0)])]),a.instance.template?.name?((0,n.wg)(),(0,n.iD)("tr",FD,[WD,(0,n._)("td",null,[(0,n._)("div",ND,(0,l.toDisplayString)(a.instance.template?.name),1)])])):(0,n.kq)("v-if",!0),a.instance.meta?.versions?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n._)("tr",RD,[LD,(0,n._)("td",null,[(0,n._)("div",qD,(0,l.toDisplayString)(a.instance.meta.versions["node-red"]),1)])]),(0,n._)("tr",HD,[OD,(0,n._)("td",null,[(0,n._)("div",GD,(0,l.toDisplayString)(a.instance.meta.versions.launcher),1)])]),(0,n._)("tr",YD,[zD,(0,n._)("td",null,[(0,n._)("div",KD,(0,l.toDisplayString)(a.instance.meta.versions.node),1)])])],64)):(0,n.kq)("v-if",!0)])])]),(0,n._)("div",XD,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f),(0,n.Uk)("Recent Activity")])),_:1}),(0,n.Wm)(v,{entries:s.auditLog,showLoadMore:!1,disableAccordion:!0},null,8,["entries"]),(0,n._)("div",$D,[(0,n.Wm)(u,{to:"./audit-log",class:"forge-button-inline"},{default:(0,n.w5)((()=>[(0,n.Uk)("More...")])),_:1})])])])])}]]);const nS={class:"mb-3"},sS={class:"flex flex-col sm:flex-row ml-6"},oS={class:"flex-grow"};var rS={name:"InstanceSettings",components:{SectionTopMenu:Wa,SectionSideMenu:Re},mixins:[Pd],inheritAttrs:!1,props:{instance:{type:Object,required:!0}},emits:["instance-updated","instance-confirm-delete","instance-confirm-suspend"],data(){return{sideNavigation:[]}},computed:{...(0,o.rn)("account",["team","teamMembership","features"])},watch:{teamMembership:"checkAccess"},mounted(){this.checkAccess()},methods:{checkAccess:async function(){this.sideNavigation=[{name:"General",path:"./general"},{name:"Environment",path:"./environment"}],this.hasPermission("project:edit")&&(this.features.ha&&this.sideNavigation.push({name:"High Availability",path:"./ha"}),this.sideNavigation.push({name:"Editor",path:"./editor"}),this.sideNavigation.push({name:"Security",path:"./security"}),this.sideNavigation.push({name:"Palette",path:"./palette"}))}}},lS=(0,f.Z)(rS,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("SectionSideMenu"),c=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",nS,[(0,n.Wm)(r,{hero:"Settings",info:""})]),(0,n._)("div",sS,[(0,n.Wm)(l,{options:s.sideNavigation},null,8,["options"]),(0,n._)("div",oS,[(0,n.Wm)(c,{project:a.instance,instance:a.instance,onInstanceUpdated:t[0]||(t[0]=t=>e.$emit("instance-updated")),onInstanceConfirmSuspend:t[1]||(t[1]=t=>e.$emit("instance-confirm-suspend")),onInstanceConfirmDelete:t[2]||(t[2]=t=>e.$emit("instance-confirm-delete"))},null,8,["project","instance"])])])],64)}]]);const cS={class:"w-full max-w-4xl","data-el":"change-project"};var dS={name:"ChangeInstanceType",components:{InstanceForm:Ny},inheritAttrs:!1,props:{instance:{required:!0,type:Object}},emits:["instance-updated"],data(){return{saving:!1,instanceDetails:null}},computed:{...(0,o.rn)("account",["team","features"])},methods:{changeInstanceDefinition(e){if("string"!=typeof e.projectType||""===e.projectType)return void Ee.Z.emit("No instance is selected. Try refreshing your browser and try again","warning",3500);const t={...e,team:this.team.id};this.saving=!0,Wh(this.instance.id,t).then((()=>{this.$emit("instance-updated"),Ee.Z.emit("Instance successfully updated.","confirmation"),this.$router.push({name:"Instance"})})).catch((t=>{console.warn(t),Ee.Z.emit("Instance update failed.","warning"),this.instanceDetails={...e,id:this.instance.id}})).finally((()=>{this.saving=!1}))}}},pS=(0,f.Z)(dS,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),l=(0,n.up)("InstanceForm");return(0,n.wg)(),(0,n.iD)("div",cS,[s.saving?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Updating Instance..."})):((0,n.wg)(),(0,n.j4)(l,{key:1,instance:s.instanceDetails||a.instance,team:e.team,billingEnabled:!!e.features.billing,onOnSubmit:o.changeInstanceDefinition},null,8,["instance","team","billingEnabled","onOnSubmit"]))])}]]);const uS={key:6,class:"space-y-6"},mS={key:0,class:"flex flex-col space-y-4 max-w-2xl lg:flex-row lg:items-center lg:space-y-0"},hS=(0,n._)("div",{class:"flex-grow"},[(0,n._)("div",{class:"max-w-sm"}," There is a new version of the current stack available. Updating the stack will restart the instance. ")],-1),gS={class:"min-w-fit flex-shrink-0"},fS={class:"flex flex-col space-y-4 max-w-2xl lg:flex-row lg:items-center lg:space-y-0"},vS=(0,n._)("div",{class:"flex-grow"},[(0,n._)("div",{class:"max-w-sm"}," Changing the Instance Stack requires the instance to be restarted. The flows will not be running while this happens. ")],-1),yS={class:"min-w-fit flex-shrink-0"},kS={class:"flex flex-col space-y-4 max-w-2xl lg:flex-row lg:items-center lg:space-y-0"},bS=(0,n._)("div",{class:"flex-grow"},[(0,n._)("div",{class:"max-w-sm"}," Add a new instance to your application, that is a copy of this instance. ")],-1),wS={class:"min-w-fit flex-shrink-0"},xS={class:"flex flex-col space-y-4 max-w-2xl lg:flex-row lg:items-center lg:space-y-0"},AS=(0,n._)("div",{class:"flex-grow"},[(0,n._)("div",{class:"max-w-sm"}," Import an existing Node-RED instance. ")],-1),DS={class:"min-w-fit flex-shrink-0"},SS={class:"flex flex-col space-y-4 max-w-2xl lg:flex-row lg:items-center lg:space-y-0"},TS=(0,n._)("div",{class:"flex-grow"},[(0,n._)("div",{class:"max-w-sm"}," Changing the Instance Type will restart the instance. The flows will not be running while this happens. ")],-1),CS={class:"min-w-fit flex-shrink-0"},ES={class:"flex flex-col space-y-4 max-w-2xl lg:flex-row lg:items-center lg:space-y-0"},IS={class:"flex-grow"},_S={key:0,class:"max-w-sm"},US={key:1,class:"max-w-sm"},VS={key:0},jS={class:"min-w-fit flex-shrink-0"},PS={class:"flex flex-col space-y-4 max-w-2xl lg:flex-row lg:items-center lg:space-y-0"},ZS=(0,n._)("div",{class:"flex-grow"},[(0,n._)("div",{class:"max-w-sm"}," Once deleted, your instance is gone. This cannot be undone. ")],-1),MS={class:"min-w-fit flex-shrink-0"},BS=(0,n._)("p",null," Select the new stack you want to use for this instance: ",-1);var FS={name:"ChangeStackDialog",components:{FormRow:Ae.Z},emits:["confirm"],setup(){return{async show(e){this.$refs.dialog.show(),this.project=e,this.input.stack=this.project.stack?.id;const t=await Er(null,null,"all",this.project.projectType?.id);this.stacks=t.stacks.filter((e=>e.active||e.id===this.project.stack?.id)).map((e=>({value:e.id,label:(e.label||e.name)+(e.id===this.project.stack?.id?" (current)":"")})))}}},data(){return{input:{stack:""},stacks:[],project:null}},methods:{confirm(){this.$emit("confirm",this.input.stack)}}},WS=(0,f.Z)(FS,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),l=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(l,{ref:"dialog",header:"Change Instance Stack","confirm-label":"Change Stack",class:"ff-dialog-fixed-height","data-el":"change-stack-dialog",onConfirm:t[2]||(t[2]=e=>o.confirm())},{default:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-6",onSubmit:t[1]||(t[1]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[BS,(0,n.Wm)(r,{modelValue:s.input.stack,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.stack=e),options:s.stacks,"data-form":"snapshot",containerClass:"w-full"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Stack ")])),_:1},8,["modelValue","options"])],32)])),_:1},512)}]]);const NS=(0,n._)("div",{class:"mt-2 space-y-2"},[(0,n._)("p",{class:"text-sm text-gray-500"}," Replace current flows by uploading a new flow file. This will restart the instance to pick up the new flow or credentials ")],-1),RS={class:"space-y-4 my-3"};var LS={name:"ImportProjectComponent",components:{FormRow:Ae.Z},props:["modelValue"],emits:["update:modelValue"],data(){return{disableCredsSecret:!0,localData:{flows:"",creds:"",secret:""},errors:{flows:"",creds:"",secret:""}}},computed:{parts:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},withCreds(){return this.disableCredsSecret}},watch:{localData:{deep:!0,handler(e){e.flows?.val&&this.getFlowFile(e.flows.obj.files[0]),e.creds?.val&&(this.disableCredsSecret=!1,this.getCredsFile(e.creds.obj.files[0])),this.parts.credsSecret=e.secret}}},mounted(){this.disableCredsSecret=!0,this.localData.flows=null,this.localData.creds=null,this.localData.secret=""},methods:{getFlowFile(e){const t=new FileReader;t.onload=e=>{try{const e=JSON.parse(t.result);Array.isArray(e)?(this.parts.flows=t.result,this.errors.flows=""):(this.parts.flows=void 0,this.errors.flows="Does not look like a flow file")}catch(e){console.error(e),this.parts.flows=void 0,this.errors.flows="Not JSON"}},t.readAsText(e)},getCredsFile(e){const t=new FileReader;t.onload=e=>{try{JSON.parse(t.result),this.parts.credentials=t.result,this.errors.creds=""}catch(e){console.error(e),this.parts.credentials=void 0,this.errors.creds="Not JSON"}},t.readAsText(e)},clear(){this.localData.flows?.obj&&(this.localData.flows.obj.value=""),this.localData.flows=void 0,this.localData.creds?.obj&&(this.localData.creds.obj.value=""),this.localData.creds=void 0,this.localData.secret=""}}},qS={name:"ImportInstanceDialog",components:{ImportInstanceComponents:(0,f.Z)(LS,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow");return(0,n.wg)(),(0,n.iD)("div",RS,[(0,n.Wm)(r,{ref:"flows",modelValue:s.localData.flows,"onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.flows=e),"data-form":"instance-flow-file",type:"file",accept:".json",error:s.errors.flows},{default:(0,n.w5)((()=>[(0,n.Uk)(" Flow File ")])),_:1},8,["modelValue","error"]),(0,n.Wm)(r,{ref:"creds",modelValue:s.localData.creds,"onUpdate:modelValue":t[1]||(t[1]=e=>s.localData.creds=e),"data-form":"instance-creds-file",type:"file",accept:".json",errors:s.errors.creds},{default:(0,n.w5)((()=>[(0,n.Uk)(" Credentials File ")])),_:1},8,["modelValue","errors"]),(0,n.Wm)(r,{modelValue:s.localData.secret,"onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.secret=e),"data-form":"instance-creds-secret",disabled:o.withCreds,type:"text"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Credentials Secret ")])),_:1},8,["modelValue","disabled"])])}]])},emits:["confirm"],setup(){return{async show(e){this.$refs.dialog.show(),this.project=e,this.parts={flows:"",credentials:"",credsSecret:""}}}},data(){return{parts:{flows:"",credentials:"",credsSecret:""}}},computed:{disabled(){return!((this.parts.credentials&&this.parts.credsSecret||!this.parts.credentials)&&this.parts.flows)}},methods:{confirm(){const e=this.parts;e.credentials&&e.credsSecret&&e.credsSecret.trim()&&(e.credsSecret=e.credsSecret.trim()),this.$emit("confirm",this.parts),this.$refs["project-components"].clear()},cancel(){this.$refs["project-components"].clear()}}},HS=(0,f.Z)(qS,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ImportInstanceComponents"),l=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(l,{ref:"dialog",header:"Import Flows","confirm-label":"Import Instance",kind:"danger",disablePrimary:o.disabled,onConfirm:t[2]||(t[2]=e=>o.confirm()),onCancel:t[3]||(t[3]=e=>o.cancel())},{default:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-6",onSubmit:t[1]||(t[1]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[NS,(0,n.Wm)(r,{id:"importSettings",ref:"project-components",modelValue:s.parts,"onUpdate:modelValue":t[0]||(t[0]=e=>s.parts=e)},null,8,["modelValue"])],32)])),_:1},8,["disablePrimary"])}]]),OS={name:"InstanceSettingsDanger",components:{FormHeading:Pe.Z,ChangeStackDialog:WS,ImportInstanceDialog:HS},mixins:[Pd],inheritAttrs:!1,props:{instance:{type:Object,required:!0}},emits:["instance-updated","instance-confirm-delete","instance-confirm-suspend"],data(){return{loading:{settingType:!1,deleting:!1,changingStack:!1,duplicating:!1,suspend:!1,importing:!1}}},computed:{...(0,o.rn)("account",["team","features","teamMembership"]),isLoading(){return this.loading.deleting||this.loading.suspend||this.loading.changingStack||this.loading.duplicating||this.loading.settingType}},mounted(){this.checkAccess()},methods:{async checkAccess(){this.hasPermission("project:edit")||(0,i.tv)().push({replace:!0,path:"general"})},showProjectChangeTypePage(){this.$router.push({name:"ChangeInstanceType"})},showChangeStackDialog(){this.$refs.changeStackDialog.show(this.instance)},showDuplicateInstanceDialog(){this.$router.push({name:"ApplicationCreateInstance",params:{id:this.instance.application.id,team_slug:this.team.slug},query:{sourceInstanceId:this.instance.id}})},showImportInstanceDialog(){this.$refs.importInstanceDialog.show(this.instance)},upgradeStack(){this.changeStack(this.instance.stack.replacedBy)},duplicateProject(e){this.loading.duplicating=!0,Vh(e).then((e=>{this.$router.push({name:"Instance",params:{id:e.id}}),Ee.Z.emit("Instance successfully duplicated.","confirmation")})).catch((e=>{console.error(e),Ee.Z.emit("Instance failed to duplicate.","warning")})).finally((()=>{this.loading.duplicating=!1}))},importInstance(e){this.loading.importing=!0,(async(e,t)=>ba.Z.post(`/api/v1/projects/${e}/import`,t).then((e=>{})))(this.instance.id,e).then((e=>{this.$router.push({name:"Instance",params:{id:this.instance.id}}),Ee.Z.emit("Instance flows imported.","confirmation")})).catch((e=>{console.error(e),Ee.Z.emit("Failed to import flows.","warning")})).finally((()=>{this.loading.importing=!1}))},changeStack(e){this.instance.stack?.id!==e&&(this.loading.changingStack=!0,(async(e,t)=>ba.Z.put(`/api/v1/projects/${e}`,{stack:t}).then((a=>(Uh.Z.groupUpdate("instance",e,{stack:t}),a.data))))(this.instance.id,e).then((()=>{this.$router.push({name:"Instance",params:{id:this.instance.id}}),this.$emit("instance-updated"),Ee.Z.emit("Instance stack successfully updated.","confirmation")})).catch((e=>{console.warn(e),Ee.Z.emit("Instance stack was not updated due to an error.","warning")})).finally((()=>{this.loading.changingStack=!1})))}}},GS=(0,f.Z)(OS,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),l=(0,n.up)("FormHeading"),c=(0,n.up)("ff-button"),d=(0,n.up)("ChangeStackDialog"),p=(0,n.up)("ImportInstanceDialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.loading.deleting?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Deleting Instance..."})):(0,n.kq)("v-if",!0),s.loading.duplicating?((0,n.wg)(),(0,n.j4)(r,{key:1,message:"Copying Instance..."})):(0,n.kq)("v-if",!0),s.loading.changingStack?((0,n.wg)(),(0,n.j4)(r,{key:2,message:"Changing Stack..."})):(0,n.kq)("v-if",!0),s.loading.settingType?((0,n.wg)(),(0,n.j4)(r,{key:3,message:"Setting Type..."})):(0,n.kq)("v-if",!0),s.loading.suspend?((0,n.wg)(),(0,n.j4)(r,{key:4,message:"Suspending Instance..."})):(0,n.kq)("v-if",!0),s.loading.importing?((0,n.wg)(),(0,n.j4)(r,{key:5,message:"Importing Instance..."})):(0,n.kq)("v-if",!0),o.isLoading?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("form",uS,[e.hasPermission("project:edit")?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Change Instance Stack")])),_:1}),a.instance.stack&&a.instance.stack.replacedBy?((0,n.wg)(),(0,n.iD)("div",mS,[hS,(0,n._)("div",gS,[(0,n.Wm)(c,{"data-action":"update-stack",disabled:!a.instance.projectType,kind:"secondary",onClick:t[0]||(t[0]=e=>o.upgradeStack())},{default:(0,n.w5)((()=>[(0,n.Uk)("Update Stack")])),_:1},8,["disabled"])])])):(0,n.kq)("v-if",!0),(0,n._)("div",fS,[vS,(0,n._)("div",yS,[(0,n.Wm)(c,{"data-action":"change-stack",disabled:!a.instance.projectType,kind:"secondary",onClick:t[1]||(t[1]=e=>o.showChangeStackDialog())},{default:(0,n.w5)((()=>[(0,n.Uk)("Change Stack")])),_:1},8,["disabled"]),(0,n.Wm)(d,{ref:"changeStackDialog",onConfirm:o.changeStack},null,8,["onConfirm"])])])],64)):(0,n.kq)("v-if",!0),e.hasPermission("project:create")?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Copy Instance")])),_:1}),(0,n._)("div",kS,[bS,(0,n._)("div",wS,[(0,n.Wm)(c,{kind:"secondary","data-nav":"copy-project",onClick:t[2]||(t[2]=e=>o.showDuplicateInstanceDialog())},{default:(0,n.w5)((()=>[(0,n.Uk)("Duplicate Instance")])),_:1})])])],64)):(0,n.kq)("v-if",!0),e.hasPermission("project:edit")?((0,n.wg)(),(0,n.iD)(n.HY,{key:2},[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Import Instance")])),_:1}),(0,n._)("div",xS,[AS,(0,n._)("div",DS,[(0,n.Wm)(c,{"data-action":"import-instance",kind:"secondary",onClick:t[3]||(t[3]=e=>o.showImportInstanceDialog())},{default:(0,n.w5)((()=>[(0,n.Uk)("Import Instance")])),_:1}),(0,n.Wm)(p,{ref:"importInstanceDialog","data-el":"dialog-import-instance",onConfirm:o.importInstance},null,8,["onConfirm"])])])],64)):(0,n.kq)("v-if",!0),e.hasPermission("project:edit")?((0,n.wg)(),(0,n.iD)(n.HY,{key:3},[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Change Instance Type")])),_:1}),(0,n._)("div",SS,[TS,(0,n._)("div",CS,[(0,n.Wm)(c,{kind:"secondary","data-nav":"change-instance-settings",onClick:t[4]||(t[4]=e=>o.showProjectChangeTypePage())},{default:(0,n.w5)((()=>[(0,n.Uk)("Change Instance Type")])),_:1})])])],64)):(0,n.kq)("v-if",!0),e.hasPermission("project:change-status")?((0,n.wg)(),(0,n.iD)(n.HY,{key:4},[(0,n.Wm)(l,{class:"text-red-700"},{default:(0,n.w5)((()=>[(0,n.Uk)("Suspend Instance")])),_:1}),(0,n._)("div",ES,[(0,n._)("div",IS,["suspended"===a.instance?.meta?.state?((0,n.wg)(),(0,n.iD)("div",_S,' Your instance is already suspended. To restart the instance, select "Start" from the Instance actions. ')):((0,n.wg)(),(0,n.iD)("div",US,[(0,n.Uk)(" Once suspended, your instance will not be available until restarted. While suspended, the instance will consume no "),e.features.billing?((0,n.wg)(),(0,n.iD)("span",VS,"billable")):(0,n.kq)("v-if",!0),(0,n.Uk)(" resources. ")]))]),(0,n._)("div",jS,[(0,n.Wm)(c,{"data-action":"suspend-instance",kind:"danger",disabled:"suspended"===a.instance?.meta?.state,onClick:t[5]||(t[5]=t=>e.$emit("instance-confirm-suspend"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Suspend Instance")])),_:1},8,["disabled"])])])],64)):(0,n.kq)("v-if",!0),e.hasPermission("project:delete")?((0,n.wg)(),(0,n.iD)(n.HY,{key:5},[(0,n.Wm)(l,{class:"text-red-700"},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete Instance")])),_:1}),(0,n._)("div",PS,[ZS,(0,n._)("div",MS,[(0,n.Wm)(c,{"data-action":"delete-instance",kind:"danger",onClick:t[6]||(t[6]=t=>e.$emit("instance-confirm-delete"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete Instance")])),_:1})])])],64)):(0,n.kq)("v-if",!0)]))],64)}]]);const YS={class:"space-y-6"},zS={class:"space-x-4 whitespace-nowrap"};var KS={name:"InstanceSettingsEditor",components:{TemplateSettingsEditor:uu},mixins:[Pd],inheritAttrs:!1,props:{project:{type:Object,required:!0}},emits:["instance-updated"],data(){return{unsavedChanges:!1,editable:{name:"",settings:{},policy:{},changed:{name:!1,description:!1,settings:{},policy:{}},errors:{}},original:{}}},computed:{...(0,o.rn)("account",["team","teamMembership"])},watch:{project:"getSettings",editable:{deep:!0,handler(e){if(this.project.template){let e=!1,t=!1;Du.forEach((a=>{if(e=e||this.editable.settings[a]!==this.original.settings[a],Iu[a]){const e=Iu[a](this.editable.settings[a]);e?(this.editable.errors[a]=e,t=!0):delete this.editable.errors[a]}})),this.unsavedChanges=e,this.hasErrors=t}}}},mounted(){this.checkAccess(),this.getSettings()},methods:{checkAccess:async function(){this.hasPermission("project:edit")||(0,i.tv)().push({replace:!0,path:"general"})},getSettings:function(){if(this.project.template){const e=Pu(this.project.template);this.editable=e.editable,this.original=e.original,Du.forEach((e=>{let t=Vu(this.project.settings,e);if(Zu(e)){const a=_u(this.project.settings,e);void 0!==a&&!1!==a||(t=void 0)}void 0!==t&&(this.editable.settings[e]=t,this.original.settings[e]=t)}))}},async saveSettings(){const e={};Du.forEach((t=>{this.editable.settings[t]!==this.original.settings[t]&&ju(e,t,this.editable.settings[t])})),await Wh(this.project.id,{settings:e}),this.$emit("instance-updated"),Ee.Z.emit("Instance successfully updated.","confirmation")}}},XS=(0,f.Z)(KS,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("TemplateSettingsEditor"),l=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)("form",YS,[(0,n.Wm)(r,{modelValue:s.editable,"onUpdate:modelValue":t[0]||(t[0]=e=>s.editable=e),editTemplate:!1},null,8,["modelValue"]),(0,n._)("div",zS,[(0,n.Wm)(l,{size:"small",disabled:!s.unsavedChanges,onClick:t[1]||(t[1]=e=>o.saveSettings())},{default:(0,n.w5)((()=>[(0,n.Uk)("Save settings")])),_:1},8,["disabled"])])])}]]);const $S={class:"space-y-6"},QS={key:0,class:"space-x-4 whitespace-nowrap"};var JS={name:"InstanceSettingsEnvironment",components:{TemplateSettingsEnvironment:lm},mixins:[Pd],beforeRouteLeave:async function(e,t,a){if(this.unsavedChanges){const e={header:"Unsaved changes",kind:"danger",html:"<p>You have unsaved changes. Are you sure you want to leave?</p>",confirmLabel:"Yes, lose changes"};"confirm"===await Xe.Z.showAsync(e)?a():a(!1)}else a()},inheritAttrs:!1,props:{project:{type:Object,required:!0}},emits:["instance-updated"],data(){return{unsavedChanges:!1,hasErrors:!1,editable:{name:"",settings:{env:[]},policy:{},changed:{name:!1,description:!1,settings:{},policy:{}},errors:{}},original:{},templateEnvValues:{}}},computed:{...(0,o.rn)("account",["teamMembership"])},watch:{project:"getSettings","editable.settings.env":{deep:!0,handler(e){if(this.project.template){let e=!1,t=!1,a=0;this.editable.settings.env.forEach((i=>{if(t=t||!!i.error,/^add/.test(i.index))e=!0;else if(a++,this.original.settings.envMap[i.name]){const t=this.original.settings.envMap[i.name];(t.index!==i.index||t.name!==i.name||t.value!==i.value)&&(e=!0)}else e=!0})),a!==this.original.settings.env.length&&(e=!0),this.unsavedChanges=e,this.hasErrors=t}}}},mounted(){this.getSettings()},methods:{getSettings:function(){if(this.project.template){const e=Pu(this.project.template);this.editable=e.editable,this.original=e.original;const t={};this.templateEnvValues={},this.editable.settings.env.forEach(((e,a)=>{e.index=a,t[e.name]=e,this.templateEnvValues[e.name]=e.value})),this.project.settings.env&&this.project.settings.env.forEach((e=>{if(e.index=this.editable.settings.env.length,t[e.name]){if(t[e.name].policy){t[e.name].value=e.value;const a=this.original.settings.env.find((t=>t.name===e.name));a&&(a.value=e.value,this.original.settings.envMap[e.name].value=e.value)}}else this.editable.settings.env.push(Object.assign({},e)),this.original.settings.env.push(Object.assign({},e)),this.original.settings.envMap[e.name]=e}))}},async saveSettings(){const e={env:[]};this.editable.settings.env.forEach((t=>{!1!==t.policy&&(t.policy&&t.value===this.templateEnvValues[t.name]||e.env.push({name:t.name,value:t.value}))})),await Wh(this.project.id,{settings:e}),this.$emit("instance-updated"),Ee.Z.emit("Instance settings successfully updated. NOTE: changes will be applied once the instance is restarted.","confirmation",6e3)}}},eT=(0,f.Z)(JS,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("TemplateSettingsEnvironment"),l=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)("form",$S,[(0,n.Wm)(r,{modelValue:s.editable,"onUpdate:modelValue":t[0]||(t[0]=e=>s.editable=e),readOnly:!e.hasPermission("device:edit-env"),editTemplate:!1},null,8,["modelValue","readOnly"]),e.hasPermission("device:edit-env")?((0,n.wg)(),(0,n.iD)("div",QS,[(0,n.Wm)(l,{size:"small",disabled:!s.unsavedChanges||s.hasErrors,onClick:t[1]||(t[1]=e=>o.saveSettings())},{default:(0,n.w5)((()=>[(0,n.Uk)("Save settings")])),_:1},8,["disabled"])])):(0,n.kq)("v-if",!0)])}]]);const tT={class:"space-y-6"},aT={class:"w-full uneditable undefined text-gray-800"};var iT={name:"InstanceSettings",components:{FormRow:Ae.Z,FormHeading:Pe.Z,DangerSettings:GS},inheritAttrs:!1,props:{instance:{type:Object,required:!0}},emits:["instance-updated","instance-confirm-delete","instance-confirm-suspend"],data(){return{editing:{projectName:!1},input:{projectId:"",projectName:"",projectTypeName:"",stackDescription:"",templateName:"",haConfig:{}},original:{projectName:""}}},computed:{...(0,o.rn)("account",["features"]),isHA(){return!!this.instance?.ha}},watch:{project:"fetchData"},mounted(){this.fetchData()},methods:{fetchData(){this.input.projectId=this.instance.id,this.instance.stack?this.input.stackDescription=this.instance.stack.label||this.instance.stack.name:this.input.stackDescription="none",this.instance.projectType?this.input.projectTypeName=this.instance.projectType.name:this.input.projectTypeName="none",this.instance.template?this.input.templateName=this.instance.template.name:this.input.templateName="none",this.input.projectName=this.instance.name,void 0!==this.instance.ha?.replicas?this.input.haConfig=this.instance.ha:this.input.haConfig=void 0}}},nT=(0,f.Z)(iT,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormHeading"),c=(0,n.up)("FormRow"),d=(0,n.up)("DangerSettings");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{class:"mb-6"},{default:(0,n.w5)((()=>[(0,n.Uk)("Instance Details")])),_:1}),(0,n._)("div",tT,[(0,n.Wm)(c,{id:"projectId",modelValue:s.input.projectId,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.projectId=e),type:"uneditable",inputClass:"font-mono"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Instance ID ")])),_:1},8,["modelValue"]),(0,n.Wm)(c,{id:"projectName",modelValue:s.input.projectName,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.projectName=e),type:"uneditable"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Name ")])),_:1},8,["modelValue"]),(0,n.Wm)(c,{modelValue:s.input.projectTypeName,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.projectTypeName=e),type:"uneditable"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Instance Type ")])),_:1},8,["modelValue"]),e.features.ha&&s.input.haConfig?((0,n.wg)(),(0,n.j4)(c,{key:0,modelValue:s.input.haConfig,"onUpdate:modelValue":t[3]||(t[3]=e=>s.input.haConfig=e),type:"uneditable"},{default:(0,n.w5)((()=>[(0,n.Uk)("High Availability")])),input:(0,n.w5)((()=>[(0,n._)("div",aT,(0,l.toDisplayString)(s.input.haConfig.replicas)+" x instances ",1)])),_:1},8,["modelValue"])):(0,n.kq)("v-if",!0),(0,n.Wm)(c,{modelValue:s.input.stackDescription,"onUpdate:modelValue":t[4]||(t[4]=e=>s.input.stackDescription=e),type:"uneditable"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Stack ")])),_:1},8,["modelValue"]),(0,n.Wm)(c,{modelValue:s.input.templateName,"onUpdate:modelValue":t[5]||(t[5]=e=>s.input.templateName=e),type:"uneditable"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Template ")])),_:1},8,["modelValue"]),(0,n.Wm)(d,{instance:a.instance,onInstanceUpdated:t[6]||(t[6]=t=>e.$emit("instance-updated")),onInstanceConfirmDelete:t[7]||(t[7]=t=>e.$emit("instance-confirm-delete")),onInstanceConfirmSuspend:t[8]||(t[8]=t=>e.$emit("instance-confirm-suspend"))},null,8,["instance"])])],64)}]]);const sT=(0,n._)("p",{class:"mb-3"}," High Availability mode allows you to run multiple copies of your Node-RED instance, with incoming work distributed between them. ",-1),oT=(0,n._)("p",null," This feature is currently free to use, but will become a chargeable feature in a future release. ",-1),rT=(0,n._)("p",null," When HA mode is enabled the following restrictions apply: ",-1),lT=(0,n._)("ul",{class:"list-disc pl-6"},[(0,n._)("li",null,"Enabling or disabling HA mode requires a restart of the Instance."),(0,n._)("li",null,"Flows cannot be directly modified in an HA Instance; the editor is disabled."),(0,n._)("li",null,"A DevOps Pipeline should be created to deploy new flows to the instance."),(0,n._)("li",null,"Any internal state of the flows is not shared between the HA copies.")],-1),cT=(0,n._)("p",null,[(0,n.Uk)(" Check the documentation for more information about "),(0,n._)("a",{class:"underline",href:"https://flowforge.com/docs/user/high-availability/"},"High Availability"),(0,n.Uk)(". ")],-1);var dT={name:"InstanceSettingsStages",components:{FormHeading:Pe.Z,FormRow:Ae.Z},inheritAttrs:!1,props:{instance:{type:Object,required:!0}},emits:["instance-updated"],data:function(){return{updating:!1}},computed:{isHA(){return void 0!==this.instance?.ha?.replicas}},methods:{async enableHA(){Xe.Z.show({header:"Enable High Availability mode",html:"<p>Enabling HA mode will require a restart of the instance.</p>\n                       <p>Once enabled, the editor will be disabled. The flows can only\n                          be updated by using a DevOps Pipeline to deploy to this instance\n                          from another one, or by disabling HA mode first.</p>"},(async()=>{this.updating=!0,await(async e=>ba.Z.put(`/api/v1/projects/${e}/ha`,{replicas:2}))(this.instance.id),this.updating=!1,"suspended"===this.instance.meta?.state?Ee.Z.emit("High Availability mode enabled","confirmation"):Ee.Z.emit("High Availability mode enabled. The Instance will now be restarted","confirmation"),this.$emit("instance-updated")}))},async disableHA(){Xe.Z.show({header:"Disable High Availability mode",html:"<p>Disabling HA mode will require a restart of the instance.</p>"},(async()=>{this.updating=!0,await(async e=>ba.Z.delete(`/api/v1/projects/${e}/ha`))(this.instance.id),this.updating=!1,"suspended"===this.instance.meta?.state?Ee.Z.emit("High Availability mode disabled","confirmation"):Ee.Z.emit("High Availability mode disabled. The Instance will now be restarted","confirmation"),this.$emit("instance-updated")}))}}},pT=(0,f.Z)(dT,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),l=(0,n.up)("FormHeading"),c=(0,n.up)("FormRow"),d=(0,n.up)("ff-button");return e.updating?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Updating Instance..."})):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)("High Availability")])),_:1}),(0,n.Wm)(c,null,{description:(0,n.w5)((()=>[sT,oT,rT,lT,cT])),input:(0,n.w5)((()=>[(0,n.Uk)(" ")])),_:1}),o.isHA?((0,n.wg)(),(0,n.j4)(d,{key:1,kind:"secondary","data-nav":"disable-ha",onClick:t[1]||(t[1]=e=>o.disableHA())},{default:(0,n.w5)((()=>[(0,n.Uk)("Disable HA mode")])),_:1})):((0,n.wg)(),(0,n.j4)(d,{key:0,kind:"secondary","data-nav":"enable-ha",onClick:t[0]||(t[0]=e=>o.enableHA())},{default:(0,n.w5)((()=>[(0,n.Uk)("Enable HA mode")])),_:1}))],64))}]]);const uT={class:"space-y-6"},mT={class:"space-x-4 whitespace-nowrap"};var hT={name:"InstanceSettingsPalette",components:{TemplateSettingsPalette:$d,TemplatePaletteModulesEditor:Np},mixins:[Pd],inheritAttrs:!1,props:{project:{type:Object,required:!0}},emits:["instance-updated"],data(){return{unsavedChanges:!1,modulesChanged:!1,mounted:!1,editable:{name:"",settings:{},policy:{},changed:{name:!1,description:!1,settings:{},policy:{}},errors:{}},original:{}}},computed:{...(0,o.rn)("account",["team","teamMembership"]),paletteEditable(){return this.editable?.settings.palette_allowInstall}},watch:{project:"getSettings",editable:{deep:!0,handler(e){if(this.project.template){let e=!1;Du.forEach((t=>{"palette_modules"!==t&&(e=e||this.editable.settings[t]!==this.original.settings[t])})),this.unsavedChanges=e}}},"editable.settings.palette_modules":{deep:!0,handler(e){if(!this.mounted||!this.project)return;const t=Mu(e,this.original.settings.palette_modulesMap||{});this.modulesChanged=t.changed,this.hasErrors=t.errors}}},mounted(){this.checkAccess(),this.getSettings(),this.mounted=!0},methods:{checkAccess:function(){this.hasPermission("project:edit")||(0,i.tv)().push({replace:!0,path:"general"})},getSettings:function(){if(this.project.template){const e=Pu(this.project.template);this.editable=e.editable,this.original=e.original,Du.forEach((e=>{const t=Vu(this.project.settings,e);void 0!==t&&(this.editable.settings[e]=JSON.parse(JSON.stringify(t)),this.original.settings[e]=JSON.parse(JSON.stringify(t)))})),this.original.settings.palette_modulesMap={},this.project.settings.palette?.modules?.forEach((e=>{this.original.settings.palette_modulesMap[e.name]=e}))}},async saveSettings(){const e={};Du.forEach((t=>{this.editable.settings[t]!==this.original.settings[t]&&ju(e,t,this.editable.settings[t])})),await Wh(this.project.id,{settings:e}),this.$emit("instance-updated"),Ee.Z.emit("Instance successfully updated.","confirmation")}}},gT=(0,f.Z)(hT,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("TemplateSettingsPalette"),l=(0,n.up)("TemplatePaletteModulesEditor"),c=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)("form",uT,[(0,n.Wm)(r,{modelValue:s.editable,"onUpdate:modelValue":t[0]||(t[0]=e=>s.editable=e),editTemplate:!1},null,8,["modelValue"]),(0,n.Wm)(l,{modelValue:s.editable,"onUpdate:modelValue":t[1]||(t[1]=e=>s.editable=e),editTemplate:!1,readOnly:!o.paletteEditable,project:a.project},null,8,["modelValue","readOnly","project"]),(0,n._)("div",mT,[(0,n.Wm)(c,{size:"small",disabled:!s.unsavedChanges&&!s.modulesChanged,onClick:t[2]||(t[2]=e=>o.saveSettings())},{default:(0,n.w5)((()=>[(0,n.Uk)("Save settings")])),_:1},8,["disabled"])])])}]]);const fT={class:"space-y-6"},vT={class:"space-x-4 whitespace-nowrap"};var yT={name:"InstanceSettingsSecurity",components:{TemplateSettingsSecurity:fm},mixins:[Pd],inheritAttrs:!1,props:{project:{type:Object,required:!0}},emits:["instance-updated"],data(){return{unsavedChanges:!1,editable:{name:"",settings:{},policy:{},changed:{name:!1,description:!1,settings:{},policy:{}},errors:{}},original:{}}},computed:{...(0,o.rn)("account",["team","teamMembership"])},watch:{project:"getSettings",editable:{deep:!0,handler(e){if(this.project.template){let e=!1,t=!1;Du.forEach((a=>{if(e=e||this.editable.settings[a]!==this.original.settings[a],Iu[a]){const e=Iu[a](this.editable.settings[a]);e?(this.editable.errors[a]=e,t=!0):delete this.editable.errors[a]}})),this.unsavedChanges=e,this.hasErrors=t}}}},mounted(){this.checkAccess(),this.getSettings()},methods:{checkAccess:async function(){this.hasPermission("project:edit")||(0,i.tv)().push({replace:!0,path:"general"})},getSettings:function(){if(this.project.template){const e=Pu(this.project.template);this.editable=e.editable,this.original=e.original,Du.forEach((e=>{let t=Vu(this.project.settings,e);if(Zu(e)){const a=_u(this.project.settings,e);void 0!==a&&!1!==a||(t=void 0)}void 0!==t&&(this.editable.settings[e]=t,this.original.settings[e]=t)}))}},async saveSettings(){const e={};Du.forEach((t=>{this.editable.settings[t]!==this.original.settings[t]&&ju(e,t,this.editable.settings[t])})),"basic"!==this.editable.settings.httpNodeAuth_type&&(ju(e,"httpNodeAuth_user",""),ju(e,"httpNodeAuth_pass","")),await Wh(this.project.id,{settings:e}),this.$emit("instance-updated"),Ee.Z.emit("Instance successfully updated.","confirmation")}}},kT=[{path:"general",component:nT},{path:"environment",component:eT},{path:"editor",component:XS},{path:"security",component:(0,f.Z)(yT,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("TemplateSettingsSecurity"),l=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)("form",fT,[(0,n.Wm)(r,{modelValue:s.editable,"onUpdate:modelValue":t[0]||(t[0]=e=>s.editable=e),editTemplate:!1},null,8,["modelValue"]),(0,n._)("div",vT,[(0,n.Wm)(l,{size:"small",disabled:!s.unsavedChanges,onClick:t[1]||(t[1]=e=>o.saveSettings())},{default:(0,n.w5)((()=>[(0,n.Uk)("Save settings")])),_:1},8,["disabled"])])])}]])},{path:"palette",component:gT},{path:"danger",component:GS},{path:"ha",name:"InstanceSettingsHA",component:pT},{name:"ChangeInstanceType",path:"change-type",component:pS,meta:{title:"Instance - Change Type"}}];const bT={class:"mb-3"},wT=(0,n._)("p",null,"Snapshots generate a point-in-time backup of your Node-RED flow, credentials and runtime settings.",-1),xT=(0,n._)("p",null,"Snapshots are also required for deploying to devices. In the Deployments page of a Project, you can define your “Target Snapshot”, which will then be deployed to all connected devices.",-1),AT=(0,n._)("p",null,[(0,n.Uk)("You can also generate Snapshots directly from any instance of Node-RED using the "),(0,n._)("a",{target:"_blank",href:"https://github.com/flowforge/flowforge-nr-tools-plugin"},"FlowForge NR Tools Plugin.")],-1),DT={class:"space-y-6"},ST=(0,n._)("img",{src:"data:image/png;base64,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"},null,-1),TT=(0,n._)("p",null," Snapshots are point-in-time backups of your Node-RED Instances and capture the flows, credentials and runtime settings. ",-1),CT=(0,n._)("p",null,' Snapshots are also used for deploying to your Devices. Devices have a set "Target Snapshot", which will roll out to all Devices connected to the respective Instance. ',-1);var ET={name:"DaysSince",props:{date:{required:!0,type:String}},computed:{since:function(){return(0,va.Z)(this.date)}}},IT=(0,f.Z)(ET,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)("span",null,(0,l.toDisplayString)(o.since),1)}]]);const _T={class:"flex items-center"},UT={key:0,class:"flex border text-green-700 border-green-400 rounded-full bg-green-200 py-1 px-2 text-xs"},VT={key:1,class:"flex border text-yellow-600 border-yellow-400 rounded-full bg-yellow-100 py-1 px-2 text-xs"};var jT={name:"DeviceCount",components:{ChipIcon:ci.Z,ExclamationIcon:om.Z},props:{id:{required:!0,type:String},deviceCount:{required:!1,type:Number,default:null},targetSnapshot:{required:!1,type:String,default:null}},computed:{active:function(){return this.id===this.targetSnapshot}}},PT=(0,f.Z)(jT,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ChipIcon"),c=(0,n.up)("ExclamationIcon"),d=(0,n.Q2)("ff-tooltip");return(0,n.wg)(),(0,n.iD)("div",_T,[o.active?(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",UT,[(0,n.Wm)(r,{class:"w-4 mr-1"}),(0,n._)("span",null,"Deployed to "+(0,l.toDisplayString)(a.deviceCount||0)+" Devices",1)])),[[d,"This is the active snapshot, configured to deploy to all devices"]]):(0,n.kq)("v-if",!0),a.deviceCount>0&&!o.active?(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",VT,[(0,n.Wm)(c,{class:"w-4 mr-1"}),(0,n._)("span",null,"Deployed to "+(0,l.toDisplayString)(a.deviceCount)+" Devices",1)])),[[d,"This snapshot, despite no longer being the target snapshot, is deployed to some devices. Check the connectivity of these devices."]]):(0,n.kq)("v-if",!0)])}]]);const ZT={class:"flex items-center"},MT={class:"flex flex-col space-y-1 ml-3"},BT={class:"text-base"},FT={class:"text-xs text-gray-400"},WT={key:0,class:"text-gray-500 float-left"},NT=(0,n._)("summary",{class:"cursor-pointer"}," Description ",-1),RT={class:"whitespace-pre-line absolute border drop-shadow-md rounded bg-white p-2",style:{"max-width":"300px"}};var LT={name:"SnapshotName",components:{ClockIcon:mi.Z},props:{id:{required:!0,type:String},name:{required:!0,type:String},description:{required:!0,type:String},deviceCount:{required:!1,type:Number,default:null},targetSnapshot:{required:!1,type:String,default:null}},computed:{active:function(){return this.id===this.targetSnapshot}}},qT=(0,f.Z)(LT,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ClockIcon");return(0,n.wg)(),(0,n.iD)("div",ZT,[(0,n.Wm)(r,{class:"w-6 mr-2 text-gray-500"}),(0,n._)("div",MT,[(0,n._)("span",BT,(0,l.toDisplayString)(a.name),1),(0,n._)("span",FT,"id: "+(0,l.toDisplayString)(a.id),1),a.description?((0,n.wg)(),(0,n.iD)("details",WT,[NT,(0,n._)("div",RT,(0,l.toDisplayString)(a.description),1)])):(0,n.kq)("v-if",!0)])])}]]);const HT={class:""};var OT={name:"SnapshotCreateDialog",components:{FormRow:Ae.Z,QuestionMarkCircleIcon:Tw.Z},props:{project:{type:Object,required:!0}},emits:["snapshot-created"],setup(){return{show(){this.$refs.dialog.show(),this.input.name="",this.input.description="",this.input.setAsTarget=!1,this.submitted=!1,this.errors={}}}},data(){return{submitted:!1,input:{name:"",description:"",setAsTarget:!1},errors:{}}},computed:{formValid(){return!this.submitted&&!!this.input.name}},mounted(){},methods:{confirm(){if(this.formValid){this.submitted=!0;const e={name:this.input.name,description:this.input.description,setAsTarget:this.input.setAsTarget};(async(e,t)=>ba.Z.post(`/api/v1/projects/${e}/snapshots`,t).then((a=>{const i={"created-at":a.data.createdAt,"snapshot-id":a.data.id,"snapshot-name":t.name,"snapshot-set-as-target":t.setAsTarget};return a.data.createdSince=(0,va.Z)(a.data.createdAt),a.data.updatedSince=(0,va.Z)(a.data.updatedAt),Uh.Z.capture("$ff-snapshot-created",i,{instance:e}),a.data})))(this.project.id,e).then((e=>{this.$emit("snapshot-created",e),Ee.Z.emit("Successfully created snapshot of instance.","confirmation")})).catch((e=>{console.error(e.response?.data),e.response?.data&&/name/.test(e.response.data.error)?this.errors.name=e.response.data.error:Ee.Z.emit("Failed to create snapshot of instance.","error")}))}}}},GT={name:"InstanceSnapshots",components:{SectionTopMenu:Wa,EmptyState:nf,SnapshotCreateDialog:(0,f.Z)(OT,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),l=(0,n.up)("QuestionMarkCircleIcon"),c=(0,n.up)("ff-dialog"),d=(0,n.Q2)("ff-tooltip");return(0,n.wg)(),(0,n.j4)(c,{ref:"dialog",header:"Create Snapshot","confirm-label":"Create","disable-primary":!o.formValid,onConfirm:t[4]||(t[4]=e=>o.confirm())},{default:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-6 mt-2",onSubmit:t[3]||(t[3]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n.Wm)(r,{modelValue:s.input.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.name=e),error:s.errors.name,"data-form":"snapshot-name"},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),_:1},8,["modelValue","error"]),(0,n.Wm)(r,{"data-form":"snapshot-description"},{input:(0,n.w5)((()=>[(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.description=e),rows:"8",class:"ff-input ff-text-input",style:{height:"auto"}},null,512),[[Oe.vModelText,s.input.description]])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Description ")])),_:1}),(0,n.Wm)(r,{modelValue:s.input.setAsTarget,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.setAsTarget=e),type:"checkbox","data-form":"snapshot-name"},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.iD)("span",HT,[(0,n.Uk)(" Set as Target "),(0,n.Wm)(l,{class:"ff-icon",style:{margin:"0px 0px 0px 4px",height:"18px"}})])),[[d,"If checked, all devices assigned to this instance will be restarted on this snapshot.","right"]])])),_:1},8,["modelValue"])],32)])),_:1},8,["disable-primary"])}]]),PlusSmIcon:Ct.Z},mixins:[Pd],inheritAttrs:!1,props:{instance:{type:Object,required:!0}},emits:["instance-updated"],data(){return{loading:!1,deviceCounts:{},snapshots:[]}},computed:{...(0,o.rn)("account",["teamMembership"]),showContextMenu:function(){return this.hasPermission("project:snapshot:rollback")||this.hasPermission("project:snapshot:set-target")||this.hasPermission("project:snapshot:delete")},columns(){return[{label:"Snapshot",component:{is:(0,et.Xl)(qT),extraProps:{targetSnapshot:this.instance.deviceSettings?.targetSnapshot}}},{label:"",component:{is:(0,et.Xl)(PT),extraProps:{targetSnapshot:this.instance.deviceSettings?.targetSnapshot}}},{label:"Created By",class:["w-56"],component:{is:(0,et.Xl)(ut),map:{avatar:"user.avatar",name:"user.name",username:"user.username"}}},{label:"Date Created",class:["w-56"],component:{is:(0,et.Xl)(IT),map:{date:"createdAt"}}}]}},watch:{team:"fetchData",instance:"fetchData"},mounted(){this.fetchData()},methods:{fetchData:async function(){if(this.instance.id){this.loading=!0;const e=await this.countDevices(),t=await xA(this.instance.id);this.snapshots=t.snapshots.map((t=>(t.deviceCount=e[t.id],t))),this.loading=!1}},async countDevices(){return(await Nh(this.instance.id,null,1e7)).devices.reduce(((e,t)=>{const a=t.activeSnapshot?.id;return e[a]?e[a]++:e[a]=1,e}),{})},showDeleteSnapshotDialog(e){Xe.Z.show({header:"Delete Snapshot",text:"Are you sure you want to delete this snapshot?",kind:"danger",confirmLabel:"Delete"},(async()=>{await(async(e,t)=>ba.Z.delete(`/api/v1/projects/${e}/snapshots/${t}`).then((a=>(Uh.Z.capture("$ff-snapshot-deleted",{"snapshot-id":t,"deleted-at":(new Date).toISOString()},{instance:e}),a.data))))(this.instance.id,e.id);const t=this.snapshots.indexOf(e);this.snapshots.splice(t,1),Ee.Z.emit("Successfully deleted snapshot.","confirmation")}))},showRollbackDialog(e){Xe.Z.show({header:"Rollback Snapshot",html:"<p>This rollback will overwrite the current instance.</p>\n            <p>All changes to the flows, settings and environment variables made since\n                the last snapshot will be lost.</p>\n            <p>Are you sure you want to rollback to this snapshot?</p>",confirmLabel:"Confirm Rollback"},(async()=>{await bA(this.instance.id,e.id),Ee.Z.emit("Successfully rollbacked snapshot.","confirmation")}))},showDeviceTargetDialog(e){Xe.Z.show({header:"Set Device Target Snapshot",html:"<p>Are you sure you want to set this snapshot as the device target?</p>\n            <p>All devices assigned to this instance will be restarted on this snapshot.</p>",confirmLabel:"Set Target"},(async()=>{await Rh(this.instance.id,{targetSnapshot:e.id}),this.$emit("instance-updated")}))},showCreateSnapshotDialog(){this.$refs.snapshotCreateDialog.show()},snapshotCreated(e){this.snapshots.unshift(e),this.$emit("instance-updated")},async downloadSnapshotPackage(e){const t=await wA(this.instance.id,e.id),a={name:this.instance.safeName,description:`${e.name} - ${e.description}`,private:!0,version:"0.0.0-"+e.id,dependencies:t.modules},i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(a,null,2))),i.setAttribute("download","package.json"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}},YT=(0,f.Z)(GT,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("ff-loading"),c=(0,n.up)("PlusSmIcon"),d=(0,n.up)("ff-button"),p=(0,n.up)("ff-list-item"),u=(0,n.up)("ff-data-table"),m=(0,n.up)("EmptyState"),h=(0,n.up)("SnapshotCreateDialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",bT,[(0,n.Wm)(r,{hero:"Snapshots","help-header":"FlowForge - Snapshots"},{helptext:(0,n.w5)((()=>[wT,xT,AT])),_:1})]),(0,n._)("div",DT,[s.loading?((0,n.wg)(),(0,n.j4)(l,{key:0,message:"Loading Snapshots..."})):(0,n.kq)("v-if",!0),s.snapshots.length>0?((0,n.wg)(),(0,n.j4)(u,{key:1,"data-el":"snapshots",class:"space-y-4",columns:o.columns,rows:s.snapshots,"show-search":!0,"search-placeholder":"Search Snapshots..."},(0,n.Nv)({_:2},[e.hasPermission("project:snapshot:create")?{name:"actions",fn:(0,n.w5)((()=>[(0,n.Wm)(d,{kind:"primary","data-action":"create-snapshot",onClick:o.showCreateSnapshotDialog},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(c)])),default:(0,n.w5)((()=>[(0,n.Uk)("Create Snapshot")])),_:1},8,["onClick"])])),key:"0"}:void 0,o.showContextMenu?{name:"context-menu",fn:(0,n.w5)((({row:t})=>[e.hasPermission("project:snapshot:rollback")?((0,n.wg)(),(0,n.j4)(p,{key:0,label:"Rollback",onClick:e=>o.showRollbackDialog(t)},null,8,["onClick"])):(0,n.kq)("v-if",!0),e.hasPermission("project:snapshot:read")?((0,n.wg)(),(0,n.j4)(p,{key:1,label:"Download package.json",onClick:e=>o.downloadSnapshotPackage(t)},null,8,["onClick"])):(0,n.kq)("v-if",!0),e.hasPermission("project:snapshot:set-target")?((0,n.wg)(),(0,n.j4)(p,{key:2,label:"Set as Device Target",onClick:e=>o.showDeviceTargetDialog(t)},null,8,["onClick"])):(0,n.kq)("v-if",!0),e.hasPermission("project:snapshot:delete")?((0,n.wg)(),(0,n.j4)(p,{key:3,label:"Delete Snapshot",kind:"danger",onClick:e=>o.showDeleteSnapshotDialog(t)},null,8,["onClick"])):(0,n.kq)("v-if",!0)])),key:"1"}:void 0]),1032,["columns","rows"])):s.loading?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.j4)(m,{key:2},(0,n.Nv)({img:(0,n.w5)((()=>[ST])),header:(0,n.w5)((()=>[(0,n.Uk)("Create your First Snapshot")])),message:(0,n.w5)((()=>[TT,CT])),_:2},[e.hasPermission("project:snapshot:create")?{name:"actions",fn:(0,n.w5)((()=>[(0,n.Wm)(d,{kind:"primary","data-action":"create-snapshot",onClick:o.showCreateSnapshotDialog},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(c)])),default:(0,n.w5)((()=>[(0,n.Uk)("Create Snapshot ")])),_:1},8,["onClick"])])),key:"0"}:void 0]),1024)),(0,n.Wm)(h,{ref:"snapshotCreateDialog","data-el":"dialog-create-snapshot",project:a.instance,onSnapshotCreated:o.snapshotCreated},null,8,["project","onSnapshotCreated"])])],64)}]]);const zT=(0,n._)("div",{class:"ff-nested-title"},"Instance",-1),KT={key:2},XT={key:3,"data-el":"instances-section",class:"ff-with-status-header"},$T={class:"ff-instance-header"},QT={class:"flex-grow items-center inline-flex flex-wrap","data-el":"instance-name"},JT={class:"text-gray-800 text-xl font-bold mr-6"},eC={class:"w-full text-sm mt-1"},tC={class:"space-x-2 flex align-center"},aC={key:0,class:"ff-banner","data-el":"banner-project-as-admin"},iC={class:"px-3 py-3 md:px-6 md:py-6"};var nC=a(1607);const sC={class:"sr-only"},oC={class:"apx-1 apy-1"},rC={key:0},lC=["data-action","onClick"],cC=["src"];var dC=a(3816),pC={name:"DropdownMenu",props:["alt","options","buttonClass","edge"],components:{HeadlessUIMenu:dC.v2,MenuButton:dC.j2,MenuItems:dC.sd,MenuItem:dC.sN,ChevronDownIcon:qo.Z},setup(e,{slots:t}){const a=(0,et.iH)(!1);return t.default&&(a.value=!0),{hasLabel:a}}},uC={name:"InstancePage",components:{ConfirmInstanceDeleteDialog:Nk,DropdownMenu:(0,f.Z)(pC,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ChevronDownIcon"),c=(0,n.up)("MenuButton"),d=(0,n.up)("MenuItem"),p=(0,n.up)("MenuItems"),u=(0,n.up)("HeadlessUIMenu");return(0,n.wg)(),(0,n.j4)(u,{as:"div",class:"relative inline-block text-left"},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(c,{class:(0,l.normalizeClass)([a.buttonClass?a.buttonClass:"forge-button",i.hasLabel?"":"px-1"])},{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default"),(0,n._)("span",sC,(0,l.toDisplayString)(a.alt),1),(0,n.Wm)(r,{class:"ff-btn--icon ff-btn--icon-right","aria-hidden":"true"})])),_:3},8,["class"])]),(0,n.Wm)(Oe.Transition,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:(0,l.normalizeClass)(["left"===a.edge?"left-0 origin-top-left":"right-0 origin-top-right","z-50 absolute w-56 mt-1 bg-white divide-y divide-gray-100 rounded overflow-hidden shadow-lg ring-1 ring-black ring-opacity-10 focus:outline-none"])},{default:(0,n.w5)((()=>[(0,n._)("div",oC,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.options,((e,t)=>((0,n.wg)(),(0,n.j4)(d,{key:t,disabled:!e||1==e.disabled},{default:(0,n.w5)((({active:t})=>[null==e?((0,n.wg)(),(0,n.iD)("hr",rC)):e.disabled?((0,n.wg)(),(0,n.iD)("div",{key:1,class:(0,l.normalizeClass)([t?"bg-gray-200":"",e.selected?"bg-gray-100":"","block px-4 py-2 text-sm",...e.class||[],"opacity-20"])},(0,l.toDisplayString)(e.name),3)):((0,n.wg)(),(0,n.iD)("a",{key:2,class:(0,l.normalizeClass)([t?"bg-gray-200":"",e.selected?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700",...e.class||[]]),"data-action":`menu-${e.name.toLowerCase()}`,onClick:e.action},[e.icon?((0,n.wg)(),(0,n.j4)((0,n.LL)(e.icon),{key:0,class:"w-4 inline"})):(0,n.kq)("v-if",!0),e.imgUrl?((0,n.wg)(),(0,n.iD)("img",{key:1,src:e.imgUrl,class:"h-4 v-4 inline rounded mr-1"},null,8,cC)):(0,n.kq)("v-if",!0),(0,n.Uk)(" "+(0,l.toDisplayString)(e.name),1)],10,lC))])),_:2},1032,["disabled"])))),128))])])),_:1},8,["class"])])),_:1})])),_:3})}]]),InstanceStatusPolling:ck,NavItem:oa.Z,InstanceStatusBadge:Zg,InstanceStatusHeader:ok,SideNavigationTeamOptions:wk,StatusBadge:jg,SubscriptionExpiredBanner:Tk,TeamTrialBanner:Pk,InstanceEditorLink:df},mixins:[Pd],data:function(){return{mounted:!1,icons:{chevronLeft:sa.Z},instance:{},navigation:[],checkInterval:null,checkWaitTime:1e3,loading:{deleting:!1,suspend:!1}}},computed:{...(0,o.rn)("account",["teamMembership","team"]),isVisitingAdmin:function(){return this.teamMembership.role===nh.Roles.Admin},isLoading:function(){return this.loading.deleting||this.loading.suspend},instanceRunning(){return"running"===this.instance?.meta?.state},isHA(){return void 0!==this.instance?.ha?.replicas},editorAvailable(){return!this.isHA&&this.instanceRunning},actionsDropdownOptions(){const e=!(this.instance.meta&&"suspended"!==this.instance.meta.state),t=this.instance.pendingStateChange||this.instance.optimisticStateChange,a=[{name:"Start",action:this.startInstance,disabled:t||this.instanceRunning},{name:"Restart",action:this.restartInstance,disabled:t||e},{name:"Suspend",class:["text-red-700"],action:this.showConfirmSuspendDialog,disabled:t||e}];return this.hasPermission("project:delete")&&(a.push(null),a.push({name:"Delete",class:["text-red-700"],action:this.showConfirmDeleteDialog})),a},disabledReason(){return this.isHA?"Cannot access the editor on a HA Instance":this.instance.settings.disableEditor?"Access to the editor has been disabled in Settings > Editor":this.instanceRunning?null:"Instance is not running"}},watch:{instance:"instanceChanged"},async created(){await this.loadInstance(),this.$watch((()=>this.$route.params.id),(async()=>{await this.loadInstance()}))},mounted(){this.mounted=!0},methods:{instanceUpdated(e){this.instanceStateMutator.clearState(),this.instance={...this.instance,...e}},async loadInstance(){const e=this.$route.params.id;try{const t=await jh(e);this.instance={deviceSettings:{},...this.instance,...t},this.$store.dispatch("account/setTeam",this.instance.team.slug),this.instance.deviceSettings=await(async e=>ba.Z.get(`/api/v1/projects/${e}/devices/settings`).then((e=>e.data)))(e),this.instance.deviceSettings?.targetSnapshot?this.instance.targetSnapshot=await wA(e,this.instance.deviceSettings.targetSnapshot):this.instance.targetSnapshot=null}catch(e){this.$router.push({name:"PageNotFound",params:{pathMatch:this.$router.currentRoute.value.path.substring(1).split("/")},query:this.$router.currentRoute.value.query,hash:this.$router.currentRoute.value.hash})}},instanceChanged(){this.instanceStateMutator=new Zk(this.instance),this.navigation=[{label:"Overview",path:`/instance/${this.instance.id}/overview`,tag:"instance-overview",icon:j.Z},{label:"Devices",path:`/instance/${this.instance.id}/devices`,tag:"instance-remote",icon:vk.Z},{label:"Snapshots",path:`/instance/${this.instance.id}/snapshots`,tag:"instance-snapshots",icon:nC.Z},{label:"Audit Log",path:`/instance/${this.instance.id}/audit-log`,tag:"instance-activity",icon:Jy.Z},{label:"Node-RED Logs",path:`/instance/${this.instance.id}/logs`,tag:"instance-logs",icon:Qy.Z},{label:"Settings",path:`/instance/${this.instance.id}/settings`,tag:"instance-settings",icon:aa.Z}]},async startInstance(){this.instanceStateMutator.setStateOptimistically("starting");try{await Mh(this.instance),this.instanceStateMutator.setStateAsPendingFromServer()}catch(e){console.warn("Instance start failed.",e),Ee.Z.emit("Instance start failed.","warning"),this.instanceStateMutator.restoreState()}},async restartInstance(){this.instanceStateMutator.setStateOptimistically("restarting");try{await Bh(this.instance),this.instanceStateMutator.setStateAsPendingFromServer()}catch(e){console.warn("Instance restart failed.",e),Ee.Z.emit("Instance restart failed.","warning"),this.instanceStateMutator.restoreState()}},showConfirmDeleteDialog(){this.$refs.confirmInstanceDeleteDialog.show(this.instance)},deleteInstance(){const e=this.instance.application.id;this.loading.deleting=!0,Ph(this.instance).then((async()=>{await this.$store.dispatch("account/refreshTeam"),this.$router.push({name:"ApplicationInstances",params:{id:e}}),Ee.Z.emit("Instance successfully deleted.","confirmation")})).catch((e=>{console.warn(e),Ee.Z.emit("Instance failed to delete.","warning")})).finally((()=>{this.loading.deleting=!1}))},showConfirmSuspendDialog(){Xe.Z.show({header:"Suspend Instance",text:"Are you sure you want to suspend this instance?",confirmLabel:"Suspend",kind:"danger"},(()=>{this.instanceStateMutator.setStateOptimistically("suspending"),Fh(this.instance).then((()=>{this.instanceStateMutator.setStateAsPendingFromServer(),Ee.Z.emit("Instance suspend request succeeded.","confirmation")})).catch((e=>{console.warn(e),Ee.Z.emit("Instance failed to suspend.","warning"),this.instanceStateMutator.restoreState()}))}))},openEditor(){window.open(this.instance.url,"_blank")}}},mC=[{path:"/project/:id/:remaining*",redirect:e=>e.params.remaining?`/instance/${e.params.id}/${e.params.remaining.join("/")}`:`/instance/${e.params.id}`},{path:"/instance/:id",redirect:e=>`/instance/${e.params.id}/overview`,name:"Instance",component:(0,f.Z)(uC,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("nav-item"),c=(0,n.up)("router-link"),d=(0,n.up)("SideNavigationTeamOptions"),p=(0,n.up)("ff-loading"),u=(0,n.up)("InstanceStatusBadge"),m=(0,n.up)("StatusBadge"),h=(0,n.up)("InstanceEditorLink"),g=(0,n.up)("DropdownMenu"),f=(0,n.up)("InstanceStatusHeader"),v=(0,n.up)("ConfirmInstanceDeleteDialog"),y=(0,n.up)("SubscriptionExpiredBanner"),k=(0,n.up)("TeamTrialBanner"),b=(0,n.up)("router-view"),w=(0,n.up)("InstanceStatusPolling");return(0,n.wg)(),(0,n.iD)(n.HY,null,[e.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-sidenav"},[(0,n.Wm)(d,null,{"nested-menu":(0,n.w5)((()=>[zT,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.navigation,(e=>((0,n.wg)(),(0,n.j4)(c,{key:e.label,to:e.path},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:e.icon,label:e.label,"data-nav":e.tag},null,8,["icon","label","data-nav"])])),_:2},1032,["to"])))),128))])),_:1})])):(0,n.kq)("v-if",!0),e.loading.deleting?((0,n.wg)(),(0,n.j4)(p,{key:1,message:"Deleting Instance..."})):e.instance?.id?((0,n.wg)(),(0,n.iD)("main",XT,[(0,n._)("div",$T,[(0,n.Wm)(f,null,{hero:(0,n.w5)((()=>[(0,n._)("div",QT,[(0,n._)("div",JT,(0,l.toDisplayString)(e.instance.name),1),(0,n.Wm)(u,{status:e.instance.meta?.state,optimisticStateChange:e.instance.optimisticStateChange,pendingStateChange:e.instance.pendingStateChange},null,8,["status","optimisticStateChange","pendingStateChange"]),void 0!==e.instance.ha?.replicas?((0,n.wg)(),(0,n.j4)(c,{key:0,to:{name:"InstanceSettingsHA",params:{id:e.instance.id}},onClick:t[0]||(t[0]=(0,Oe.withModifiers)((()=>{}),["stop"]))},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"ml-2 text-gray-400 hover:text-blue-600",status:"high-availability"})])),_:1},8,["to"])):(0,n.kq)("v-if",!0),(0,n._)("div",eC,[(0,n.Uk)(" Application: "),(0,n.Wm)(c,{to:{name:"Application",params:{id:e.instance.application.id}},class:"text-blue-600 cursor-pointer hover:text-blue-700 hover:underline"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(e.instance.application.name),1)])),_:1},8,["to"])])])])),tools:(0,n.w5)((()=>[(0,n._)("div",tC,[(0,n.Wm)(h,{url:e.instance.url,editorDisabled:e.instance.settings.disableEditor||o.isHA,disabled:!o.editorAvailable,"disabled-reason":o.disabledReason},null,8,["url","editorDisabled","disabled","disabled-reason"]),e.hasPermission("project:change-status")?((0,n.wg)(),(0,n.j4)(g,{key:0,buttonClass:"ff-btn ff-btn--primary",options:o.actionsDropdownOptions},{default:(0,n.w5)((()=>[(0,n.Uk)("Actions")])),_:1},8,["options"])):(0,n.kq)("v-if",!0)])])),_:1})]),(0,n.Wm)(v,{ref:"confirmInstanceDeleteDialog",onConfirm:o.deleteInstance},null,8,["onConfirm"]),e.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-banner"},[o.isVisitingAdmin?((0,n.wg)(),(0,n.iD)("div",aC,"You are viewing this instance as an Administrator")):(0,n.kq)("v-if",!0),(0,n.Wm)(y,{team:e.team},null,8,["team"]),e.team.billing?.trial?((0,n.wg)(),(0,n.j4)(k,{key:1,team:e.team},null,8,["team"])):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0),(0,n._)("div",iC,[(0,n.Wm)(b,{instance:e.instance,"is-visiting-admin":o.isVisitingAdmin,onInstanceUpdated:o.loadInstance,onInstanceConfirmDelete:o.showConfirmDeleteDialog,onInstanceConfirmSuspend:o.showConfirmSuspendDialog},null,8,["instance","is-visiting-admin","onInstanceUpdated","onInstanceConfirmDelete","onInstanceConfirmSuspend"])]),(0,n.Wm)(w,{instance:e.instance,onInstanceUpdated:o.instanceUpdated},null,8,["instance","onInstanceUpdated"])])):((0,n.wg)(),(0,n.iD)("main",KT,[(0,n.Wm)(p,{message:"Loading Instance..."})]))],64)}]]),meta:{title:"Instance - Overview"},children:[{path:"overview",component:iS},{path:"audit-log",component:Vx,meta:{title:"Instance - Activity"}},{path:"logs",component:uD,meta:{title:"Instance - Logs"}},{path:"devices",name:"InstanceRemoteInstances",component:rD,meta:{title:"Instance - Remote Instances"}},{path:"settings",component:lS,meta:{title:"Instance - Settings"},redirect:e=>`/instance/${e.params.id}/settings/general`,children:[...kT]},{path:"snapshots",name:"InstanceSnapshots",component:YT,meta:{title:"Instance - Snapshots"}}]}],hC=a.p+"./assets/fe2eb6ada5fe1846c31b.png";const gC=(0,n._)("img",{src:hC},null,-1),fC=(0,n._)("p",null,"This is a list of all Applications hosted on the same domain as FlowForge.",-1),vC=(0,n._)("p",null,"Each Application can host multiple Node-RED instances.",-1),yC=(0,n._)("p",null,"Click an application header to go to the overview of that application.",-1),kC=(0,n._)("p",null,"Click an instance within an application to go to the Instances overview.",-1),bC={class:"space-y-6"},wC={key:1,class:"ff-applications-list"},xC=["onClick"],AC={class:"flex justify-center"},DC={class:"italic text-gray-400 text-sm"},SC={key:0,class:"ff-applications-list-instances"},TC=(0,n._)("label",null,"Instances",-1),CC=["onClick"],EC={class:"flex justify-center mr-3"},IC={class:"ff-applications-list--instance"},_C={class:"text-sm"},UC={key:0,class:"flex flex-col"},VC=(0,n._)("label",{class:"text-xs text-gray-400"},"Last Updated: ",-1),jC={key:1,class:"text-gray-400 italic"},PC={key:1,class:"ff-no-data"},ZC={key:2},MC=(0,n._)("img",{src:"data:image/png;base64,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"},null,-1),BC=(0,n._)("p",null,"Applications in FlowForge are used to manage groups of Node-RED Instances",-1),FC=(0,n._)("p",null,[(0,n.Uk)(" Instances within Applications can be connected as "),(0,n._)("a",{class:"ff-link",href:"https://flowforge.com/docs/user/staged-deployments",target:"_blank"},"Staged Deployments.")],-1),WC=(0,n._)("p",null,[(0,n.Uk)(" The FlowForge team also have more planned for Applications, including "),(0,n._)("a",{class:"ff-link",href:"https://github.com/flowforge/flowforge/issues/1734",target:"_blank"}," shared settings across Instances"),(0,n.Uk)(". ")],-1);var NC={name:"TeamApplications",components:{EmptyState:nf,InstanceEditorLinkCell:uf,InstanceStatusBadge:Zg,InstanceStatusPolling:ck,PlusSmIcon:Ct.Z,ProjectIcon:Ti(),SectionTopMenu:Wa,TemplateIcon:li.Z},mixins:[Pd],props:["team","teamMembership"],data(){return{loading:!1,applications:new Map,columns:[{label:"Name",class:["flex-grow"],key:"name",sortable:!0}]}},watch:{team:"fetchData"},mounted(){this.fetchData(),"billing_session"in this.$route.query&&this.$nextTick((()=>{Ee.Z.emit("Thanks for signing up to FlowForge!","confirmation")}))},methods:{async fetchData(){if(this.loading=!0,this.team.id){this.applications=new Map;const e=Dt.Z.getTeamApplications(this.team.id);this.updateInstanceStatuses(),(await e).applications.forEach((e=>{const t=this.applications.get(e.id)||{};t.instances||(t.instances=new Map);const{instances:a,...i}=e;a.forEach((e=>{t.instances.set(e.id,{...t.instances.get(e.id),...e})})),this.applications.set(e.id,{...t,...i})}))}this.loading=!1},async updateInstanceStatuses(){(await Dt.Z.getTeamApplicationsInstanceStatuses(this.team.id)).applications.forEach((e=>{const t=this.applications.get(e.id)||{};t.instances||(t.instances=new Map);const{instances:a,...i}=e;a.forEach((e=>{t.instances.set(e.id,{...t.instances.get(e.id),...e})})),this.applications.set(e.id,{...t,...i})}))},instanceUpdated(e){const t=this.applications.get(e.application.id);t.instances.set(e.id,{...t.instances.get(e.id),...e})},openApplication(e){this.$router.push({name:"Application",params:{id:e.id}})},openInstance(e){this.$router.push({name:"Instance",params:{id:e.id}})}}},RC=a(2648),LC={};LC.styleTagTransform=or(),LC.setAttributes=ar(),LC.insert=er().bind(null,"head"),LC.domAPI=Qo(),LC.insertStyleElement=nr(),Xo()(RC.Z,LC),RC.Z&&RC.Z.locals&&RC.Z.locals;var qC=(0,f.Z)(NC,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("PlusSmIcon"),c=(0,n.up)("ff-button"),d=(0,n.up)("SectionTopMenu"),p=(0,n.up)("ff-loading"),u=(0,n.up)("TemplateIcon"),m=(0,n.up)("ProjectIcon"),h=(0,n.up)("InstanceStatusBadge"),g=(0,n.up)("InstanceEditorLinkCell"),f=(0,n.up)("InstanceStatusPolling"),v=(0,n.up)("EmptyState"),y=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(d,{hero:"Applications","help-header":"Node-RED Applications",info:"A list of applications belonging to this Team."},{pictogram:(0,n.w5)((()=>[gC])),helptext:(0,n.w5)((()=>[fC,vC,yC,kC])),tools:(0,n.w5)((()=>[e.hasPermission("project:create")?((0,n.wg)(),(0,n.j4)(c,{key:0,"data-action":"create-application",kind:"primary",to:{name:"CreateTeamApplication"}},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Create Application ")])),_:1})):(0,n.kq)("v-if",!0)])),_:1}),(0,n._)("div",bC,[s.loading?((0,n.wg)(),(0,n.j4)(p,{key:0,message:"Loading Applications..."})):!s.loading&&s.applications.size>0?((0,n.wg)(),(0,n.iD)("ul",wC,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Array.from(s.applications.values()),(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.id},[(0,n._)("div",{class:"ff-application-list--app","data-action":"view-application",onClick:t=>o.openApplication(e)},[(0,n._)("span",AC,[(0,n.Wm)(u,{class:"ff-icon text-gray-600"}),(0,n.Uk)((0,l.toDisplayString)(e.name),1)]),(0,n._)("label",DC,(0,l.toDisplayString)(e.instances.size)+" Instance"+(0,l.toDisplayString)(1===e.instances.size?"":"s"),1)],8,xC),e.instances.size>0?((0,n.wg)(),(0,n.iD)("ul",SC,[TC,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Array.from(e.instances.values()),(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.id,onClick:(0,Oe.withModifiers)((t=>o.openInstance(e)),["stop"])},[(0,n._)("span",EC,[(0,n.Wm)(m,{class:"ff-icon text-gray-600"})]),(0,n._)("div",IC,[(0,n._)("label",null,(0,l.toDisplayString)(e.name),1),(0,n._)("span",null,(0,l.toDisplayString)(e.url),1)]),(0,n._)("div",null,[(0,n.Wm)(h,{status:e.meta?.state,optimisticStateChange:e.optimisticStateChange,pendingStateChange:e.pendingStateChange},null,8,["status","optimisticStateChange","pendingStateChange"])]),(0,n._)("div",_C,[e.flowLastUpdatedSince?((0,n.wg)(),(0,n.iD)("span",UC,[VC,(0,n.Uk)(" "+(0,l.toDisplayString)(e.flowLastUpdatedSince||"never"),1)])):((0,n.wg)(),(0,n.iD)("span",jC," flows never deployed "))]),(0,n.Wm)(g,{id:e.id,url:e.url,editorDisabled:!!e.settings?.disableEditor,disabled:"running"!==e.meta?.state,isHA:void 0!==e.ha?.replicas},null,8,["id","url","editorDisabled","disabled","isHA"]),(0,n.Wm)(f,{instance:e,onInstanceUpdated:o.instanceUpdated},null,8,["instance","onInstanceUpdated"])],8,CC)))),128))])):((0,n.wg)(),(0,n.iD)("div",PC," This Application currently has no attached Node-RED Instances. "))])))),128))])):((0,n.wg)(),(0,n.iD)("div",ZC,[(0,n.Wm)(v,null,{img:(0,n.w5)((()=>[MC])),header:(0,n.w5)((()=>[(0,n.Uk)("Get Started with your First Application")])),message:(0,n.w5)((()=>[BC,FC])),actions:(0,n.w5)((()=>[e.hasPermission("project:create")?((0,n.wg)(),(0,n.j4)(c,{key:0,"data-action":"create-application",kind:"primary",to:{name:"CreateTeamApplication"}},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Create Application ")])),_:1})):(0,n.kq)("v-if",!0)])),note:(0,n.w5)((()=>[WC])),_:1})]))]),(0,n.Wm)(y)],64)}]]),HC={name:"TeamAuditLog",components:{SectionTopMenu:Wa,AuditLogBrowser:ur},mixins:[Pd],props:["team","teamMembership"],data(){return{logEntries:[],users:[]}},watch:{team:"triggerLoad",teamMembership:"triggerLoad"},created(){this.loadUsers()},methods:{async loadUsers(){this.users=(await Dt.Z.getTeamMembers(this.team.id)).members},async loadEntries(e=new URLSearchParams,t=void 0){if(!this.hasPermission("team:audit-log"))return this.$router.push({path:`/team/${this.team.slug}/overview`});const a=this.team.id;a&&(this.logEntries=(await Dt.Z.getTeamAuditLog(a,e,t,200)).log)},triggerLoad(){this.$refs.AuditLog?.loadEntries(),this.loadUsers()}}},OC=(0,f.Z)(HC,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("AuditLogBrowser");return(0,n.wg)(),(0,n.j4)(l,{ref:"AuditLog",users:s.users,logEntries:s.logEntries,logType:"team",onLoadEntries:o.loadEntries},{title:(0,n.w5)((()=>[(0,n.Wm)(r,{hero:"Audit Log",info:"Recorded events that have taken place in this Team."})])),_:1},8,["users","logEntries","onLoadEntries"])}]]);const GC={key:0,class:"ff-banner ff-banner-info mb-3","data-el":"credit-balance-banner"},YC={class:"pt-4"},zC={key:1},KC={class:"font-normal"},XC={key:0,class:"font-normal"},$C={key:1,class:"ff-no-data ff-no-data-large"},QC={key:2},JC={key:0,class:"text-gray-400 mt-1 pl-2 text-sm"},eE={key:3,class:"ff-no-data ff-no-data-large"},tE={key:2,class:"ff-no-data ff-no-data-large"},aE={class:"max-w-lg mx-auto"},iE={key:0},nE={key:1},sE={class:"mt-6"};var oE=a(4338);const rE=(e,t=null,a={})=>{const i=new Date(e);t||(t="en-US");const n=new Intl.DateTimeFormat(t,a);try{return n.format(i)}catch(t){return e}};var lE={methods:{formatDateTime:(e,t=null,a={})=>rE(e,t,{timeStyle:"short",dateStyle:"long",...a}),formatDate:(e,t=null,a={})=>rE(e,t,{dateStyle:"long",...a}),formatTime:(e,t=null,a={})=>rE(e,t,{timeStyle:"short",...a})}};const cE={name:"PriceCell",props:["price"],mixins:[Vy],computed:{formattedPrice:function(){return this.formatCurrency(this.price)}},template:"<div>{{ formattedPrice }}</div>"},dE={name:"PriceCell",props:["total_price"],mixins:[Vy],computed:{formattedPrice:function(){return this.formatCurrency(this.total_price)}},template:"<div>{{ formattedPrice }}</div>"};var pE={name:"TeamBilling",components:{Loading:oE.Z,FormHeading:Pe.Z,ExternalLinkIcon:hx.Z,SectionTopMenu:Wa},mixins:[lE,Vy,Pd],props:["billingUrl","team","teamMembership"],data(){return{loading:!1,subscription:null,missingSubscription:!1,columns:[{name:"label",key:"name",sortable:!0},{label:"Quantity",key:"quantity",sortable:!0},{label:"Unit Price (US$)",key:"price",sortable:!0,component:{is:(0,et.Xl)(cE)}},{label:"Total Price (US$)",key:"total_price",sortable:!0,component:{is:(0,et.Xl)(dE)}}],errors:{}}},computed:{billingSetUp(){return!this.missingSubscription&&this.team.billing?.active},subscriptionExpired(){return this.team.billing?.canceled},trialMode(){return this.team.billing?.trial},isRestrictedTrial(){return!!this.team.type?.properties?.trial?.instanceType},hasTrialProject(){return this.trialMode&&this.isRestrictedTrial&&this.team.instanceCountByType[this.team.type?.properties?.trial?.instanceType]>0}},watch:{},async mounted(){if(this.billingSetUp){if(!this.hasPermission("team:edit"))return this.$router.push({path:`/team/${this.team.slug}/overview`});this.loading=!0;try{const e=await uy(this.team.id);e.next_billing_date=1e3*e.next_billing_date,this.subscription=e,this.subscription.items.map((e=>(e.total_price=e.price*e.quantity,e))),this.trialMode&&this.hasTrialProject&&this.subscription.items.push({name:"Trial Project",quantity:1,price:0,total_price:0})}catch(e){this.missingSubscription=!0}this.loading=!1}},methods:{customerPortal(){(async e=>{window.open("/ee/billing/teams/"+e+"/customer-portal","_blank")})(this.team.id)},async setupBilling(){let e=this.$route.query.billingUrl;e||(e=(await(async e=>ba.Z.post("/ee/billing/teams/"+e).then((e=>e.data)))(this.team.id)).billingURL),window.open(e,"_self")}}},uE=(0,f.Z)(pE,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ExternalLinkIcon"),c=(0,n.up)("ff-button"),d=(0,n.up)("SectionTopMenu"),p=(0,n.up)("Loading"),u=(0,n.up)("FormHeading"),m=(0,n.up)("ff-data-table");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.subscription?.customer?.balance<0?((0,n.wg)(),(0,n.iD)("div",GC," You have a credit balance of "+(0,l.toDisplayString)(e.formatCurrency(Math.abs(s.subscription.customer.balance)))+" that will be applied to the next invoice. ",1)):(0,n.kq)("v-if",!0),(0,n.Wm)(d,{hero:"Team Billing"},{tools:(0,n.w5)((()=>[s.subscription?((0,n.wg)(),(0,n.j4)(c,{key:0,onClick:t[0]||(t[0]=e=>o.customerPortal())},{"icon-right":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Stripe Customer Portal ")])),_:1})):(0,n.kq)("v-if",!0)])),_:1}),(0,n._)("form",YC,[s.loading?((0,n.wg)(),(0,n.j4)(p,{key:0,size:"small"})):o.billingSetUp?((0,n.wg)(),(0,n.iD)("div",zC,[o.trialMode?((0,n.wg)(),(0,n.j4)(u,{key:0,class:"mb-6"},{default:(0,n.w5)((()=>[(0,n.Uk)("Trial Ends: "),(0,n._)("span",KC,(0,l.toDisplayString)(e.formatDate(a.team.billing.trialEndsAt)),1)])),_:1})):(0,n.kq)("v-if",!0),(0,n.Wm)(u,{class:"mb-6"},{default:(0,n.w5)((()=>[(0,n.Uk)("Next Payment: "),s.subscription&&!o.subscriptionExpired?((0,n.wg)(),(0,n.iD)("span",XC,(0,l.toDisplayString)(e.formatDate(s.subscription.next_billing_date)),1)):(0,n.kq)("v-if",!0)])),_:1}),o.subscriptionExpired?((0,n.wg)(),(0,n.iD)("div",$C,[(0,n.Uk)(" Your subscription has expired. Please renew it to continue using FlowForge. "),(0,n.Wm)(c,{"data-action":"renew-subscription",class:"mx-auto mt-3",onClick:t[1]||(t[1]=e=>o.setupBilling())},{"icon-right":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Renew Subscription ")])),_:1})])):s.subscription?((0,n.wg)(),(0,n.iD)("div",QC,[(0,n.Wm)(m,{columns:s.columns,rows:s.subscription.items},null,8,["columns","rows"]),o.hasTrialProject?((0,n.wg)(),(0,n.iD)("div",JC,"Your trial instance will be automatically added to your subscription when the trial ends")):(0,n.kq)("v-if",!0)])):((0,n.wg)(),(0,n.iD)("div",eE," Something went wrong loading your subscription information, please try again. "))])):((0,n.wg)(),(0,n.iD)("div",tE,[(0,n._)("div",aE,[o.trialMode?((0,n.wg)(),(0,n.iD)("div",iE,[(0,n.Uk)(" You are currently in a free trial. "),o.isRestrictedTrial?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)(" During the trial you can only create one application instance in the team. To unlock other features you will need to configure your billing details. ")],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)(" During the trial you can make full use of the features available to your team. To keep things running after the trial ends you will need to configure your billing details. ")],64))])):((0,n.wg)(),(0,n.iD)("div",nE," Billing has not yet been configured for this team. Before proceeding further, you must continue to Stripe and complete this. "))]),(0,n._)("div",sE,[(0,n.Wm)(c,{"data-action":"setup-payment-details",class:"mx-auto mt-3",onClick:t[2]||(t[2]=e=>o.setupBilling())},{"icon-right":(0,n.w5)((()=>[(0,n.Wm)(r)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Setup Payment Details ")])),_:1})])]))])],64)}]]),mE=a.p+"./assets/4b360cd97a823438834d.png";const hE=(0,n._)("img",{src:mE},null,-1),gE=(0,n._)("p",null,"FlowForge can be used to manage instances of Node-RED running on remote devices.",-1),fE=(0,n._)("p",null,[(0,n.Uk)("Each device must run the "),(0,n._)("a",{href:"https://flowforge.com/docs/user/devices/",target:"_blank"},"FlowForge Device Agent"),(0,n.Uk)(", which connects back to the platform to receive updates.")],-1),vE=(0,n._)("p",null,"Devices are registered to a Team, and assigned to an Instance within an Application.",-1),yE=(0,n._)("p",null,"Flows can then be deployed remotely to the devices as an Instance Snapshot.",-1);var kE={name:"TeamDevices",components:{SectionTopMenu:Wa,DevicesBrowser:nD},mixins:[Pd],props:{team:{type:Object,required:!0},teamMembership:{type:Object,required:!0}}},bE=(0,f.Z)(kE,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("DevicesBrowser");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{hero:"Devices","help-header":"FlowForge - Devices",info:"A list of all edge devices registered in your team. Assign them to application instances in order to deploy Node-RED remotely."},{pictogram:(0,n.w5)((()=>[hE])),helptext:(0,n.w5)((()=>[gE,fE,vE,yE])),_:1}),(0,n.Wm)(l,{team:a.team,teamMembership:a.teamMembership},null,8,["team","teamMembership"])],64)}]]),wE=a.p+"./assets/b2d86fccf57321ad932b.png";const xE=(0,n._)("img",{src:wE},null,-1),AE=(0,n._)("p",null," This is a list of all Node-RED instances belonging to this team running in this FlowForge. ",-1),DE=(0,n._)("p",null," Each Instance is a customised version of Node-RED that includes various FlowForge plugins to integrate it with the platform. ",-1),SE=(0,n._)("p",null," A number of the standard Node-RED settings are exposed for customisation, and they can be preset by applying a Template upon creation of an Instance. ",-1),TE={class:"space-y-6"},CE=(0,n._)("img",{src:"data:image/png;base64,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"},null,-1),EE=(0,n._)("p",null," You can create your first Instance when creating your first Application, or add an Instance to an existing Application if you have one. ",-1);var IE={name:"TeamInstances",components:{PlusSmIcon:Ct.Z,EmptyState:nf,SectionTopMenu:Wa},mixins:[Pd],props:{team:{type:Object,required:!0},teamMembership:{type:Object,required:!0}},data(){return{loading:!1,instances:[],columns:[{label:"Name",class:["flex-grow"],key:"name",sortable:!0},{label:"Status",class:["w-44"],key:"status",sortable:!0,component:{is:(0,et.Xl)(Zg)}},{label:"Last Updated",class:["w-60"],key:"flowLastUpdatedSince",sortable:!0},{label:"Application",class:["flex-grow-[0.25]"],key:"application.name",sortable:!0}]}},watch:{team:"fetchData"},mounted(){this.fetchData()},methods:{fetchData:async function(e){this.loading=!0,this.team.id&&(this.instances=(await Dt.Z.getTeamInstances(this.team.id)).projects),this.loading=!1},openInstance(e){this.$router.push({name:"Instance",params:{id:e.id}})}}},_E=(0,f.Z)(IE,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("ff-loading"),c=(0,n.up)("PlusSmIcon"),d=(0,n.up)("ff-button"),p=(0,n.up)("ff-data-table"),u=(0,n.up)("router-link"),m=(0,n.up)("EmptyState");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{hero:"Instances",info:"A list of all Node-RED instances belonging to this Team."},{pictogram:(0,n.w5)((()=>[xE])),helptext:(0,n.w5)((()=>[AE,DE,SE])),_:1}),(0,n._)("div",TE,[s.loading?((0,n.wg)(),(0,n.j4)(l,{key:0,message:"Loading Instances..."})):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[s.instances.length>0?((0,n.wg)(),(0,n.j4)(p,{key:0,"data-el":"instances-table",columns:s.columns,rows:s.instances,"show-search":!0,"search-placeholder":"Search Instances...","rows-selectable":!0,onRowSelected:o.openInstance},{actions:(0,n.w5)((()=>[e.hasPermission("project:create")?((0,n.wg)(),(0,n.j4)(d,{key:0,"data-action":"create-project",kind:"primary",to:{name:"CreateInstance"}},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(c)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Create Instance ")])),_:1})):(0,n.kq)("v-if",!0)])),_:1},8,["columns","rows","onRowSelected"])):((0,n.wg)(),(0,n.j4)(m,{key:1},{img:(0,n.w5)((()=>[CE])),header:(0,n.w5)((()=>[(0,n.Uk)("Get Started with your First Node-RED Instance")])),message:(0,n.w5)((()=>[(0,n._)("p",null,[(0,n.Uk)(" Instances are managed in FlowForge via "),(0,n.Wm)(u,{class:"ff-link",to:{name:"Applications",params:{team_slug:a.team.slug}}},{default:(0,n.w5)((()=>[(0,n.Uk)(" Applications ")])),_:1},8,["to"]),(0,n.Uk)(". ")]),EE])),actions:(0,n.w5)((()=>[e.hasPermission("project:create")?((0,n.wg)(),(0,n.j4)(d,{key:0,kind:"primary",to:{name:"CreateInstance"}},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(c)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Create Instance ")])),_:1})):(0,n.kq)("v-if",!0)])),_:1}))],64))])],64)}]]),UE=a.p+"./assets/9e2e8cfe59a0a7992e0d.png";const VE=(0,n._)("img",{src:UE},null,-1),jE=(0,n._)("p",null,"In Node-RED you can export and import flows and functions, and save them to your Team Library.",-1),PE=(0,n._)("p",null,"The contents of your Team Library are available across any of your application instances in FlowForge.",-1),ZE=(0,n._)("p",null,[(0,n.Uk)("You can read more about "),(0,n._)("a",{href:"https://nodered.org/docs/user-guide/editor/workspace/import-export",target:"_blank"},"Import & Exporting Flows"),(0,n.Uk)(" in the Node-RED documentation")],-1),ME=["onClick"],BE={key:1},FE=(0,n._)("img",{src:"data:image/png;base64,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"},null,-1),WE=(0,n._)("p",null,[(0,n.Uk)(" You can import and export flows and functions to a shared "),(0,n._)("a",{class:"ff-link",href:"https://flowforge.com/docs/user/shared-library/",target:"_blank"},"Team Library"),(0,n.Uk)(" from within your Node-RED Instances. ")],-1),NE=(0,n._)("p",null," The contents of your Team Library will show here, and will be available within all of your Node-RED instances on FlowForge. ",-1),RE=(0,n._)("p",null,[(0,n.Uk)(" You can see a video of how to get started with this feature "),(0,n._)("a",{class:"ff-link",href:"https://www.youtube.com/watch?v=B7XK3TUklUU",target:"_blank"},"here"),(0,n.Uk)(". ")],-1);var LE=a(9544);const qE={class:"ff-code-previewer"};var HE={name:"ff-code-previewer",props:{snippet:{required:!0,type:[Object,Array,String]}},computed:{strippedSnippet:function(){return this.snippet}}},OE=a(1205),GE={};GE.styleTagTransform=or(),GE.setAttributes=ar(),GE.insert=er().bind(null,"head"),GE.domAPI=Qo(),GE.insertStyleElement=nr(),Xo()(OE.Z,GE),OE.Z&&OE.Z.locals&&OE.Z.locals;var YE=(0,f.Z)(HE,[["render",function(e,t,a,i,s,o){return(0,n.wg)(),(0,n.iD)("pre",qE,[(0,n._)("code",null,(0,l.toDisplayString)(o.strippedSnippet),1)])}],["__scopeId","data-v-4fab1da2"]]),zE=a(300),KE={name:"LibraryEntryTypeIcon",inheritAttrs:!1,props:{type:{required:!0,type:String}},components:{FolderIcon:yk.Z,CodeIcon:zE.Z,ProjectIcon:Ti()}},XE=(0,f.Z)(KE,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FolderIcon"),l=(0,n.up)("ProjectIcon"),c=(0,n.up)("CodeIcon");return(0,n.wg)(),(0,n.iD)(n.HY,null,["folder"===a.type?((0,n.wg)(),(0,n.j4)(r,{key:0,class:"ff-icon"})):(0,n.kq)("v-if",!0),"flows"===a.type?((0,n.wg)(),(0,n.j4)(l,{key:1,class:"ff-icon"})):(0,n.kq)("v-if",!0),"functions"===a.type?((0,n.wg)(),(0,n.j4)(c,{key:2,class:"ff-icon"})):(0,n.kq)("v-if",!0)],64)}]]),$E={name:"SharedLibrary",components:{"ff-code-previewer":YE,ChevronRightIcon:Lo.Z,EmptyState:nf,SectionTopMenu:Wa,TypeIcon:XE,PlusIcon:LE.Z},mixins:[lE],props:{team:{required:!0,type:Object},teamMembership:{required:!0,type:Object}},data(){return{breadcrumbs:[],columns:[{key:"type",label:"",class:["w-2"]},{key:"name",label:"Name"},{key:"updatedAt",label:"Date Modified",class:["w-80"]},{key:"actions"}],rows:[],contents:null,viewingFile:!1}},computed:{...(0,o.rn)("account",["features"]),featureEnabled(){return this.features["shared-library"]}},created(){this.$watch((()=>this.$route.params),(()=>{this.pathChanged(this.$route.params.entryPath||[])})),this.pathChanged(this.$route.params.entryPath||[])},methods:{pathChanged(e=[]){this.loadEntry(e.filter((e=>e)))},async loadEntry(e){if(!this.featureEnabled)return;const t=e.join("/"),a=/\.\w+/.test(t),i=await Dt.Z.getTeamLibrary(this.team.id,t);this.breadcrumbs=[{name:"Library",path:""}];for(const t of e)this.breadcrumbs.push(this.formatEntry(t,this.breadcrumbs.at(-1)));this.viewingFile=a,a?this.contents=i:this.rows=this.formatEntries(i,this.breadcrumbs.at(-1))},entrySelected(e){this.$router.push({name:"TeamLibrary",params:{entryPath:e.path.split("/")}})},formatEntry(e,t){const a="string"==typeof e?"folder":e.type,i="string"==typeof e?e:e.fn;return{type:a,name:i,updatedAt:e.updatedAt,path:t.path?t.path+"/"+i:i}},formatEntries(e,t){return e.map((e=>this.formatEntry(e,t))).sort(((e,t)=>{const a=["folder","flows","functions"],i=a.indexOf(e.type),n=a.indexOf(t.type),s=i<n?-1:i>n?1:0,o=e.name.toLowerCase(),r=e.name.toLowerCase();return s||(o>r?-1:o<r?1:0)}))},copyToClipboard(){navigator.clipboard.writeText(JSON.stringify(this.contents)),Ee.Z.emit("Copied to Clipboard.","confirmation")},async deleteFile(e){Xe.Z.show({header:"Delete File",kind:"danger",text:"Are you sure you want to delete this file? Once deleted, there is no going back.",confirmLabel:"Delete"},(async()=>{try{const t=e.path.endsWith("/")?e.path.slice(0,-1):e.path;await Dt.Z.deleteFromTeamLibrary(this.team.id,t),Ee.Z.emit("Successfully deleted!","confirmation")}catch(e){Ee.Z.emit("Failed to delete device: "+e.toString(),"warning",7500)}finally{this.pathChanged(this.$route.params.entryPath||[])}}))}}},QE=(0,f.Z)($E,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-button"),c=(0,n.up)("SectionTopMenu"),d=(0,n.up)("ChevronRightIcon"),p=(0,n.up)("TypeIcon"),u=(0,n.up)("ff-data-table-cell"),m=(0,n.up)("ff-list-item"),h=(0,n.up)("ff-data-table-row"),g=(0,n.up)("ff-data-table"),f=(0,n.up)("ff-code-previewer"),v=(0,n.up)("PlusIcon"),y=(0,n.up)("EmptyState");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(c,{hero:"Team Library","help-header":"FlowForge - Team Library",info:"Shared repository to store common flows and nodes."},{pictogram:(0,n.w5)((()=>[VE])),helptext:(0,n.w5)((()=>[jE,PE,ZE])),tools:(0,n.w5)((()=>[s.contents?((0,n.wg)(),(0,n.j4)(r,{key:0,onClick:t[0]||(t[0]=e=>o.copyToClipboard())},{default:(0,n.w5)((()=>[(0,n.Uk)("Copy to Clipboard")])),_:1})):(0,n.kq)("v-if",!0)])),_:1}),s.rows.length>0?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,l.normalizeClass)({"ff-breadcrumbs":!0,"disable-last":!s.viewingFile})},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.breadcrumbs,((e,t)=>((0,n.wg)(),(0,n.iD)("span",{key:t,class:"flex items-center"},[(0,n._)("label",{onClick:t=>o.entrySelected(e)},(0,l.toDisplayString)(e.name),9,ME),1===s.breadcrumbs.length||t!==s.breadcrumbs.length-1?((0,n.wg)(),(0,n.j4)(d,{key:0,class:"ff-icon"})):(0,n.kq)("v-if",!0)])))),128))],2)):(0,n.kq)("v-if",!0),s.rows.length>0?((0,n.wg)(),(0,n.iD)("div",BE,[!s.viewingFile&&s.rows.length>0?((0,n.wg)(),(0,n.j4)(g,{key:0,columns:s.columns,rows:s.rows},{rows:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.rows,(t=>((0,n.wg)(),(0,n.j4)(h,{key:t,selectable:!0,onClick:e=>o.entrySelected(t)},{"context-menu":(0,n.w5)((()=>[(0,n.Wm)(m,{class:"ff-list-item--danger",label:"Delete",onClick:(0,Oe.withModifiers)((e=>o.deleteFile(t)),["stop"])},null,8,["onClick"])])),default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,{type:t.type},null,8,["type"])])),_:2},1024),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(t.name),1)])),_:2},1024),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.toDisplayString)(e.formatDateTime(t.updatedAt)),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["columns","rows"])):((0,n.wg)(),(0,n.j4)(f,{key:1,ref:"code-preview",snippet:s.contents},null,8,["snippet"]))])):((0,n.wg)(),(0,n.j4)(y,{key:2,featureUnavailable:!o.featureEnabled},{img:(0,n.w5)((()=>[FE])),header:(0,n.w5)((()=>[(0,n.Uk)("Create your own Team Library")])),message:(0,n.w5)((()=>[WE,NE])),actions:(0,n.w5)((()=>[o.featureEnabled?((0,n.wg)(),(0,n.j4)(r,{key:0,to:{name:"Instances"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Go To Instances")])),_:1})):((0,n.wg)(),(0,n.j4)(r,{key:1,to:{name:"Instances"},disabled:!0},{"icon-right":(0,n.w5)((()=>[(0,n.Wm)(v)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Add To Library ")])),_:1}))])),note:(0,n.w5)((()=>[RE])),_:1},8,["featureUnavailable"]))],64)}]]);const JE={key:1,class:"mb-8"},eI=(0,n._)("div",{class:"text-right"},null,-1),tI={class:"space-y-2"},aI={key:0,class:"text-sm text-gray-500"},iI={class:"font-bold"},nI={class:"text-sm text-gray-500 mb-6"},sI={class:"font-bold"};var oI={name:"ChangeTeamRoleDialog",emits:["role-updated"],data(){return{ownerCount:0,team:null,user:null,input:{role:""},Roles:nh.Roles}},methods:{async confirm(){if(!(this.ownerCount<2&&this.isOwner))try{await Dt.Z.changeTeamMemberRole(this.team.id,this.user.id,this.input.role),this.user.role=this.input.role,this.$emit("role-updated",this.user),Ee.Z.emit("User's role successfully updated","confirmation")}catch(e){console.warn(e)}}},computed:{isOwner:function(){return this.user?.role===nh.Roles.Owner}},setup(){return{roleOptions:[{label:"Owner",value:nh.Roles.Owner,description:"Owners can add and remove members to the team and create applications and instances"},{label:"Member",value:nh.Roles.Member,description:"Members can access the team instances"},{label:"Viewer",value:nh.Roles.Viewer,description:"Viewers can access the team instances, but not make any changes"},{label:"Dashboard Only",value:nh.Roles.Dashboard,description:"Dashboard users can only access the dashboards or HTTP endpoints created by the Node-RED instances when FlowForge authentication is enabled"}],show(e,t,a){this.$refs.dialog.show(),this.team=e,this.ownerCount=a,this.user=t,this.input.role=t.role}}}},rI=(0,f.Z)(oI,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-radio-group"),c=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(c,{ref:"dialog",header:"Change Role","confirm-label":"Change",onConfirm:t[2]||(t[2]=e=>o.confirm()),"disable-primary":s.ownerCount<2&&o.isOwner},(0,n.Nv)({_:2},[s.user?{name:"default",fn:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-6",onSubmit:t[1]||(t[1]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n._)("div",tI,[s.ownerCount<2&&o.isOwner?((0,n.wg)(),(0,n.iD)("p",aI,[(0,n.Uk)("You cannot change the role for "),(0,n._)("span",iI,(0,l.toDisplayString)(s.user.username),1),(0,n.Uk)(" as they are the only owner of the team.")])):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n._)("p",nI,[(0,n.Uk)(" Select a role for "),(0,n._)("span",sI,(0,l.toDisplayString)(s.user.username),1),(0,n.Uk)(": ")]),(0,n.Wm)(r,{modelValue:s.input.role,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.role=e),orientation:"vertical",options:i.roleOptions},null,8,["modelValue","options"])],64))])],32)])),key:"0"}:void 0]),1032,["disable-primary"])}]]);const lI={class:"mt-2 space-y-2"},cI={key:0,class:"text-sm text-gray-500"},dI={class:"font-bold"},pI={key:1,class:"text-sm text-gray-500"},uI={class:"font-bold"},mI={class:"font-bold"};var hI={name:"ConfirmTeamUserRemoveDialog",data(){return{ownerCount:0,user:null,team:null}},methods:{async confirm(){if(!this.disableConfirm)try{await Dt.Z.removeTeamMember(this.team.id,this.user.id),this.$emit("user-removed",this.user),Ee.Z.emit(`${this.user.username} successfully removed`,"confirmation")}catch(e){console.warn(e)}}},computed:{disableConfirm:function(){return this.user&&this.ownerCount<2&&"owner"===this.user.role}},setup(){return{show(e,t,a){this.$refs.dialog.show(),this.user=t,this.team=e,this.ownerCount=a}}}},gI=(0,f.Z)(hI,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(r,{ref:"dialog",header:"Remove User",kind:"danger","confirm-label":"Remove",onConfirm:t[1]||(t[1]=e=>o.confirm()),"disable-primary":o.disableConfirm},(0,n.Nv)({_:2},[s.user?{name:"default",fn:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-6",onSubmit:t[0]||(t[0]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n._)("div",lI,[s.ownerCount<2&&"owner"===s.user.role?((0,n.wg)(),(0,n.iD)("p",cI,[(0,n.Uk)("You cannot remove "),(0,n._)("span",dI,(0,l.toDisplayString)(s.user.username),1),(0,n.Uk)(" as they are the only owner of the team.")])):((0,n.wg)(),(0,n.iD)("p",pI,[(0,n.Uk)(" Are you sure you want to remove "),(0,n._)("span",uI,(0,l.toDisplayString)(s.user.username),1),(0,n.Uk)(" from the team "),(0,n._)("span",mI,(0,l.toDisplayString)(s.team.name),1),(0,n.Uk)("? ")]))])],32)])),key:"0"}:void 0]),1032,["disable-primary"])}]]);const fI={key:0},vI={key:0},yI={key:1},kI={key:2},bI={key:3,class:"space-y-4"},wI={key:1},xI={class:"font-medium"};var AI={name:"InviteMemberDialog",emits:["invitation-sent"],components:{FormRow:Ae.Z},props:["team","userCount","inviteCount"],data(){return{input:{userInfo:"",role:nh.Roles.Member},errors:{userInfo:null},responseErrors:null,Roles:nh.Roles}},computed:{...(0,o.rn)("account",["settings"]),externalEnabled(){return this.settings.email&&this.settings["team:user:invite:external"]},disableConfirm(){return!(!this.exceedsUserLimit&&!this.responseErrors&&this.input.userInfo.trim()&&!this.errors.userInfo)},totalMembers(){const e=this.userCount+this.inviteCount;return e+" member"+(e>1?"s":"")},hasUserLimit(){return this.team.type.properties.userLimit>0},exceedsUserLimit(){return this.hasUserLimit&&this.userCount+this.inviteCount>=this.team.type.properties.userLimit}},watch:{"input.userInfo":function(){this.externalEnabled||(/@/.test(this.input.userInfo)?this.errors.userInfo="Email invitations not available":this.errors.userInfo=null)}},methods:{async confirm(){try{const e=await Dt.Z.createTeamInvitation(this.team.id,this.input.userInfo,parseInt(this.input.role));if(e.error){this.responseErrors=e.error;for(const[t,a]of Object.entries(e.error))Ee.Z.emit(`Unable to invite ${t}: ${a}`,"warning")}else Ee.Z.emit("Invite sent to "+this.input.userInfo,"confirmation"),this.$emit("invitation-sent")}catch(e){e.response?.data?Ee.Z.emit(`Unable to invite users: ${e.response.data.error}`):console.error(e)}}},setup(){return{roleOptions:[{label:"Owner",value:nh.Roles.Owner,description:"Owners can add and remove members to the team and create applications and instances"},{label:"Member",value:nh.Roles.Member,description:"Members can access the team instances"},{label:"Viewer",value:nh.Roles.Viewer,description:"Viewers can access the team instances, but not make any changes"},{label:"Dashboard Only",value:nh.Roles.Dashboard,description:"Dashboard users can only access the dashboards or HTTP endpoints created by the Node-RED instances when FlowForge authentication is enabled"}],show(){this.$refs.dialog.show(),this.responseErrors=null,this.input.userInfo="",this.errors.userInfo=null}}}},DI=(0,f.Z)(AI,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),c=(0,n.up)("ff-radio-group"),d=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(d,{ref:"dialog",header:"Invite Team Member","confirm-label":"Invite",onConfirm:t[3]||(t[3]=e=>o.confirm()),"disable-primary":o.disableConfirm},{default:(0,n.w5)((()=>[(0,n._)("form",{class:"space-y-2",onSubmit:t[2]||(t[2]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[s.responseErrors?((0,n.wg)(),(0,n.iD)("ul",wI,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.responseErrors,((e,t)=>((0,n.wg)(),(0,n.iD)("li",{class:"text-sm",key:t},[(0,n._)("span",xI,(0,l.toDisplayString)(t),1),(0,n.Uk)(": "),(0,n._)("span",null,(0,l.toDisplayString)(e),1)])))),128))])):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[o.exceedsUserLimit?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("p",fI,[(0,n.Uk)("Invite a user to join the team by username"),o.externalEnabled?((0,n.wg)(),(0,n.iD)("span",vI," or email")):(0,n.kq)("v-if",!0),(0,n.Uk)(".")])),o.hasUserLimit?((0,n.wg)(),(0,n.iD)("p",yI,"Your team can have a maximum of "+(0,l.toDisplayString)(a.team.type.properties.userLimit)+" members.",1)):(0,n.kq)("v-if",!0),o.exceedsUserLimit?((0,n.wg)(),(0,n.iD)("p",kI,"You currently have "+(0,l.toDisplayString)(o.totalMembers)+" (including existing invites) so cannot invite any more.",1)):(0,n.kq)("v-if",!0),o.exceedsUserLimit?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("div",bI,[(0,n.Wm)(r,{id:"userInfo",modelValue:s.input.userInfo,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.userInfo=e),error:s.errors.userInfo,placeholder:"username"+(o.externalEnabled?" or email":"")},null,8,["modelValue","error","placeholder"]),(0,n.Wm)(c,{modelValue:s.input.role,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.role=e),orientation:"vertical",options:i.roleOptions},null,8,["modelValue","options"])]))],64))],32)])),_:1},8,["disable-primary"])}]]),SI={name:"TeamUsersGeneral",props:["team","teamMembership","inviteCount"],emits:["invites-updated"],mixins:[Pd],data(){return{loading:!1,users:[],userCount:0,userColumns:[],ownerCount:0}},watch:{team:"fetchData"},computed:{...(0,o.rn)("account",["user"]),canEditUser:function(){return this.hasPermission("team:user:remove")||this.hasPermission("team:user:change-role")}},mounted(){this.fetchData()},methods:{inviteMember(){this.$refs.inviteMemberDialog.show()},changeRoleDialog(e){this.$refs.changeTeamRoleDialog.show(this.team,e,this.ownerCount)},removeUserDialog(e){this.$refs.confirmTeamUserRemoveDialog.show(this.team,e,this.ownerCount)},roleUpdated(e){this.fetchData()},userRemoved(e){this.fetchData()},async fetchData(){this.loading=!0;const e=await Dt.Z.getTeamMembers(this.team.id);this.userCount=e.count,this.users=e.members,this.ownerCount=0,this.userColumns=[{label:"User",key:"name",sortable:!0,class:["flex-grow"],component:{is:(0,et.Xl)(ut)}},{label:"Role",key:"role",sortable:!0,class:["w-40"],component:{is:(0,et.Xl)(oh)}}],this.users&&this.users.forEach((e=>{e.role===nh.Roles.Owner&&this.ownerCount++})),this.loading=!1}},components:{ChangeTeamRoleDialog:rI,ConfirmTeamUserRemoveDialog:gI,PlusSmIcon:Ct.Z,InviteMemberDialog:DI}},TI=(0,f.Z)(SI,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),l=(0,n.up)("PlusSmIcon"),c=(0,n.up)("ff-button"),d=(0,n.up)("ff-list-item"),p=(0,n.up)("ff-data-table"),u=(0,n.up)("ChangeTeamRoleDialog"),m=(0,n.up)("ConfirmTeamUserRemoveDialog"),h=(0,n.up)("InviteMemberDialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.loading?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Loading Team..."})):((0,n.wg)(),(0,n.iD)("form",JE,[eI,(0,n.Wm)(p,{"data-el":"members-table",columns:s.userColumns,rows:s.users,"show-search":!0,"search-placeholder":"Search Team Members...","search-fields":["name","username","role"]},(0,n.Nv)({_:2},[e.hasPermission("team:user:invite")?{name:"actions",fn:(0,n.w5)((()=>[(0,n.Wm)(c,{"data-action":"member-invite-button",kind:"primary",onClick:o.inviteMember},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(l,{class:"w-4"})])),default:(0,n.w5)((()=>[(0,n.Uk)(" Invite Member ")])),_:1},8,["onClick"])])),key:"0"}:void 0,o.canEditUser?{name:"context-menu",fn:(0,n.w5)((({row:t})=>[e.hasPermission("team:user:change-role")?((0,n.wg)(),(0,n.j4)(d,{key:0,"data-action":"member-change-role",label:"Change Role",onClick:e=>o.changeRoleDialog(t)},null,8,["onClick"])):(0,n.kq)("v-if",!0),e.hasPermission("team:user:remove")?((0,n.wg)(),(0,n.j4)(d,{key:1,"data-action":"member-remove-from-team",label:"Remove From Team",kind:"danger",onClick:e=>o.removeUserDialog(t)},null,8,["onClick"])):(0,n.kq)("v-if",!0)])),key:"1"}:void 0]),1032,["columns","rows"])])),(0,n.Wm)(u,{onRoleUpdated:o.roleUpdated,ref:"changeTeamRoleDialog"},null,8,["onRoleUpdated"]),(0,n.Wm)(m,{onUserRemoved:o.userRemoved,ref:"confirmTeamUserRemoveDialog"},null,8,["onUserRemoved"]),e.hasPermission("team:user:invite")?((0,n.wg)(),(0,n.j4)(h,{key:2,onInvitationSent:t[0]||(t[0]=t=>e.$emit("invites-updated")),team:a.team,inviteCount:a.inviteCount,userCount:s.userCount,ref:"inviteMemberDialog"},null,8,["team","inviteCount","userCount"])):(0,n.kq)("v-if",!0)],64)}]]);const CI={key:1,class:"space-y-6"},EI=(0,n._)("div",{class:"text-right"},null,-1);var II={name:"MemberInviteTable",props:["team","teamMembership","inviteCount"],emits:["updated","invites-updated"],mixins:[Pd],data(){return{loading:!1,invitations:[],inviteColumns:[{label:"User",class:["flex-grow"],component:{is:(0,et.Xl)(ht),map:{user:"invitee"}},key:"invitee"},{label:"Role",class:["w-40"],key:"roleName"},{label:"Expires In",class:["w-40"],key:"expires"}]}},watch:{teamMembership:"fetchData",team:"fetchData"},mounted(){this.fetchData()},methods:{async removeInvite(e){await Dt.Z.removeTeamInvitation(e.team.id,e.id),await this.fetchData(),this.$emit("invites-updated")},async fetchData(){if(this.loading=!0,this.team&&this.teamMembership){if(!this.hasPermission("team:user:invite"))return void(0,i.tv)().push({path:`/team/${(0,i.yj)().params.team_slug}/members/general`});const e=await Dt.Z.getTeamInvitations(this.team.id);this.invitations=e.invitations,this.invitationCount=e.count}this.loading=!1}}},_I=(0,f.Z)(II,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-loading"),l=(0,n.up)("ff-list-item"),c=(0,n.up)("ff-data-table");return(0,n.wg)(),(0,n.iD)("div",null,[s.loading?((0,n.wg)(),(0,n.j4)(r,{key:0,message:"Loading Invitations..."})):((0,n.wg)(),(0,n.iD)("form",CI,[EI,(0,n.Wm)(c,{"data-el":"invites-table",columns:s.inviteColumns,rows:s.invitations},{"context-menu":(0,n.w5)((({row:e})=>[(0,n.Wm)(l,{"data-action":"remove-invite",label:"Remove Invite",kind:"danger",onClick:t=>o.removeInvite(e)},null,8,["onClick"])])),_:1},8,["columns","rows"])]))])}]]);const UI={class:""},VI={class:"flex-grow"};var jI={name:"TeamUsers",props:["team","teamMembership"],mixins:[Pd],computed:{...(0,o.rn)("account",["user"])},components:{SectionTopMenu:Wa},data:function(){return{sideNavigation:[],inviteCount:0}},watch:{teamMembership:"checkAccess"},mounted(){this.checkAccess()},methods:{checkAccess:async function(){if(this.sideNavigation=[{name:"Team Members",path:"./general"}],this.hasPermission("team:user:invite")){const e=await Dt.Z.getTeamInvitations(this.team.id);this.inviteCount=e.count,this.sideNavigation.push({name:`Invitations (${e.count})`,path:"./invitations"})}}}},PI=(0,f.Z)(jI,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",UI,[(0,n.Wm)(r,{hero:"Members",options:e.sideNavigation},null,8,["options"]),(0,n._)("div",VI,[(0,n.Wm)(l,{team:a.team,teamMembership:a.teamMembership,inviteCount:e.inviteCount,onInvitesUpdated:t[0]||(t[0]=e=>o.checkAccess())},null,8,["team","teamMembership","inviteCount"])])])}]]);const ZI={class:"space-y-6"},MI={class:"max-w-sm pr-2"},BI={class:"mt-2"},FI={class:"space-y-6"},WI=(0,n._)("p",null," Are you sure you want to delete this team? Once deleted, there is no going back. ",-1),NI={class:"block"};var RI={name:"ConfirmTeamDeleteDialog",components:{FormRow:Ae.Z},data(){return{input:{teamName:""},formValid:!1,team:null}},watch:{"input.teamName":function(){this.formValid=this.team?.name===this.input.teamName}},methods:{confirm(){this.$emit("delete-team"),Ee.Z.emit("Team successfully deleted","confirmation")}},setup(){return{show(e){this.team=e,this.$refs.dialog.show()}}}},LI=(0,f.Z)(RI,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),c=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(c,{ref:"dialog","data-el":"delete-team-dialog",header:"Delete Team",kind:"danger","confirm-label":"Delete",onConfirm:t[2]||(t[2]=e=>o.confirm()),"disable-primary":!s.formValid},{default:(0,n.w5)((()=>[s.team?((0,n.wg)(),(0,n.iD)("form",{key:0,class:"space-y-6",onSubmit:t[1]||(t[1]=(0,Oe.withModifiers)((()=>{}),["prevent"]))},[(0,n._)("div",FI,[WI,(0,n._)("p",null,[(0,n.Uk)(" Enter the team name "),(0,n._)("code",NI,(0,l.toDisplayString)(s.team.name),1),(0,n.Uk)(" to continue. ")])]),(0,n.Wm)(r,{modelValue:s.input.teamName,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.teamName=e),id:"projectName","data-form":"team-name"},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),_:1},8,["modelValue"])],32)):(0,n.kq)("v-if",!0)])),_:1},8,["disable-primary"])}]]),qI={name:"TeamSettingsDanger",props:["team"],data(){return{applicationCount:-1}},computed:{deleteActive(){return 0===this.applicationCount},deleteDescription(){return this.applicationCount>0?"You cannot delete a team that still owns applications.":"Deleting the team cannot be undone. Take care."}},watch:{team:"fetchData"},mounted(){this.fetchData()},methods:{showConfirmDeleteDialog(){this.$refs.confirmTeamDeleteDialog.show(this.team)},deleteTeam(){Dt.Z.deleteTeam(this.team.id).then((()=>{this.$store.dispatch("account/checkState","/")})).catch((e=>{console.warn(e)}))},async fetchData(){if(this.team.id){const e=await Dt.Z.getTeamApplications(this.team.id);this.applicationCount=e.count}}},components:{FormHeading:Pe.Z,ConfirmTeamDeleteDialog:LI}},HI=(0,f.Z)(qI,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormHeading"),c=(0,n.up)("ff-button"),d=(0,n.up)("ConfirmTeamDeleteDialog");return(0,n.wg)(),(0,n.iD)("div",ZI,[(0,n.Wm)(r,{class:"text-red-700"},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete Team")])),_:1}),(0,n._)("div",null,[(0,n._)("div",MI,(0,l.toDisplayString)(o.deleteDescription),1),(0,n._)("div",BI,[(0,n.Wm)(c,{kind:"danger","data-action":"delete-team",disabled:!o.deleteActive,onClick:t[0]||(t[0]=e=>o.showConfirmDeleteDialog())},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete Team")])),_:1},8,["disabled"]),(0,n.Wm)(d,{onDeleteTeam:o.deleteTeam,ref:"confirmTeamDeleteDialog"},null,8,["onDeleteTeam"])])])])}]]);const OI=(0,n._)("p",null,"FlowForge can be used to manage instances of Node-RED running on remote devices.",-1),GI=(0,n._)("p",null,[(0,n.Uk)("Each device must run the "),(0,n._)("a",{href:"https://flowforge.com/docs/user/devices/",target:"_blank"},"FlowForge Device Agent"),(0,n.Uk)(", which connects back to the platform to receive updates.")],-1),YI=(0,n._)("p",null,"Provisioning tokens can be created to allow devices to automatically connect to a team, application and instance without having to register them first.",-1),zI={class:"space-y-6"},KI=(0,n._)("div",{class:"ff-no-data ff-no-data-large"}," You don't have any tokens yet ",-1),XI=(0,n._)("p",null,[(0,n.Uk)("This will generate a "),(0,n._)("code",null,"device.yml"),(0,n.Uk)(" to move to your device, that will auto register with this team.")],-1),$I={class:"space-y-6 mt-2 mb-2"};var QI={name:"CreateProvisioningTokenDialog",components:{FormRow:Ae.Z},props:["team"],emits:["token-updated","token-creating","token-created"],data(){return{token:null,instances:[],input:{name:"",instance:"",expiryAt:null},errors:{}}},computed:{editMode(){return!!this.token},formValid(){const e=this.input.name.trim();return e.length>0&&e.length<80&&/^[a-z0-9-_ ]+$/i.test(e)}},async mounted(){},methods:{confirm(){const e={name:this.input.name.trim(),instance:this.input.instance,team:this.team.id,expiryAt:this.input.expiryAt};this.editMode?Dt.Z.updateTeamDeviceProvisioningToken(this.team.id,this.token.id,e).then((e=>{this.$emit("token-updated",e),Ee.Z.emit("Device successfully updated.","confirmation")})).catch((e=>{this.$emit("token-updated",null),console.error(e.response.data),e.response.data&&(/expiryAt/.test(e.response.data.error)?this.errors.expiryAt=e.response.data.error:/instance/.test(e.response.data.error)?this.errors.instance=e.response.data.error:Ee.Z.emit("Failed to update provisioning token: "+e.response.data.error,"warning",7500))})):(this.$emit("token-creating"),Dt.Z.generateTeamDeviceProvisioningToken(e.team,e).then((e=>{this.$emit("token-created",e),Ee.Z.emit("Provisioning Token successfully created.","confirmation")})).catch((e=>{this.$emit("token-created",null),console.error(e.response.data),e.response.data&&(/expiryAt/.test(e.response.data.error)?this.errors.expiryAt=e.response.data.error:/instance/.test(e.response.data.error)&&(this.errors.instance=e.response.data.error),/name/.test(e.response.data.error)?this.errors.name=e.response.data.error:Ee.Z.emit("Failed to create provisioning token: "+e.response.data.error,"warning",7500))})))}},setup(){return{async show(e){this.errors={},this.input.name="",this.input.instance="",this.token=null,e&&(this.token=e,this.input.name=e.name,this.input.instance=e.instance);const t=await Dt.Z.getTeamInstancesList(this.team.id);this.instances=t?.map((e=>({value:e.id,label:e.name})))||[],this.instances.unshift({value:"",label:"None"}),this.$refs.dialog.show()}}}},JI=(0,f.Z)(QI,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),l=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(l,{ref:"dialog",header:o.editMode?"Update Provisioning Token":"Create Provisioning Token","confirm-label":o.editMode?"Update":"Create",onConfirm:t[2]||(t[2]=e=>o.confirm()),"disable-primary":!o.formValid},{default:(0,n.w5)((()=>[XI,(0,n._)("form",$I,[(0,n.Wm)(r,{"data-form":"token-name",modelValue:s.input.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.name=e),error:s.errors.name,disabled:o.editMode},{default:(0,n.w5)((()=>[(0,n.Uk)("Token Name")])),_:1},8,["modelValue","error","disabled"]),(0,n.Wm)(r,{options:s.instances,modelValue:s.input.instance,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.instance=e)},{default:(0,n.w5)((()=>[(0,n.Uk)("Auto assign instance (optional)")])),_:1},8,["options","modelValue"])])])),_:1},8,["header","confirm-label","disable-primary"])}]]);const e_={class:"space-y-6 mt-2"},t_=(0,n._)("p",{class:"text-sm text-gray-500"}," To auto provision your devices on the platform, use the following configuration. Make a note of it as this is the only time you will see it. ",-1),a_={class:"overflow-auto text-sm p-4 border rounded bg-gray-800 text-gray-200"};var i_={name:"ProvisioningCredentialsDialog",components:{DocumentDownloadIcon:sm.Z},mixins:[BA],props:["team"],data(){return{token:null}},methods:{downloadCredentials(){const e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(this.credentials)),e.setAttribute("download","device.yml"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},close(){this.$refs.dialog.close(),this.token=void 0},copy(){this.copyToClipboard(this.credentials).then((()=>{Ee.Z.emit("Copied to Clipboard.","confirmation")})).catch((e=>{console.warn("Clipboard write permission denied: ",e),Ee.Z.emit("Clipboard write permission denied.","warning")}))}},computed:{...(0,o.rn)("account",["settings"]),hasCredentials:function(){return!!this.token?.token},credentials:function(){const e=["### PROVISIONING TOKEN ###"];return this.token&&(this.token.name&&e.push(`provisioningName: ${this.token.name}`),e.push(`provisioningTeam: ${this.token.team}`),e.push(`provisioningToken: ${this.token.token}`)),e.push(`forgeURL: ${this.settings.base_url}`),e.join("\n")}},setup(){return{show(e){this.token=e,this.$refs.dialog.show()}}}},n_=(0,f.Z)(i_,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("ff-button"),c=(0,n.up)("DocumentDownloadIcon"),d=(0,n.up)("ff-dialog");return(0,n.wg)(),(0,n.j4)(d,{ref:"dialog",header:"Device Provisioning Configuration"},{default:(0,n.w5)((()=>[(0,n._)("form",e_,[t_,(0,n._)("pre",a_,(0,l.toDisplayString)(e.configuration),1)])])),actions:(0,n.w5)((()=>[e.clipboardSupported?((0,n.wg)(),(0,n.j4)(r,{key:0,kind:"secondary",onClick:t[0]||(t[0]=e=>o.copy())},{default:(0,n.w5)((()=>[(0,n.Uk)("Copy to Clipboard")])),_:1})):(0,n.kq)("v-if",!0),(0,n.Wm)(r,{kind:"secondary",onClick:t[1]||(t[1]=e=>o.downloadCredentials())},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(c)])),default:(0,n.w5)((()=>[(0,n.Uk)("Download device.yml")])),_:1}),(0,n.Wm)(r,{class:"ml-4",onClick:t[2]||(t[2]=e=>o.close())},{default:(0,n.w5)((()=>[(0,n.Uk)("Done")])),_:1})])),_:1},512)}]]);const s_={template:'<span><span v-if="name">{{name}}</span><span v-else class="italic text-gray-500">unnamed</span></span>',props:["name"],components:{KeyIcon:ui.Z}},o_={template:'\n        <template v-if="instance">\n            <router-link :to="{ name: \'Instance\', params: { id: instance }}">{{instanceName}}</router-link>\n        </template>\n        <template v-else><span class="italic text-gray-500">Don\'t assign</span></template>',props:["instance","instanceName"]};var r_={name:"TeamDeviceProvisioningTokens",mixins:[Pd],data(){return{loading:!0,creatingDevice:!1,deletingItem:!1,tokens:new Map,checkInterval:null,nextCursor:null,instanceNames:[]}},watch:{team:"fetchData"},async mounted(){await this.fetchData(),this.loading=!1,this.checkInterval=setTimeout(this.pollForData,1e4)},unmounted(){clearInterval(this.checkInterval)},methods:{async pollForData(){try{await this.fetchData(null,!0)}finally{this.checkInterval=setTimeout(this.pollForData,1e4)}},async fetchData(e=null,t=!1){this.instanceNames=await Dt.Z.getTeamInstancesList(this.team.id);const a=await Dt.Z.getTeamDeviceProvisioningTokens(this.team.id,e);e||t||(this.tokens=new Map),a.tokens.forEach((e=>{this.updateTokenCache(e)})),t||(this.nextCursor=a.meta.next_cursor)},getInstanceName(e){const t=this.instanceNames?.find((t=>t.id===e));return t?t.name:e},async loadMore(){await this.fetchData(this.nextCursor)},showCreateTokenDialog(){this.$refs.CreateProvisioningTokenDialog.show(null,this.instance)},showEditDialog(e){this.$refs.CreateProvisioningTokenDialog.show(e)},tokenCreating(){this.creatingDevice=!0},async tokenCreated(e){this.creatingDevice=!1,e&&(setTimeout((()=>{this.$refs.provisioningCredentialsDialog.show(e)}),500),this.updateTokenCache(e))},tokenUpdated(e){this.updateTokenCache(e)},updateTokenCache(e){e.instanceName=this.getInstanceName(e.instance),this.tokens.set(e.id,e)},menuAction(e,t){const a=this.tokens.get(t);"edit"===e?this.showEditDialog(a):"delete"===e?Xe.Z.show({header:"Delete Provisioning Token",kind:"danger",text:"Are you sure you want to delete this provisioning token? Once deleted, it can no longer be used to provision new devices to the team.",confirmLabel:"Delete"},(async()=>{this.deletingItem=!0;try{await Dt.Z.deleteTeamDeviceProvisioningToken(this.team.id,a.id),Ee.Z.emit("Successfully deleted the token","confirmation"),this.tokens.delete(a.id)}catch(e){Ee.Z.emit("Failed to delete token: "+e.toString(),"warning",7500)}finally{this.deletingItem=!1}})):"updateCredentials"===e&&this.$refs.provisioningCredentialsDialog.show(a)}},computed:{addEnabled:function(){return this.hasPermission("team:device:provisioning-token:create")},editEnabled:function(){return this.hasPermission("team:device:provisioning-token:edit")},deleteEnabled:function(){return this.hasPermission("team:device:provisioning-token:delete")},columns:function(){return[{label:"Token Name",class:["w-64"],key:"name",sortable:!0,component:{is:(0,et.Xl)(s_)}},{label:"Auto Assign Instance",class:["w-64"],key:"instance",sortable:!0,component:{is:(0,et.Xl)(o_)}},{label:"Target Snapshot",class:["w-64"],key:"targetSnapshot",sortable:!0}]}},props:{team:{required:!0},teamMembership:{required:!0}},components:{CreateProvisioningTokenDialog:JI,ProvisioningCredentialsDialog:n_,SectionTopMenu:Wa,PlusSmIcon:Ct.Z}},l_=(0,f.Z)(r_,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionTopMenu"),l=(0,n.up)("ff-loading"),c=(0,n.up)("PlusSmIcon"),d=(0,n.up)("ff-button"),p=(0,n.up)("ff-list-item"),u=(0,n.up)("ff-data-table"),m=(0,n.up)("CreateProvisioningTokenDialog"),h=(0,n.up)("ProvisioningCredentialsDialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{hero:"Device Provisioning","help-header":"Device Provisioning Tokens",info:"A list of device provisioning tokens that can be used to auto register devices to a team."},{helptext:(0,n.w5)((()=>[OI,GI,YI])),_:1}),(0,n._)("div",zI,[s.loading?((0,n.wg)(),(0,n.j4)(l,{key:0,message:"Loading Tokens..."})):s.creatingDevice?((0,n.wg)(),(0,n.j4)(l,{key:1,message:"Creating Token..."})):s.deletingItem?((0,n.wg)(),(0,n.j4)(l,{key:2,message:"Deleting Token..."})):((0,n.wg)(),(0,n.j4)(u,{key:3,"data-el":"provisioning-tokens",columns:o.columns,rows:Array.from(s.tokens?.values()),"show-search":!0,"search-placeholder":"Search Tokens...","show-load-more":!!s.nextCursor,onLoadMore:o.loadMore},(0,n.Nv)({actions:(0,n.w5)((()=>[o.addEnabled?((0,n.wg)(),(0,n.j4)(d,{key:0,class:"font-normal","data-action":"add-provisioning-token",kind:"primary",onClick:o.showCreateTokenDialog},{"icon-left":(0,n.w5)((()=>[(0,n.Wm)(c)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Add Token ")])),_:1},8,["onClick"])):(0,n.kq)("v-if",!0)])),_:2},[o.editEnabled||o.deleteEnabled?{name:"context-menu",fn:(0,n.w5)((({row:e})=>[(0,n.Wm)(p,{disabled:!o.editEnabled,label:"Edit Details",onClick:t=>o.menuAction("edit",e.id)},null,8,["disabled","onClick"]),(0,n.Wm)(p,{disabled:!o.deleteEnabled,kind:"danger",label:"Delete Token",onClick:t=>o.menuAction("delete",e.id)},null,8,["disabled","onClick"])])),key:"0"}:void 0,0===s.tokens.size?{name:"table",fn:(0,n.w5)((()=>[KI])),key:"1"}:void 0]),1032,["columns","rows","show-load-more","onLoadMore"]))]),(0,n.Wm)(m,{team:a.team,onTokenCreating:o.tokenCreating,onTokenCreated:o.tokenCreated,onTokenUpdated:o.tokenUpdated,ref:"CreateProvisioningTokenDialog"},null,8,["team","onTokenCreating","onTokenCreated","onTokenUpdated"]),(0,n.Wm)(h,{team:a.team,ref:"provisioningCredentialsDialog"},null,8,["team"])],64)}]]);const c_={class:"space-y-6"},d_={key:0},p_={key:0},u_={key:0},m_=(0,n._)("span",{class:"text-red-700"},"Warning:",-1),h_=(0,n._)("br",null,null,-1),g_=(0,n._)("br",null,null,-1),f_=(0,n._)("pre",null,"/team/<slug>",-1),v_={class:"space-x-4 whitespace-nowrap"},y_={key:1,class:"flex gap-x-3"};var k_={name:"TeamSettingsGeneral",props:["team"],data(){return{errors:{teamName:"",slug:""},editing:!1,input:{slug:"",teamName:"",teamType:""},pendingSlugCheck:null}},watch:{team:"fetchData","input.slug":function(e){e?/^[a-z0-9-_]+$/i.test(e)?(this.checkSlug(),this.errors.slug=""):this.errors.slug="Must only contain a-z 0-9 - _":this.errors.slug="Must not be blank"},"input.teamName":function(e){e&&/:\/\//.test(e)?this.errors.teamName="Team name can not contain URL":this.errors.teamName=""}},computed:{formValid(){return this.input.teamName&&!this.pendingSlugCheck&&!this.errors.slug&&!this.errors.teamName},teamId(){return this.team.id},slugValid(){return/^[a-z0-9-_]+$/i.test(this.input.slug)}},mounted(){this.fetchData()},methods:{editName(){this.editing=!0,this.$refs["name-row"].focus()},async saveEditName(){let e=!1;const t={};this.input.teamName!==this.team.name&&(t.name=this.input.teamName,e=!0),this.input.slug!==this.team.slug&&(t.slug=this.input.slug,e=!0),e?Dt.Z.updateTeam(this.team.id,t).then((async e=>{this.editing=!1,await this.$store.dispatch("account/refreshTeams"),await this.$store.dispatch("account/refreshTeam"),Ee.Z.emit("Team Settings updated.","confirmation")})).catch((e=>{e.response.data&&/slug/.test(e.response.data.error)&&(this.errors.slug="Slug already in use")})):this.cancelEditName()},cancelEditName(){this.editing=!1,this.input.teamName=this.team.name,this.input.slug=this.team.slug,this.input.teamType=this.team.type.name},async fetchData(){this.cancelEditName()},checkSlug(){this.pendingSlugCheck&&clearTimeout(this.pendingSlugCheck),this.pendingSlugCheck=setTimeout((()=>{this.pendingSlugCheck=null,this.input.slug&&this.slugValid&&this.input.slug!==this.team.slug&&Sd(this.input.slug).then((()=>{this.slugValid&&(this.errors.slug="")})).catch((e=>{this.slugValid&&(this.errors.slug="Slug unavailable")}))}),200)}},components:{FormRow:Ae.Z}},b_=(0,f.Z)(k_,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("FormRow"),l=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)("form",c_,[(0,n.Wm)(r,{modelValue:o.teamId,"onUpdate:modelValue":t[0]||(t[0]=e=>o.teamId=e),type:"uneditable",id:"teamId",ref:"id-row"},{default:(0,n.w5)((()=>[(0,n.Uk)("Team ID")])),_:1},8,["modelValue"]),(0,n.Wm)(r,{modelValue:s.input.teamName,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.teamName=e),type:s.editing?"text":"uneditable",error:s.errors.teamName,id:"teamName",ref:"name-row"},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),description:(0,n.w5)((()=>[s.editing?((0,n.wg)(),(0,n.iD)("div",d_,"eg. 'Development'")):(0,n.kq)("v-if",!0)])),_:1},8,["modelValue","type","error"]),(0,n.Wm)(r,{modelValue:s.input.teamType,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.teamType=e),type:"uneditable"},{default:(0,n.w5)((()=>[(0,n.Uk)("Type")])),description:(0,n.w5)((()=>[s.editing?((0,n.wg)(),(0,n.iD)("div",p_,"You cannot currently change the type of team")):(0,n.kq)("v-if",!0)])),_:1},8,["modelValue"]),(0,n.Wm)(r,{modelValue:s.input.slug,"onUpdate:modelValue":t[3]||(t[3]=e=>s.input.slug=e),type:s.editing?"text":"uneditable",error:s.errors.slug,id:"teamSlug"},{default:(0,n.w5)((()=>[(0,n.Uk)("Slug")])),description:(0,n.w5)((()=>[s.editing?((0,n.wg)(),(0,n.iD)("div",u_,[m_,(0,n.Uk)(" Changing this will modify all urls used to access the team. The platform will not redirect requests to the old url. "),h_,g_,f_])):(0,n.kq)("v-if",!0)])),_:1},8,["modelValue","type","error"]),(0,n._)("div",v_,[s.editing?((0,n.wg)(),(0,n.iD)("div",y_,[(0,n.Wm)(l,{kind:"secondary",onClick:o.cancelEditName},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"]),(0,n.Wm)(l,{kind:"primary",disabled:!o.formValid,onClick:o.saveEditName},{default:(0,n.w5)((()=>[(0,n.Uk)("Save team settings")])),_:1},8,["disabled","onClick"])])):((0,n.wg)(),(0,n.j4)(l,{key:0,kind:"primary",onClick:o.editName},{default:(0,n.w5)((()=>[(0,n.Uk)("Edit team settings")])),_:1},8,["onClick"]))])])}]]);const w_={class:"flex flex-col sm:flex-row"},x_={class:"flex-grow pt-4"};var A_={name:"TeamSettings",props:["team","teamMembership"],mixins:[Pd],components:{SectionSideMenu:Re},computed:{...(0,o.rn)("account",["features"])},data:function(){return{sideOptions:[{name:"General",path:"./general"},{name:"Devices",path:"./devices"},{name:"Danger",path:"./danger"}]}},watch:{teamMembership:"checkAccess"},mounted(){this.checkAccess()},methods:{checkAccess:async function(){this.hasPermission("team:edit")||(0,i.tv)().push({path:`/team/${this.team.slug}/overview`})}}},D_=(0,f.Z)(A_,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SectionSideMenu"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",w_,[(0,n.Wm)(r,{options:e.sideOptions},null,8,["options"]),(0,n._)("div",x_,[(0,n.Wm)(l,{team:a.team,teamMembership:a.teamMembership},null,8,["team","teamMembership"])])])}]]);const S_={key:2,class:"max-w-2xl m-auto"},T_={class:"space-y-6"},C_=(0,n._)("div",{class:"mb-8 text-sm text-gray-500"},"Teams are how you organize who collaborates on your projects.",-1),E_={class:"flex flex-wrap gap-1 items-stretch"},I_=(0,n._)("br",null,null,-1),__=(0,n._)("pre",null,"/team/<slug>",-1),U_=(0,n._)("div",{class:"mb-8 text-sm text-gray-500 space-y-2"},[(0,n._)("p",null,"To create the team we need to setup payment details via Stripe, our secure payment provider.")],-1);var V_={name:"CreateTeam",data(){return{mounted:!1,loading:!1,redirecting:!1,teamTypes:[],icons:{chevronLeft:sa.Z},input:{teamTypeId:"",teamType:null,name:"",slug:"",defaultSlug:"",slugError:""},needsBilling:!1,newTeam:null,errors:{},pendingSlugCheck:null}},watch:{"input.name":function(e){e&&/:\/\//.test(e)?this.errors.name="Team name can not contain URL":this.errors.name="",this.input.slug=this.input.name.trim().toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-_]/gi,"")},"input.slug":function(e){e?this.slugValid?(this.checkSlug(),this.input.slugError=""):this.input.slugError="Must only contain a-z 0-9 - _":this.input.slugError="Must not be blank"},"input.teamTypeId":function(e){this.input.teamType=e?this.teamTypes.find((t=>t.id===e)):null}},computed:{...(0,o.rn)("account",["user","team","features"]),formValid(){return this.input.teamTypeId&&this.input.name&&this.input.slug&&!this.pendingSlugCheck&&!this.input.slugError&&!this.errors.name},billingEnabled(){return this.features.billing},slugValid(){return/^[a-z0-9-_]+$/i.test(this.input.slug)}},async created(){const e=await ql();this.teamTypes=(await e).types,this.input.teamTypeId=this.teamTypes[0].id},mounted(){this.mounted=!0},methods:{createTeam(){this.loading=!0;const e={name:this.input.name,slug:this.input.slug||this.input.defaultSlug,type:this.input.teamTypeId};Dt.Z.create(e).then((async e=>{await this.$store.dispatch("account/refreshTeams"),await this.$store.dispatch("account/setTeam",e),e.billingURL?(this.redirecting=!0,window.open(e.billingURL,"_self")):this.$router.push({name:"Team",params:{team_slug:e.slug}})})).catch((e=>{e.response.data&&/slug/.test(e.response.data.error)&&(this.input.slugError="Slug already in use")})).finally((()=>{this.loading=!1}))},checkSlug(){this.pendingSlugCheck&&clearTimeout(this.pendingSlugCheck),this.pendingSlugCheck=setTimeout((()=>{this.pendingSlugCheck=null,this.input.slug&&this.slugValid&&Sd(this.input.slug).then((()=>{this.slugValid&&(this.input.slugError="")})).catch((e=>{this.slugValid&&(this.input.slugError="Slug unavailable")}))}),200)}},components:{FormRow:Ae.Z,FormHeading:Pe.Z,SideNavigation:pa,NavItem:oa.Z,ExternalLinkIcon:lf.Z}},j_=(0,f.Z)(V_,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("nav-item"),l=(0,n.up)("router-link"),c=(0,n.up)("SideNavigation"),d=(0,n.up)("ff-loading"),p=(0,n.up)("FormHeading"),u=(0,n.up)("ff-tile-selection-option"),m=(0,n.up)("ff-tile-selection"),h=(0,n.up)("FormRow"),g=(0,n.up)("ExternalLinkIcon"),f=(0,n.up)("ff-button");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-sidenav"},[e.team?((0,n.wg)(),(0,n.j4)(c,{key:0},{back:(0,n.w5)((()=>[(0,n.Wm)(l,{to:{name:"Home"}},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:s.icons.chevronLeft,label:"Back to Dashboard"},null,8,["icon"])])),_:1})])),_:1})):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0),(0,n._)("main",null,[s.redirecting?((0,n.wg)(),(0,n.j4)(d,{key:0,message:"Redirecting to Stripe..."})):s.loading?((0,n.wg)(),(0,n.j4)(d,{key:1,message:"Creating Team..."})):((0,n.wg)(),(0,n.iD)("div",S_,[(0,n._)("form",T_,[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Create a new team")])),_:1}),C_,(0,n.kq)(" TeamType Type "),(0,n._)("div",E_,[(0,n.Wm)(m,{modelValue:s.input.teamTypeId,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.teamTypeId=e)},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.teamTypes,((e,t)=>((0,n.wg)(),(0,n.j4)(u,{key:t,label:e.name,description:e.description,price:o.billingEnabled?e.billingPrice:"","price-interval":o.billingEnabled?e.billingInterval:"",value:e.id},null,8,["label","description","price","price-interval","value"])))),128))])),_:1},8,["modelValue"])]),(0,n.Wm)(h,{modelValue:s.input.name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.name=e),id:"team",error:s.errors.name},{description:(0,n.w5)((()=>[(0,n.Uk)(" eg. 'Development' ")])),default:(0,n.w5)((()=>[(0,n.Uk)("Team Name ")])),_:1},8,["modelValue","error"]),(0,n.Wm)(h,{modelValue:s.input.slug,"onUpdate:modelValue":t[2]||(t[2]=e=>s.input.slug=e),id:"team",error:s.input.slugError,placeholder:s.input.defaultSlug},{description:(0,n.w5)((()=>[(0,n.Uk)(" Use the default slug based on the team name or set your own."),I_,__])),default:(0,n.w5)((()=>[(0,n.Uk)("URL Slug ")])),_:1},8,["modelValue","error","placeholder"]),o.billingEnabled?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[U_,(0,n.Wm)(f,{disabled:!o.formValid,onClick:t[3]||(t[3]=e=>o.createTeam())},{"icon-right":(0,n.w5)((()=>[(0,n.Wm)(g)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Create team and setup payment details ")])),_:1},8,["disabled"])],64)):((0,n.wg)(),(0,n.j4)(f,{key:1,disabled:!o.formValid,onClick:t[4]||(t[4]=e=>o.createTeam())},{default:(0,n.w5)((()=>[(0,n.Uk)(" Create team ")])),_:1},8,["disabled"]))])]))])],64)}]]);const P_={class:"max-w-2xl m-auto"};var Z_={name:"CreateApplication",components:{InstanceForm:Ny,NavItem:oa.Z,SideNavigation:pa,TeamTrialBanner:Pk},data(){return{icons:{chevronLeft:sa.Z},loading:!1,mounted:!1,errors:{name:""},projectDetails:null,application:{}}},computed:{...(0,o.rn)("account",["features","team"]),applicationCreated(){return!!this.application?.id},applications(){return this.applicationCreated?[{label:this.application.name,value:this.application.id}]:[]}},async mounted(){this.mounted=!0},methods:{async handleFormSubmit(e,t){this.loading=!0;const{applicationName:a,...i}=e,n={name:a};try{this.applicationCreated||(this.application=await this.createApplication(n))}catch(e){return e.response.data?.error?Ee.Z.emit("Failed to create application: "+e.response.data.error,"warning",7500):(Ee.Z.emit("Failed to create application","warning",7500),console.error(e)),void(this.loading=!1)}try{const e=await this.createProject(i,t);await this.$store.dispatch("account/refreshTeam"),this.$router.push({name:"Instance",params:{id:e.id}})}catch(e){this.projectDetails=i,409===e.response?.status?this.errors.name=e.response.data.error:400===e.response?.status?Ee.Z.emit("Failed to create instance: "+e.response.data.error,"warning",7500):(Ee.Z.emit("Failed to create instance"),console.error(e)),this.loading=!1}},createApplication(e){return(e=>ba.Z.post("/api/v1/applications",e).then((t=>{const a={"application-name":e.name,"created-at":t.data.createdAt};return Uh.Z.capture("$ff-application-created",a,{team:e.teamId,application:t.data.id}),Uh.Z.groupUpdate("application",t.data.id,a),t.data})))({...e,teamId:this.team.id})},createProject(e,t){const a={...e,applicationId:this.application.id};return Vh(a)}}},M_=(0,f.Z)(Z_,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("nav-item"),l=(0,n.up)("SideNavigation"),c=(0,n.up)("TeamTrialBanner"),d=(0,n.up)("ff-loading"),p=(0,n.up)("InstanceForm");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-sidenav"},[(0,n.Wm)(l,null,{options:(0,n.w5)((()=>[(0,n._)("a",{onClick:t[0]||(t[0]=t=>e.$router.back())},[(0,n.Wm)(r,{icon:s.icons.chevronLeft,label:"Back"},null,8,["icon"])])])),_:1})])):(0,n.kq)("v-if",!0),s.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:1,to:"#platform-banner"},[e.team.billing?.trial?((0,n.wg)(),(0,n.j4)(c,{key:0,team:e.team},null,8,["team"])):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0),(0,n._)("main",null,[(0,n._)("div",P_,[s.loading?((0,n.wg)(),(0,n.j4)(d,{key:0,message:"Creating Application..."})):((0,n.wg)(),(0,n.j4)(p,{key:1,instance:s.projectDetails,applications:o.applications,applicationSelection:o.applicationCreated,team:e.team,applicationFieldsLocked:o.applicationCreated,applicationFieldsVisible:!0,"billing-enabled":!!e.features.billing,"submit-errors":s.errors,onOnSubmit:o.handleFormSubmit},null,8,["instance","applications","applicationSelection","team","applicationFieldsLocked","billing-enabled","submit-errors","onOnSubmit"]))])])],64)}]]);const B_={class:"max-w-2xl m-auto"};var F_={name:"CreateInstance",components:{InstanceForm:Ny,NavItem:oa.Z,SideNavigation:pa},beforeRouteEnter(e,t,a){"CreateTeamApplication"===t.name?a("/"):a()},inheritAttrs:!1,data(){return{applications:null,icons:{chevronLeft:sa.Z},loading:!1,sourceInstance:null,mounted:!1,errors:{name:""},instanceDetails:null}},computed:{...(0,o.rn)("account",["features","team"])},async created(){this.sourceInstanceId&&jh(this.sourceInstanceId).then((e=>{this.sourceInstance=e})).catch((e=>{console.error("Failed to load source instance",e)}));const e=await Dt.Z.getTeamApplications(this.team.id);this.applications=e.applications.map((e=>({label:e.name,value:e.id}))),this.applications.length||this.$router.push({name:"CreateTeamApplication",params:{team_slug:this.team.slug}})},async mounted(){this.mounted=!0},methods:{async handleFormSubmit(e,t){this.loading=!0;const{applicationId:a,applicationName:i,...n}=e;try{const e=await this.createInstance(a,n,t);await this.$store.dispatch("account/refreshTeam"),this.$router.push({name:"Instance",params:{id:e.id}})}catch(e){this.instanceDetails=n,409===e.response?.status?this.errors.name=e.response.data.error:400===e.response?.status?Ee.Z.emit("Failed to create instance: "+e.response.data.error,"warning",7500):(Ee.Z.emit("Failed to create instance"),console.error(e))}this.loading=!1},createInstance(e,t,a){const i={...t,applicationId:e};return this.sourceInstance?.id&&(i.sourceProject={id:this.sourceInstanceId,options:{...a}}),Vh(i)}}},W_=(0,f.Z)(F_,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("nav-item"),l=(0,n.up)("SideNavigation"),c=(0,n.up)("ff-loading"),d=(0,n.up)("InstanceForm");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-sidenav"},[(0,n.Wm)(l,null,{options:(0,n.w5)((()=>[(0,n._)("a",{onClick:t[0]||(t[0]=t=>e.$router.back())},[(0,n.Wm)(r,{icon:s.icons.chevronLeft,label:"Back"},null,8,["icon"])])])),_:1})])):(0,n.kq)("v-if",!0),(0,n._)("main",null,[(0,n._)("div",B_,[s.loading?((0,n.wg)(),(0,n.j4)(c,{key:0,message:"Creating instance..."})):e.sourceInstanceId&&!s.sourceInstance?((0,n.wg)(),(0,n.j4)(c,{key:1,message:"Loading instance to Copy From..."})):((0,n.wg)(),(0,n.j4)(d,{key:2,instance:s.instanceDetails,"source-instance":s.sourceInstance,team:e.team,applicationSelection:!0,applications:s.applications,"billing-enabled":!!e.features.billing,"submit-errors":s.errors,onOnSubmit:o.handleFormSubmit},null,8,["instance","source-instance","team","applications","billing-enabled","submit-errors","onOnSubmit"]))])])],64)}]]);const N_={key:1},R_={key:0,class:"ff-banner","data-el":"banner-team-as-admin"},L_={key:2},q_=(0,n._)("img",{src:"data:image/png;base64,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"},null,-1),H_=(0,n._)("p",null,"You have a dashboard-only role in this team.",-1),O_=(0,n._)("p",null," This means you can access the pages created by the Node-RED instances in this team, but you cannot access their FlowForge settings. ",-1);var G_={name:"TeamPage",components:{EmptyState:nf,Loading:oE.Z,SideNavigationTeamOptions:wk,SubscriptionExpiredBanner:Tk,TeamTrialBanner:Pk},async beforeRouteUpdate(e,t,a){await this.$store.dispatch("account/setTeam",e.params.team_slug),await this.checkRoute(e),a()},data(){return{mounted:!1}},computed:{...(0,o.rn)("account",["user","team","teamMembership","pendingTeamChange","features"]),isVisitingAdmin:function(){return this.teamMembership.role===nh.Roles.Admin},isTrialEnded:function(){return!this.team.billing?.trialEndsAt||new Date(this.team.billing?.trialEndsAt)<Date.now()},canAccessTeam:function(){return this.teamMembership?.role>=nh.Roles.Viewer}},mounted(){this.mounted=!0},async beforeMount(){await this.$store.dispatch("account/setTeam",(0,i.yj)().params.team_slug),this.checkRoute(this.$route)},methods:{checkRoute:async function(e){-1===["/team/"+this.team.slug+"/billing","/team/"+this.team.slug+"/settings","/team/"+this.team.slug+"/settings/general","/team/"+this.team.slug+"/settings/danger"].indexOf(e.path)&&await this.checkBilling()},checkBilling:async function(){!this.features.billing||this.team.billing?.trial&&!this.team.billing?.trialEnded||this.team.billing?.active||this.$router.push({path:`/team/${this.team.slug}/billing`})}}};const Y_=[{navigationLink:!0,path:"/",name:"Home",component:k,icon:"HomeIcon",meta:{title:"Home"}},...ha,...Ex,...mC,...Gk,{path:"/team/create",name:"CreateTeam",beforeEnter:("team:create",function(e,t,a){let i,n;function s(){i&&i(),D.Z.state.account.user.admin||D.Z.state.account.settings["team:create"]?a():a("/")}function o(){n&&n(),D.Z.state.account.settings?s():i=D.Z.watch((e=>e.account.settings),(e=>{s()}))}D.Z.state.account.user?o():n=D.Z.watch((e=>e.account.user),(e=>{o()}))}),component:j_,meta:{title:"Create Team"}},{path:"/team/:team_slug",redirect:e=>`/team/${e.params.team_slug}/applications`,name:"Team",component:(0,f.Z)(G_,[["render",function(e,t,a,i,s,o){const r=(0,n.up)("SideNavigationTeamOptions"),l=(0,n.up)("Loading"),c=(0,n.up)("SubscriptionExpiredBanner"),d=(0,n.up)("TeamTrialBanner"),p=(0,n.up)("router-view"),u=(0,n.up)("EmptyState");return(0,n.wg)(),(0,n.iD)(n.HY,null,[o.canAccessTeam&&s.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-sidenav"},[(0,n.Wm)(r)])):(0,n.kq)("v-if",!0),(0,n._)("main",null,[e.pendingTeamChange?((0,n.wg)(),(0,n.j4)(l,{key:0})):o.canAccessTeam&&e.team?((0,n.wg)(),(0,n.iD)("div",N_,[s.mounted?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#platform-banner"},[o.isVisitingAdmin?((0,n.wg)(),(0,n.iD)("div",R_,"You are viewing this team as an Administrator")):(0,n.kq)("v-if",!0),(0,n.Wm)(c,{team:e.team},null,8,["team"]),e.team.billing?.trial?((0,n.wg)(),(0,n.j4)(d,{key:1,team:e.team},null,8,["team"])):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0),(0,n.Wm)(p,{team:e.team,teamMembership:e.teamMembership},null,8,["team","teamMembership"])])):o.canAccessTeam?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("div",L_,[(0,n.Wm)(u,null,{img:(0,n.w5)((()=>[q_])),header:(0,n.w5)((()=>[(0,n.Uk)("No Access")])),message:(0,n.w5)((()=>[H_,O_])),_:1})]))])],64)}]]),meta:{title:"Team - Overview"},children:[{path:"applications",name:"Applications",component:qC,meta:{title:"Team - Applications"}},{path:"instances",name:"Instances",component:_E,meta:{title:"Team - Instances"}},{name:"TeamDevices",path:"devices",component:bE,meta:{title:"Team - Devices"}},{name:"TeamLibrary",path:"library/:entryPath*",component:QE,meta:{title:"Team - Library"}},{path:"members",component:PI,meta:{title:"Team - Members"},redirect:e=>`/team/${e.params.team_slug}/members/general`,children:[{path:"general",component:TI},{path:"invitations",component:_I}]},{path:"audit-log",component:OC,meta:{title:"Team - Audit Log"}},{name:"TeamSettings",path:"settings",component:D_,meta:{title:"Team - Settings"},redirect:e=>`/team/${e.params.team_slug}/settings/general`,children:[{path:"general",component:b_},{path:"devices",name:"TeamSettingsDevices",component:l_},{path:"danger",component:HI}]},{path:"billing",component:uE,meta:{title:"Team - Billing"}},{path:"overview",redirect:e=>`/team/${e.params.team_slug}/applications`}]},{path:"/team/:team_slug/applications/create",name:"CreateTeamApplication",component:M_,meta:{title:"Team - Create Application"}},{path:"/team/:team_slug/instances/create",name:"CreateInstance",component:W_,meta:{title:"Team - Create Instance"}},...Ih,...Ix,{path:"/:pathMatch(.*)*",name:"PageNotFound",component:x}],z_=(0,i.p7)({history:(0,i.PO)(),routes:Y_});z_.beforeEach(((e,t,a)=>{window.posthog?.capture("$pageleave",{to:e.fullPath,$current_url:t.fullPath}),window.posthog?.capture("$pageview",{from:t.fullPath,$current_url:e.fullPath});const i=e.matched.slice().reverse().find((e=>e.meta&&e.meta.title)),n=e.matched.slice().reverse().find((e=>e.meta&&e.meta.metaTags)),s=t.matched.slice().reverse().find((e=>e.meta&&e.meta.metaTags));if(i?document.title=i.meta.title+" - FlowForge":s&&(document.title=s.meta.title+" - FlowForge"),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map((e=>e.parentNode.removeChild(e))),!n)return a();n.meta.metaTags.map((e=>{const t=document.createElement("meta");return Object.keys(e).forEach((a=>{t.setAttribute(a,e[a])})),t.setAttribute("data-vue-router-controlled",""),t})).forEach((e=>document.head.appendChild(e))),a()}));var K_=z_},8356:function(e,t){"use strict";const a=[];t.Z={subscribe:function(e){a.push(e)},emit:function(e,t,i){for(let n=0;n<a.length;n++)a[n](e,t,i)}}},3671:function(e,t){"use strict";let a;const i=[];t.Z={bind:function(e,t){a=e,i.push(t)},show:async function(e,t,n){for(let a=0;a<i.length;a++)i[a](e,t,n);a.show()},showAsync:function(e){return new Promise(((t,a)=>{this.show(e,(()=>{t("confirm")}),(()=>{t("cancel")}))}))}}},1307:function(e,t){"use strict";function a(e,t,a){t||(t={}),a&&(t.$groups=a),window.posthog?.capture(e,t)}t.Z={identify:function(e,t,a){window.posthog?.identify(e,t,a)},capture:a,groupUpdate:function(e,t,i){a("$groupidentify",{$group_type:e,$group_key:t,$group_set:i})}}},1070:function(e,t,a){"use strict";var i=a(9097),n=a.n(i),s=a(9963),o=(a(3166),a(6252));const r={class:"min-h-screen flex flex-col"};var l=a(2262),c=a(9300),d=a(1357);const p={class:"w-full px-3 py-5 lg:flex justify-center items-center"},u=[(0,o._)("div",null,[(0,o._)("div",{class:"flex flex-col md:flex-row text-xs md:text-sm mx-auto text-gray-100 items-center justify-center"},[(0,o._)("span",{class:"font-bold"},"FLOW"),(0,o._)("span",{class:"font-light"},"FORGE")])],-1)];var m={name:"PageFooter"},h=a(3744),g=(0,h.Z)(m,[["render",function(e,t,a,i,n,s){return(0,o.wg)(),(0,o.iD)("div",p,u)}]]),f=a(1025);const v={class:"px-4 sm:px-6 lg:px-8 mt-8 space-y-4 pt-4"},y=(0,o._)("div",{class:"text-red-400"},"Email has not be configured. This will limit available features, such as inviting users to the platform. Check the documentation for how to configure email before running this setup.",-1),k=(0,o._)("p",{class:"text-center"},"You have already created an admin user.",-1),b={class:"flex justify-center"};var w=a(5670),x=a(3587),A={name:"CreateAdminUser",data(){return{input:{name:"",username:"",email:"",password:"",password_confirm:""},errors:{}}},props:["state"],watch:{"input.username":function(e){e&&!/^[a-z0-9-_]+$/i.test(e)?this.errors.username="Must only contain a-z 0-9 - _":this.errors.username=""},"input.email":function(e){e&&!/.+@.+/.test(e)?this.errors.email="Enter a valid email address":this.errors.email=""},"input.password":function(e){this.errors.password&&e.length>=8&&(this.errors.password="")}},computed:{formValid(){return this.input.email&&this.input.username&&!this.errors.username&&""!==this.input.password&&this.input.password===this.input.password_confirm}},methods:{next(){this.$emit("next")},checkPassword(){this.input.password&&this.input.password.length<8?this.errors.password="Password must be at least 8 characters":this.errors.password="",this.input.password&&this.input.password.length>1024?this.errors.password="Password too long":this.errors.password=""},createUser(){const e={_csrf:SETUP_CSRF_TOKEN,...this.input,name:this.input.name||this.input.username};return delete e.password_confirm,c.Z.post("/setup/create-user",e).then((e=>{this.$emit("next")})).catch((e=>{e.response.data&&(/username/.test(e.response.data.error)?this.errors.username="Username unavailable":/password/.test(e.response.data.error)?this.errors.password="Invalid username":"email must be unique"===e.response.data.error?this.errors.email="Email already registered":this.errors.username=e.response.data.error)}))}},components:{FormHeading:w.Z,FormRow:x.Z}},D=(0,h.Z)(A,[["render",function(e,t,a,i,n,s){const r=(0,o.up)("FormHeading"),l=(0,o.up)("FormRow"),c=(0,o.up)("ff-button");return(0,o.wg)(),(0,o.iD)("form",v,[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Uk)("1. Create Administrator User")])),_:1}),a.state.adminUser?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[k,(0,o._)("div",b,[(0,o.Wm)(c,{onClick:t[6]||(t[6]=e=>s.next()),class:"mt-3"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Next ")])),_:1})])],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(l,{modelValue:n.input.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.input.username=e),error:n.errors.username},{description:(0,o.w5)((()=>[(0,o.Uk)("Unique, short, no spaces. Cannot be 'admin' or 'root'")])),default:(0,o.w5)((()=>[(0,o.Uk)(" Username ")])),_:1},8,["modelValue","error"]),(0,o.Wm)(l,{modelValue:n.input.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.input.name=e),placeholder:n.input.username},{default:(0,o.w5)((()=>[(0,o.Uk)(" Full Name ")])),_:1},8,["modelValue","placeholder"]),(0,o.Wm)(l,{modelValue:n.input.email,"onUpdate:modelValue":t[2]||(t[2]=e=>n.input.email=e),error:n.errors.email},(0,o.Nv)({default:(0,o.w5)((()=>[(0,o.Uk)(" Email ")])),_:2},[a.state.email?void 0:{name:"description",fn:(0,o.w5)((()=>[y])),key:"0"}]),1032,["modelValue","error"]),(0,o.Wm)(l,{type:"password",error:n.errors.password,modelValue:n.input.password,"onUpdate:modelValue":t[3]||(t[3]=e=>n.input.password=e),id:"password",onBlur:s.checkPassword},{description:(0,o.w5)((()=>[(0,o.Uk)("At least 8 characters")])),default:(0,o.w5)((()=>[(0,o.Uk)(" Password ")])),_:1},8,["error","modelValue","onBlur"]),(0,o.Wm)(l,{type:"password",error:n.errors.password_confirm,modelValue:n.input.password_confirm,"onUpdate:modelValue":t[4]||(t[4]=e=>n.input.password_confirm=e),id:"password_confirm"},{default:(0,o.w5)((()=>[(0,o.Uk)("Confirm Password")])),_:1},8,["error","modelValue"]),(0,o.Wm)(c,{disabled:!s.formValid,onClick:t[5]||(t[5]=e=>s.createUser()),class:"mt-6"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Next ")])),_:1},8,["disabled"])],64))])}]]);const S=[(0,o._)("p",{class:"text-lg text-center"},"Something went wrong setting up FlowForge.",-1),(0,o._)("p",{class:"text-center"},"Please check the application log for details",-1)];var T={name:"SetupErrorPage"},C=(0,h.Z)(T,[["render",function(e,t,a,i,n,s){return(0,o.wg)(),(0,o.iD)("form",null,S)}]]);const E=(0,o._)("p",{class:"text-lg text-center"},"Well done - that's all we need to get started.",-1),I=(0,o._)("p",{class:"text-center"},"All of these settings can be modified under the Admin Settings section of the platform.",-1),_={class:"flex justify-center"};var U={name:"SetupFinal",methods:{async done(){const e={_csrf:SETUP_CSRF_TOKEN};try{await c.Z.post("/setup/finish",e),window.location="/"}catch(e){this.$emit("error")}}}},V=(0,h.Z)(U,[["render",function(e,t,a,i,n,s){const r=(0,o.up)("ff-button");return(0,o.wg)(),(0,o.iD)("form",null,[E,I,(0,o._)("div",_,[(0,o.Wm)(r,{onClick:t[0]||(t[0]=e=>s.done()),class:"mt-6"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Login to FlowForge ")])),_:1})])])}]]);const j=(0,o._)("p",{class:"mt-4"},"FlowForge Community Edition is Open Source and can be used freely without a license.",-1),P=(0,o._)("p",null,"If you have a FlowForge Enterprise Edition license, upload it here.",-1),Z={class:"flex mt-8"},M=(0,o._)("p",{class:"text-center"},"You have already applied a FlowForge Enterprise Edition license.",-1),B=(0,o._)("p",{class:"text-center"},"To apply a different license, complete this setup then login as the administrator and go to Admin Settings.",-1);var F={name:"SetupLicense",props:["state"],data(){return{input:{license:""},errors:{}}},computed:{formValid(){return!!this.input.license}},methods:{next(){this.$emit("next")},addLicense(){const e={_csrf:SETUP_CSRF_TOKEN,...this.input};return c.Z.post("/setup/add-license",e).then((e=>{this.$emit("next")})).catch((e=>{this.errors.license=e.response.data.error}))}},components:{FormHeading:w.Z,FormRow:x.Z}},W=(0,h.Z)(F,[["render",function(e,t,a,i,n,s){const r=(0,o.up)("FormHeading"),l=(0,o.up)("FormRow"),c=(0,o.up)("ff-button");return(0,o.wg)(),(0,o.iD)("form",null,[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Uk)("2. Upload License")])),_:1}),a.state.license?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[M,B,(0,o.Wm)(c,{onClick:t[3]||(t[3]=e=>s.next())},{default:(0,o.w5)((()=>[(0,o.Uk)(" Next ")])),_:1})],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[j,P,(0,o.Wm)(l,{class:"mt-6",modelValue:n.input.license,"onUpdate:modelValue":t[0]||(t[0]=e=>n.input.license=e),error:n.errors.license},{default:(0,o.w5)((()=>[(0,o.Uk)("License Key")])),_:1},8,["modelValue","error"]),(0,o._)("div",Z,[(0,o.Wm)(c,{kind:"tertiary",onClick:t[1]||(t[1]=e=>s.next())},{default:(0,o.w5)((()=>[(0,o.Uk)(" Continue with FlowForge CE ")])),_:1}),(0,o.Wm)(c,{disabled:!s.formValid,onClick:t[2]||(t[2]=e=>s.addLicense())},{default:(0,o.w5)((()=>[(0,o.Uk)(" Next ")])),_:1},8,["disabled"])])],64))])}]]);const N={class:"px-4 sm:px-6 lg:px-8 mt-8 space-y-4 pt-4"},R=(0,o._)("p",null," We collect anonymous statistics about how FlowForge is used. This allows us to improve how it works and make a better product. ",-1),L=(0,o._)("p",null,[(0,o.Uk)(" For more information about the data we collect and how it is used, please see our "),(0,o._)("a",{class:"forge-link",href:"https://github.com/flowforge/flowforge/tree/main/docs/admin/telemetry.md",target:"_blank"},"Usage Data Collection Policy")],-1),q={class:"space-x-2"};var H={name:"SetupOptions",props:["state"],data(){return{input:{telemetry:!0},errors:{}}},methods:{next(){this.$emit("next")},applyOptions(){const e={_csrf:SETUP_CSRF_TOKEN,...this.input};return c.Z.post("/setup/settings",e).then((e=>{this.$emit("next")})).catch((e=>{console.error(e)}))}},components:{FormHeading:w.Z,FormRow:x.Z}},O=(0,h.Z)(H,[["render",function(e,t,a,i,n,s){const r=(0,o.up)("FormHeading"),l=(0,o.up)("FormRow"),c=(0,o.up)("ff-button");return(0,o.wg)(),(0,o.iD)("form",N,[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Uk)("3. Options")])),_:1}),(0,o.Wm)(l,{modelValue:n.input.telemetry,"onUpdate:modelValue":t[0]||(t[0]=e=>n.input.telemetry=e),type:"checkbox"},{description:(0,o.w5)((()=>[R,L])),default:(0,o.w5)((()=>[(0,o.Uk)("Enable collection of anonymous statistics ")])),_:1},8,["modelValue"]),(0,o._)("div",q,[(0,o.Wm)(c,{onClick:t[1]||(t[1]=e=>s.applyOptions()),class:"mt-6"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Next ")])),_:1})])])}]]);const G={class:""},Y=(0,o._)("p",{class:"text-center"},"Welcome to your shiny new FlowForge platform.",-1),z=(0,o._)("p",{class:"text-center"},"Let's get it setup for you to start using.",-1),K={class:"flex justify-center"};var X={name:"SetupFinal",methods:{done(){this.$emit("next")}}};const $=[(0,h.Z)(X,[["render",function(e,t,a,i,n,s){const r=(0,o.up)("ff-button");return(0,o.wg)(),(0,o.iD)("form",G,[Y,z,(0,o._)("div",K,[(0,o.Wm)(r,{onClick:t[0]||(t[0]=e=>s.done()),class:"mt-6"},{default:(0,o.w5)((()=>[(0,o.Uk)("Start setup")])),_:1})])])}]]),D,W,O,V,C];var Q={name:"SetupApp",data(){return{step:0,views:(0,l.Xl)($),state:{}}},async mounted(){this.state=(await c.Z.get("/setup/status")).data},methods:{next(){this.step++},error(){this.step=$.length-1}},components:{PageFooter:g,Logo:d.Z,CreateAdminUser:D,License:W,"ff-layout-box":f.Z}},J=a(3379),ee=a.n(J),te=a(7795),ae=a.n(te),ie=a(569),ne=a.n(ie),se=a(3565),oe=a.n(se),re=a(9216),le=a.n(re),ce=a(4589),de=a.n(ce),pe=a(472),ue={};ue.styleTagTransform=de(),ue.setAttributes=oe(),ue.insert=ne().bind(null,"head"),ue.domAPI=ae(),ue.insertStyleElement=le(),ee()(pe.Z,ue),pe.Z&&pe.Z.locals&&pe.Z.locals;var me=(0,h.Z)(Q,[["render",function(e,t,a,i,n,s){const l=(0,o.up)("ff-layout-box");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(l,{class:"ff-setup"},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(n.views[n.step]),{state:n.state,onNext:s.next,onError:s.error},null,40,["state","onNext","onError"]))])),_:1})])}]]);(0,s.createApp)(me).use(n()).mount("#app")},9109:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var i=a(894),n=a(6252),s=a(8919),o=a(7613),r=a(3613),l=a(4313);var c={namespaced:!0,state:()=>({settings:null,features:{},pending:!0,loginInflight:!1,redirectUrlAfterLogin:null,user:null,team:null,teamMembership:null,teams:[],notifications:{},loginError:null,pendingTeamChange:!1,offline:null}),getters:{settings(e){return e.settings},user(e){return e.user},teams(e){return e.teams},team(e){return e.team},teamMembership(e){return e.teamMembership},notifications(e){const t=e.notifications;let a=0;for(const e of Object.keys(t))"total"!==e&&(a+=t[e]);return t.total=a,t},redirectUrlAfterLogin(e){return e.redirectUrlAfterLogin},pending(e){return e.pending},pendingTeamChange(e){return e.pendingTeamChange},offline(e){return e.offline}},actions:{async checkState(e,t){try{const a=await s.Z.getSettings();e.commit("setSettings",a),e.commit("setOffline",!1);const i=await r.Z.getUser();if(e.commit("login",i),"VerifyEmail"===l.Z.currentRoute.value.name&&!1===i.email_verified);else{if(!1===l.Z.currentRoute.value.meta.requiresLogin)return void(window.location="/");if(!1===i.email_verified||i.password_expired)return e.commit("clearPending"),void l.Z.push({name:"Home"})}e.dispatch("countNotifications");const c=await o.Z.getTeams();if(e.commit("setTeams",c.teams),0===c.count)return e.commit("clearPending"),e.commit("setTeam",null),void(/^\/team\//.test(l.Z.currentRoute.value.path)&&l.Z.push({name:"Home"}));let d=i.defaultTeam||c.teams[0].id,p=null;const u=/^\/team\/([^/]+)($|\/)/.exec(t||l.Z.currentRoute.value.path);u&&"create"!==u[1]&&(d=null,p=u[1]);try{const a=await o.Z.getTeam(d||{slug:p}),i=await o.Z.getTeamUserMembership(a.id);e.commit("setTeam",a),e.commit("setTeamMembership",i),e.commit("clearPending"),t&&(l.Z.push(t),(0,n.Y3)((()=>{e.commit("setRedirectUrl",null)})))}catch(t){e.commit("clearPending"),l.Z.push({name:"PageNotFound",params:{pathMatch:l.Z.currentRoute.value.path.substring(1).split("/")},query:l.Z.currentRoute.value.query,hash:l.Z.currentRoute.value.hash})}}catch(t){e.commit("clearPending"),!1!==l.Z.currentRoute.value.meta.requiresLogin&&("/"!==l.Z.currentRoute.value.path&&e.commit("setRedirectUrl",l.Z.currentRoute.value.fullPath),l.Z.push({name:"Home"}))}},async refreshTeam(e){const t=e.getters.team;if(t){const a=t.slug,i=await o.Z.getTeam(t.id),n=await o.Z.getTeamUserMembership(i.id);e.commit("setTeam",i),e.commit("setTeamMembership",n),a!==i.slug&&l.Z.replace({name:l.Z.currentRoute.value.name,params:{team_slug:i.slug}})}},async refreshTeams(e){const t=await o.Z.getTeams();e.commit("setTeams",t.teams)},async login(e,t){try{e.commit("setLoginInflight"),await r.Z.login(t.username,t.password),e.dispatch("checkState",e.getters.redirectUrlAfterLogin)}catch(t){t.response.status>=401&&e.commit("loginFailed",t.response.data)}},async logout(e){e.commit("logout"),r.Z.logout().catch((e=>{})).finally((()=>{window.location="/"}))},async setTeam(e,t){const a=e.getters.team;let i;if(e.commit("setPendingTeamChange"),"string"==typeof t){if(a&&a.slug===t)return void e.commit("clearPendingTeamChange");t=await o.Z.getTeam({slug:t})}else if(!a||a.id===t.id)return void e.commit("clearPendingTeamChange");t.id&&(i=await o.Z.getTeamUserMembership(t.id)),e.commit("setTeam",t),e.commit("setTeamMembership",i),e.commit("clearPendingTeamChange")},async setUser(e,t){e.commit("setUser",t)},async refreshSettings(e){const t=await s.Z.getSettings();e.commit("setSettings",t)},async countNotifications(e){await r.Z.getTeamInvitations().then((t=>{e.commit("setNotificationsCount",{type:"invitations",count:t.count})})).catch((e=>{}))},setOffline(e,t){e.commit("setOffline",t)}},mutations:{setSettings(e,t){e.settings=t,e.features=t.features||{}},clearPending(e){e.pending=!1},setLoginInflight(e){e.loginInflight=!0},login(e,t){e.loginInflight=!1,e.user=t},logout(e){e.loginInflight=!1,e.pending=!0,e.user=null,e.teams=[],e.team=null},setUser(e,t){e.user=t},setTeam(e,t){e.team=t},setTeamMembership(e,t){e.teamMembership=t},setTeams(e,t){e.teams=t},setNotificationsCount(e,t){e.notifications[t.type]=t.count},sessionExpired(e){e.user=null},loginFailed(e,t){e.loginInflight=!1,e.loginError=t},setRedirectUrl(e,t){e.redirectUrlAfterLogin=t},setPendingTeamChange(e){e.pendingTeamChange=!0},clearPendingTeamChange(e){e.pendingTeamChange=!1},setOffline(e,t){e.offline=t}}};var d={namespaced:!0,state:()=>({flags:null,interview:null}),getters:{settings(e){return e.settings}},actions:{async checkFlags(e){window.posthog?.onFeatureFlags(((t,a)=>{const i={};for(const n of t){const t=window.posthog?.getFeatureFlagPayload(n);i[n]={value:a[n],payload:t};const s=n.startsWith("interview-"),o=window.posthog?.isFeatureEnabled(n,{send_event:!1}),r=!localStorage.getItem("ph-$interview-popup-seen");if(s&&o&&r){const a={flag:n,enabled:o,payload:t};e.commit("setInterview",a)}}e.commit("setFlags",i)}))}},mutations:{setFlags(e,t){e.flags=t},setInterview(e,t){e.interview=t}}},p=(0,i.MT)({modules:{account:c,product:d},plugins:[]})},6580:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var i=a(1044);function n(e){return e?(0,i.Z)(Date.now(),e)+" ago":""}},1044:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});const i=(e,t)=>`${t} ${1!==t?e+"s":e}`,n={years:31536e3,months:2592e3,weeks:604800,days:86400,hours:3600,minutes:60,seconds:1};function s(e,t){const a=function(e,t=new Date){let a=e;"string"!=typeof a&&"number"!=typeof a||(isNaN(a)||(a=Number.parseInt(a)),a=new Date(a));let i=t;if("string"!=typeof i&&"number"!=typeof i||(isNaN(i)||(i=Number.parseInt(i)),i=new Date(i)),!(a instanceof Date)||isNaN(a))throw new RangeError(`To date is required to be a valid ISO 8601 string, milliseconds since epoch or Date object, received ${e}`);if(!(i instanceof Date)||isNaN(i))throw new RangeError(`From date is required to be a valid ISO 8601 string, milliseconds since epoch or Date object, received ${t}`);let s=Math.abs(a.getTime()-i.getTime())/1e3;const o={};for(const e in n)o[e]=Math.floor(s/n[e]),s-=o[e]*n[e];return o}(e,t),s=[];let o=!0;if(a.years>0&&(s.push(i("year",a.years)),o=!1),a.months>0&&(s.push(i("month",a.months)),o=!1),a.weeks>0&&(s.push(i("week",a.weeks)),o=!1),a.days>0&&(s.push(i("day",a.days)),o=!1),o){let e=!0;a.hours>0&&(s.push(i("hour",a.hours)),e=!1),a.minutes>0&&s.push(i("minute",a.minutes)),e&&a.seconds>0&&s.push(i("second",a.seconds))}return 0===s.length?"moments":s.join(", ")}},1826:function(e,t,a){"use strict";function i(e,t,a,i){const n=new URLSearchParams;t&&n.append("cursor",t),a&&n.append("limit",a),i&&n.append("query",i);const s=n.toString();return""===s?e:`${e}?${s}`}a.d(t,{Z:function(){return i}})},472:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),s=a(3645),o=a.n(s),r=a(1667),l=a.n(r),c=new URL(a(4465),a.b),d=new URL(a(6651),a.b),p=o()(n()),u=l()(c),m=l()(d);p.push([e.id,"@tailwind base;@tailwind components;@tailwind utilities;.ff-layout--box{background-color:#1F2937;display:flex;justify-content:center;align-items:center;min-height:inherit;background-image:url("+u+");background-size:contain;background-repeat:no-repeat;background-position-y:90%}.ff-layout--box .ff-error-inline{font-size:0.875rem;display:block;margin-top:0.25rem;color:#FF8D8D}.ff-layout--box--wrapper{width:calc(100% - 48px);height:60%;display:grid;background-color:rgba(75,85,99,0.2)}.ff-layout--box--wrapper .ff-logo{max-width:200px;margin:auto;margin-bottom:48px}.ff-layout--box--left,.ff-layout--box--right{border-top:2px solid #ED4E4E;height:100%;justify-content:center;align-items:center}.ff-layout--box--left{color:white;background-color:rgba(17,24,39,0.5)}.ff-layout--box--left h1{max-width:420px}.ff-layout--box--left h3{font-size:1.25rem}.ff-layout--box--left p{font-weight:200;line-height:1.5rem;color:#D1D5DB}.ff-layout--box--content{width:100%}.ff-layout--box--right .ff-layout--box--content{background-color:#374151;min-height:400px;padding:64px 24px;@apply rounded-xl;color:white}.ff-layout--box--right .ff-layout--box--content h2{margin-top:-12px;margin-bottom:24px}.ff-layout--box--right .ff-layout--box--content h5{font-weight:bold;margin-bottom:0.75rem}.ff-layout--box--right .ff-layout--box--content label{display:block;color:white;text-transform:uppercase;font-weight:600;margin-bottom:4px;font-size:0.75rem}.ff-layout--box--right .ff-layout--box--content .ff-radio-btn label{color:#F3F4F6;font-weight:normal}.ff-layout--box--right .ff-layout--box--content p{margin-bottom:1rem}.ff-layout--box--right .ff-layout--box--content a{color:#74D4D9}.ff-layout--box--right .ff-layout--box--content .ff-input:not(.ff-input--error){border-color:transparent}.ff-layout--box--right .ff-layout--box--content .ff-input{background-color:#4B5563;border-width:2px}.ff-layout--box--right .ff-layout--box--content .ff-input input{color:#F9FAFB}.ff-layout--box--right .ff-layout--box--content .ff-input:focus-within{border-color:#74D4D9}.ff-layout--box--right .ff-layout--box--content .ff-radio-btn .checkbox{border:1px solid #9CA3AF;background-image:url("+m+')}.ff-layout--box--right .ff-layout--box--content .ff-error-inline{margin-bottom:12px}.ff-layout--box--right .ff-layout--box--content .ff-actions{margin-top:18px}.ff-layout--box--right .ff-layout--box--content .ff-btn{text-transform:uppercase;width:100%;margin-bottom:6px}.ff-layout--box--right .ff-layout--box--content .ff-btn.ff-btn--primary{background-color:#35AAB0;color:white}.ff-layout--box--right .ff-layout--box--content .ff-btn.ff-btn--primary:hover{background-color:#31959A}.ff-layout--box--right .ff-layout--box--content .ff-btn.ff-btn--primary:disabled{background-color:#D1D5DB;color:#9CA3AF}.ff-layout--box--right .ff-layout--box--content .ff-btn.ff-btn--tertiary{color:#50C3C9;font-weight:normal}.ff-layout--box--right .ff-layout--box--content .ff-btn.ff-btn--tertiary:hover{background-color:transparent;color:white}.ff-layout--platform{min-height:inherit;display:flex;flex-direction:column}.ff-layout--platform--wrapper{display:grid;flex-grow:1;padding-top:60px;position:absolute;width:100%;height:100%;overflow:hidden}.ff-layout--platform--wrapper .ff-view{position:relative;overflow-y:auto}.ff-layout--platform--wrapper main{margin:9px;padding:12px;background-color:#F9FAFB}.ff-layout--platform--wrapper main.ff-with-status-header{margin:9px;padding:0px}.ff-layout--platform--wrapper main.ff-with-status-header .ff-instance-header{padding:0px;background-color:#fff}.ff-notifications{position:absolute;right:12px;top:72px;z-index:10;min-width:350px}.ff-notification-toast{min-height:60px;margin-bottom:9px}.notifications-list-move,.notifications-list-enter-active,.notifications-list-leave-active{transition:all 0.3s ease}.notifications-list-enter-from,.notifications-list-leave-to{opacity:0;transform:translateX(200px)}.notifications-list-leave-active{position:absolute}.ff-team-selection{position:relative;display:flex;justify-content:space-between;background-color:#1F2937;min-width:275px}.ff-team-selection svg:hover{fill:#8CE2E7;cursor:pointer}.ff-team-selection svg.active{fill:#8CE2E7}.ff-team-selection .ff-dropdown-options{position:absolute;min-width:275px;display:none;z-index:10;border-bottom:0;max-height:initial}.ff-team-selection .ff-dropdown-options.active{display:block}.ff-team-selection .ff-dropdown-options .ff-dropdown-option{padding:0;border-bottom:none}.ff-team-selection-name{margin-left:10px;display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.ff-team-selection-name label{font-size:0.7rem;line-height:0.7rem;color:#D1D5DB;margin-left:0}.ff-team-selection-name h5{color:white;white-space:nowrap}.ff-team-selection>div{flex-grow:1;display:flex;align-items:center;cursor:pointer}.ff-team-selection>div:hover label,.ff-team-selection>div:hover h5{color:#B2EBEE}.ff-banner{background-color:#1F2937;color:#D1D5DB;padding:8px;text-align:center;border-bottom:2px solid #D12B2B}.ff-banner.ff-banner-info{background-color:#DBEAFE;color:#374151;text-align:left;border-bottom:none;display:flex;align-items:center;justify-content:space-between;padding-left:16px;padding-right:16px}.ff-banner.ff-banner-warning{background-color:#AB1818;color:#F9FAFB;text-align:left;border-bottom:2px solid #8F0001;display:flex;align-items:center;justify-content:space-between;padding-left:16px;padding-right:16px}.ff-header{z-index:10;background-color:#1F2937;height:60px;border-bottom:2px solid #D12B2B;display:flex;align-items:center;justify-content:space-between;position:fixed;width:100%}.ff-header img.ff-logo{padding:20px;height:60px}.ff-header img.ff-logo:hover{cursor:pointer}.ff-header .ff-header--mobile-toggle{padding:16px}.ff-header .ff-header--mobile-toggle svg{fill:white}.ff-header .ff-header--mobile-toggle.active{cursor:pointer;background-color:#374151}.ff-header .ff-header--mobile-usertoggle{padding:16px}.ff-header .ff-header--mobile-usertoggle img{padding:0}.ff-header .ff-header--mobile-usertoggle.active{cursor:pointer;background-color:#374151}.ff-header .ff-navigation{position:absolute;top:100%;margin-top:2px}.ff-header .ff-navigation img{padding:0;margin-right:9px}.ff-header .ff-navigation .ff-user{display:flex;align-items:center;margin-left:-2px;position:relative}.ff-header .ff-navigation .ff-user .ff-notification-pill{font-size:0.65rem;padding:0px 6px;background-color:#BC3838;border:1px solid #1F2937;position:absolute;bottom:-9px;line-height:0.85rem;right:0}.ff-header .ff-navigation-right{height:100%}.ff-header .ff-dropdown{display:none;height:calc(60px - 2px);color:white;min-width:275px;position:relative;top:0;margin-top:0}.ff-header .ff-dropdown .ff-dropdown-selected{height:100%;padding:16px 16px 16px 24px;display:flex;justify-content:space-between;align-items:center;border-width:0 0 0 1px;border-color:#6B7280;border-radius:0;background-color:#1F2937}.ff-header .ff-dropdown .ff-dropdown-selected:hover{background-color:#374151}.ff-header .ff-dropdown.ff-dropdown--open .ff-dropdown-selected{background-color:#374151}.ff-header .ff-dropdown .ff-dropdown-options{width:100%;margin-top:2px;border-color:#6B7280;border-right:0}.ff-header .ff-team-selection ul{top:100%;left:0}.ff-header .ff-team-selection .ff-dropdown-option{padding:0}.ff-header .ff-team-selection .ff-dropdown-option .ff-nav-item{background-color:#374151}.ff-header .ff-team-selection .ff-dropdown-option:last-child{border-top:inherit}.ff-header .ff-team-selection .ff-dropdown-option:last-child .ff-nav-item{background-color:#1F2937}.ff-header .ff-user-options{width:auto;min-width:60px}.ff-header .ff-user-options .ff-dropdown-options{width:275px}.ff-user-options .ff-dropdown-options{max-height:initial}.ff-user-options .ff-dropdown-options .ff-dropdown-option{border-bottom:none}.ff-user-options .ff-dropdown-option:last-child{border-top:2px solid #BC3838}.ff-navigation .ff-nav-item:hover,.ff-team-selection ul .ff-nav-item:hover{cursor:pointer}.ff-navigation .ff-nav-item:hover svg,.ff-team-selection ul .ff-nav-item:hover svg{fill:#C4F3F5}.ff-navigation .ff-nav-item:hover svg.hollow,.ff-team-selection ul .ff-nav-item:hover svg.hollow{fill:none;stroke:#C4F3F5}.ff-navigation .ff-nav-item:hover label,.ff-team-selection ul .ff-nav-item:hover label{color:#C4F3F5}.ff-navigation .ff-nav-item{border-bottom:1px solid #4B5563;padding:16px 16px 16px 24px;display:grid;grid-template-columns:20px 1fr}.ff-navigation .ff-nav-item svg{fill:#fff;width:20px}.ff-navigation .ff-nav-item svg.hollow{fill:none;stroke:#fff}.ff-navigation .ff-nav-item label{margin-left:12px;color:#fff;white-space:nowrap;pointer-events:none}.ff-team-selection ul .ff-nav-item{border-bottom:1px solid #4B5563;padding:16px 16px 16px 22px;display:grid;align-items:center;grid-template-columns:24px 1fr;height:60px}.ff-team-selection ul .ff-nav-item svg{fill:#fff;width:20px}.ff-team-selection ul .ff-nav-item label{margin-left:12px;color:#fff;white-space:nowrap;pointer-events:none}.ff-navigation{background-color:#374151;position:fixed;left:-275px;height:100%;z-index:10;transition:0.3s left, 0.3s right;-webkit-transition:0.3s left, 0.3s right;width:275px}.ff-navigation .ff-side-navigation{display:flex;height:100%}.ff-navigation .ff-side-navigation .ff-side-navigation-divider{height:4px;border-bottom:1px solid #4B5563;background-color:#1F2937}.ff-navigation .ff-side-navigation .ff-team-selection{height:54px}.ff-navigation .ff-side-navigation .ff-team-selection,.ff-navigation .ff-side-navigation .ff-nav-item{transition:.15s padding,.15s background-color;-webkit-transition:.15s padding,.15s background-color}.ff-navigation .ff-side-navigation.minimised .ff-team-selection{padding:16px 14px}.ff-navigation .ff-side-navigation.minimised .ff-team-selection svg,.ff-navigation .ff-side-navigation.minimised .ff-team-selection .ff-team-selection-name{display:none}.ff-navigation .ff-side-navigation.minimised .ff-navigation-divider label{display:none}.ff-navigation .ff-side-navigation.minimised .ff-side-navigation--primary{width:54px}.ff-navigation .ff-side-navigation.minimised .ff-side-navigation--primary .ff-nav-item{padding:16px}.ff-navigation .ff-side-navigation.minimised .ff-side-navigation--primary .ff-nav-item label{opacity:0;display:none}.ff-navigation .ff-side-navigation.minimised .ff-side-navigation--primary svg.hollow{display:none}.ff-navigation .ff-side-navigation.minimised .ff-side-navigation--nested{width:calc(100% - 54px);flex-grow:1}.ff-navigation .ff-side-navigation--options{width:100%}.ff-navigation .ff-side-navigation--primary{width:100%;transition:.15s width;-webkit-transition:.15s width}.ff-navigation .ff-side-navigation--primary .router-link-active li{background-color:#4B5563}.ff-navigation .ff-side-navigation--primary .router-link-active li label{color:#8CE2E7}.ff-navigation .ff-side-navigation--primary .router-link-active li svg{fill:#8CE2E7}.ff-navigation .ff-side-navigation--primary .router-link-active li svg.hollow{fill:none;stroke:#8CE2E7}.ff-navigation .ff-side-navigation--nested{width:0;background-color:#4B5563;overflow:hidden}.ff-navigation .ff-side-navigation--nested .ff-nested-title{color:#8CE2E7;font-weight:bold;font-size:1.1rem;padding:12px 16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ff-navigation .ff-side-navigation--nested .ff-nav-item{padding:12px 16px;background-color:#4B5563}.ff-navigation .ff-side-navigation--nested .router-link-active li{background-color:#4B5563}.ff-navigation .ff-side-navigation--nested .router-link-active label{color:#8CE2E7}.ff-navigation .ff-side-navigation--nested .router-link-active svg{fill:#8CE2E7}.ff-navigation .ff-side-navigation--nested .router-link-active svg.hollow{fill:none;stroke:#8CE2E7}.ff-navigation.ff-navigation-right{left:initial;right:-275px}.ff-navigation.ff-navigation-right .ff-nav-item:last-child{border-top:2px solid #BC3838}.ff-navigation.open{left:0}.ff-navigation.ff-navigation-right.open{left:initial;right:0}.ff-navigation .ff-navigation-divider{background-color:#111827;color:white;padding:6px 12px;height:32px;display:block;font-size:0.85rem;border-bottom:1px solid #4B5563;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.ff-navigation .ff-dropdown-options .ff-dropdown-option{padding:0}.ff-navigation .ff-nav-item{display:flex;justify-content:space-between;background-color:#374151;border-bottom:1px solid #4B5563}.ff-navigation .ff-notification-pill{padding:2px 12px;background-color:#BC3838;border:1px solid #AB1818}.ff-navigation .ff-side-navigation--options-back li{border-top:1px solid #4B5563}@media screen and (min-width: 640px){.ff-layout--platform--wrapper main{margin:12px;padding:24px}}@media screen and (min-width: 1024px){.ff-layout--box--wrapper{width:85%}.ff-layout--platform--wrapper{grid-template-columns:275px 1fr}.ff-layout--platform--wrapper main{margin:24px;padding:32px}.ff-layout--platform--wrapper main.ff-with-status-header{margin:24px;padding:0px}.ff-layout--platform--wrapper main.ff-with-status-header .ff-instance-header{padding:0px;background-color:#fff}.ff-navigation{left:0;position:relative}.ff-header .ff-header--mobile-toggle{display:none}.ff-header .ff-header--mobile-usertoggle{display:none}.ff-header img.ff-logo{padding:16px}.ff-header .ff-dropdown{display:block}}.fade-enter-active,.fade-leave-active{transition:opacity 0.5s ease}.fade-enter-from,.fade-leave-to{opacity:0}.ff-chart{padding:12px 18px;border:1px solid #D1D5DB;border-radius:6px;background-color:white}.ff-chart h3{margin:0}.ff-chart-device-status{display:flex;gap:4px}.ff-chart-device-status label{display:block}.ff-chart-device-status .ff-chart-bar{text-align:right;border-right:1px solid;border-color:var(--bar-border);color:var(--text-color);transition:0.3s opacity}.ff-chart-device-status .ff-chart-bar>div,.ff-chart-device-status .ff-chart-bar>label{padding:3px 6px;font-size:0.875rem;font-weight:600}.ff-chart-device-status .ff-chart-bar>div{border-width:1px 0px 1px 1px;border-style:solid;background-color:var(--bar-bg);border-color:var(--bar-border);transition:0.3s background-color, 0.3s color, 0.3s opacity}.ff-chart-device-status .ff-chart-bar:hover>div{background-color:var(--bar-border)}.ff-chart-device-status .ff-chart-bar label{text-transform:capitalize}.ff-chart-device-status .ff-chart-bar:hover{cursor:pointer}.ff-chart-device-status .ff-chart-bar--error{--bar-bg: #FF8D8D;--bar-border: #F16F6F;--text-color: #BC3838}.ff-chart-device-status .ff-chart-bar--never,.ff-chart-device-status .ff-chart-bar--stopped{--bar-bg: #E5E7EB;--bar-border: #D1D5DB;--text-color: #4B5563}.ff-chart-device-status .ff-chart-bar--offline{--bar-bg: #F9FAFB;--bar-border: #D1D5DB;--text-color: #4B5563}.ff-chart-device-status .ff-chart-bar--safe{--bar-bg: #FDE68A;--bar-border: #FCD34D;--text-color: #D97706}.ff-chart-device-status .ff-chart-bar--running{--bar-bg: #A7F3D0;--bar-border: #6EE7B7;--text-color: #059669}.ff-chart-device-status .ff-chart-bar.ghost{opacity:0.15}#ff-app{background-color:#D1D5DB}.ff-link{color:#1D4ED8}.ff-link:hover{cursor:pointer;color:#1E3A8A}.ff-avatar{width:24px;height:24px;border-radius:4px}.ff-avatar-large{width:48px;height:48px;border-radius:8px}.ff-bg-dark{background-color:#1F2937}.ff-bg-dark .ff-btn.ff-btn--primary{background-color:#35AAB0}.ff-bg-dark .ff-btn.ff-btn--primary:hover{background-color:#31959A}.ff-loading{width:100%;height:100%}.ff-loading h4{font-size:1.5rem;margin-top:1rem;font-weight:600}.ff-loading.theme-light{color:#111827}.ff-loading.theme-dark{color:white}.ff-icon.ff-clickable{cursor:pointer}.ff-icon.ff-clickable path,.ff-icon.ff-clickable circle,.ff-icon.ff-clickable rect{transition:0.3s color, 0.3s stroke, 0.3s fill;-webkit-transition:0.3s color, 0.3s stroke, 0.3s fill}.ff-icon.ff-clickable:hover{color:#2563EB}.ff-icon-lg{width:48px;height:48px;stroke-width:1px}.ff-dialog-box a{color:#2563EB}.ff-dialog-box a:hover{color:#1E40AF}.ff-dialog-box--info p{margin-bottom:12px}.ff-dialog-box--info img{width:150px;height:150px}.ff-no-data{background-color:#F3F4F6;color:#9CA3AF;font-size:0.875rem;border:#E5E7EB solid 1px;padding:12px;text-align:center}.ff-no-data.ff-no-data-large{padding:64px 12px}label{cursor:inherit}::placeholder{color:#9CA3AF !important;opacity:1}[role="menu"] a[role="menuitem"]{cursor:pointer}.ff-dialog-fixed-height .ff-dialog-content{overflow-y:visible}.ff-breadcrumbs{display:flex;align-items:center;margin-top:12px;margin-bottom:12px}.ff-breadcrumbs label{color:#2563EB;cursor:pointer}.ff-breadcrumbs label:hover{text-decoration:underline}.ff-breadcrumbs span:last-child label{pointer-events:none;color:black}.ff-data-table--cell a:not(.ff-btn):hover{color:#2563EB}.ff-data-table--data .ff-data-table--row--nested .ff-data-table--cell{background-color:#F9FAFB}.ff-data-table--data .ff-data-table--row--nested .ff-data-table--cell:first-child{padding-left:36px}.ff-data-table--data .ff-data-table--row--nested.selectable:hover .ff-data-table--cell{background-color:#F3F4F6}.ff-page-banner{border-radius:5px;background-color:#DBEAFE;color:#4B5563;text-align:left;border:1px solid #93C5FD;display:flex;align-items:center;justify-content:center;padding:8px 16px}\n',""]),t.Z=p},1205:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),s=a(3645),o=a.n(s)()(n());o.push([e.id,".ff-code-previewer[data-v-4fab1da2]{background-color:white;border:1px solid #D1D5DB;border-radius:6px;padding:12px}.ff-code-previewer code[data-v-4fab1da2]{border:none;padding:unset}\n",""]),t.Z=o},7114:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),s=a(3645),o=a.n(s)()(n());o.push([e.id,".ff-empty-state{text-align:center;padding-top:64px;padding-bottom:64px;background-color:white;border:1px solid #E5E7EB;border-radius:3px}.ff-empty-state>div{margin:auto}.ff-empty-state img{margin:auto}.ff-empty-state h1{font-size:1.5rem;line-height:1.75rem;margin:auto;margin-top:1.5rem;margin-bottom:1rem;font-weight:500;max-width:450px}.ff-empty-state--message{max-width:500px;font-size:1.1rem;margin:auto;margin-top:1.25rem;margin-bottom:1.25rem}.ff-empty-state--message p{margin-bottom:0.75rem;line-height:1.5rem;color:#1F2937}.ff-empty-state--actions{display:flex;justify-content:center}.ff-empty-state--note{display:flex;justify-content:center;margin-top:1.75rem;color:#9CA3AF}.ff-empty-state.ff-empty-state-feature-unavailable{background-color:inherit;border:none}\n",""]),t.Z=o},2660:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),s=a(3645),o=a.n(s)()(n());o.push([e.id,".ff-audit-entry{display:grid;grid-template-areas:'time       author' 'entry       entry';grid-gap:0.25rem;align-items:center}.ff-audit-entry label{font-weight:500}.ff-audit-entry span{color:#9CA3AF;font-weight:400;font-size:0.875rem;line-height:1rem;display:block;width:100%}.ff-audit-entry svg path{stroke-width:2px}.ff-audit-entry--error{position:relative}.ff-audit-entry--error summary{display:flex;align-items:center;list-style:none;cursor:pointer;font-size:0.875rem;color:#6B7280}.ff-audit-entry--error summary::-webkit-details-marker{display:none}.ff-audit-entry--error span .ff-icon{position:absolute;top:3px;left:0;background-color:#F9FAFB;fill:#6B7280}.ff-audit-entry--error:hover summary{color:black}.ff-audit-entry--error:hover span .ff-icon{fill:black}.ff-audit-entry-info{grid-area:entry}.ff-audit-entry-trigger,.ff-audit-entry-time{grid-area:time;display:block;color:#6B7280;overflow-x:hidden;white-space:nowrap;text-overflow:ellipsis}.ff-audit-entry-trigger{grid-area:author;text-align:right}@media screen and (min-width: 1024px){.ff-audit-entry{grid-template-areas:'time entry author';grid-template-columns:min-content 1fr min-content}}.ff-accordion{margin-bottom:24px}.ff-accordion--button{width:100%;display:flex;align-items:center;justify-content:space-between;background-color:#F3F4F6;border:1px solid #D1D5DB;padding:6px 9px;cursor:default}.ff-accordion--button label{font-weight:500}.ff-accordion--button span{color:#6B7280;font-size:0.875rem}.ff-accordion--button .ff-icon{margin-left:12px;transition:0.3s transform;-webkit-transition:0.3s transform}.ff-accordion--button:not([disabled]):hover{background-color:#E5E7EB;cursor:pointer}.ff-accordion--content{display:none;transition:max-height 0.6s ease-out}.ff-accordion--content .ff-audit-entry{padding:12px;border:1px solid #D1D5DB;border-top-width:0}.ff-accordion.open .ff-accordion--content{display:block}.ff-accordion.open .ff-accordion--button .ff-icon{transform:rotate(-90deg)}\n",""]),t.Z=o},7319:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),s=a(3645),o=a.n(s)()(n());o.push([e.id,".ff-icon-anim[data-v-20490073]{display:flex;justify-content:center;align-items:center}.ff-icon-installing[data-v-20490073]{overflow:hidden}.ff-icon-installing svg[data-v-20490073]{--anim-time: 0.75s;position:relative;color:currentColor;animation:ff-icon-installing-20490073 var(--anim-time) infinite linear;animation-delay:calc(var(--anim-time) / 2)}@keyframes ff-icon-installing-20490073{0%{opacity:0;transform:translate(0, -100%)}50%{opacity:1;transform:translate(0, 0)}100%{opacity:0;transform:translate(0, 100%)}}\n",""]),t.Z=o},4265:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),s=a(3645),o=a.n(s)()(n());o.push([e.id,".ff-icon-restarting svg[data-v-76e73795]{--anim-time: 1s;position:relative;color:currentColor;animation:ff-icon-restarting-76e73795 var(--anim-time) infinite linear}@keyframes ff-icon-restarting-76e73795{0%{opacity:0.2;transform:rotate(360deg)}33%{opacity:1}66%{opacity:1}100%{opacity:0.2;transform:rotate(0deg)}}\n",""]),t.Z=o},8792:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),s=a(3645),o=a.n(s)()(n());o.push([e.id,'.ff-icon-anim[data-v-f22734ce]{display:flex;justify-content:center;align-items:center}.ff-icon-starting[data-v-f22734ce]{--cell-width: 2px;--cell-offset: calc(var(--cell-width) * 1.5);--anim-time: 0.5s;position:relative;width:var(--cell-width);height:var(--cell-width);border-radius:5px;background-color:currentColor;color:currentColor;animation:ff-icon-starting-f22734ce var(--anim-time) infinite linear alternate;animation-delay:calc(var(--anim-time) / 2)}.ff-icon-starting[data-v-f22734ce]::before,.ff-icon-starting[data-v-f22734ce]::after{content:"";display:inline-block;position:absolute;top:0}.ff-icon-starting[data-v-f22734ce]::before{left:calc(-1 * var(--cell-offset));width:var(--cell-width);height:var(--cell-width);border-radius:5px;background-color:currentColor;color:currentColor;animation:ff-icon-starting-f22734ce var(--anim-time) infinite alternate;animation-delay:0s}.ff-icon-starting[data-v-f22734ce]::after{left:var(--cell-offset);width:var(--cell-width);height:var(--cell-width);border-radius:5px;background-color:currentColor;color:currentColor;animation:ff-icon-starting-f22734ce var(--anim-time) infinite alternate;animation-delay:var(--anim-time)}@keyframes ff-icon-starting-f22734ce{0%{background-color:currentColor}50%,100%{background-color:rgba(107,114,128,0.2)}}\n',""]),t.Z=o},5488:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),s=a(3645),o=a.n(s)()(n());o.push([e.id,".ff-admin-audit{display:grid;grid-template-columns:2fr minmax(min-content, 240px);gap:24px}\n",""]),t.Z=o},6397:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),s=a(3645),o=a.n(s)()(n());o.push([e.id,".ff-pipeline{width:100%;border:1px solid #D1D5DB;border-radius:6px}.ff-pipeline .ff-pipeline-banner,.ff-pipeline .ff-pipeline-stage-banner{padding:0 18px;height:46px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #D1D5DB;background-color:#F3F4F6;border-top-left-radius:6px;border-top-right-radius:6px;gap:48px}.ff-pipeline .ff-pipeline-stage-banner{background-color:#F9FAFB}.ff-pipeline .ff-pipeline-actions{display:flex;gap:6px}.ff-pipeline .ff-pipeline-stages{padding:24px;border-bottom-left-radius:6px;border-bottom-right-radius:6px;display:flex;align-items:flex-start;gap:16px;overflow-x:auto}.ff-pipeline-stage{border-radius:6px;border:1px solid #9CA3AF;min-width:200px;background-color:white}.ff-pipeline-stage.ff-pipeline-stage-ghost{border-style:dashed;padding:48px 64px;gap:6px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9CA3AF}.ff-pipeline-stage.ff-pipeline-stage-ghost:hover{border-style:solid;cursor:pointer;color:#2563EB;border-color:#2563EB}.ff-pipeline-stage .ff-pipeline-stage-row{padding:6px 18px;display:flex;justify-content:space-between;gap:24px;font-size:0.9rem}.ff-pipeline-stage .ff-pipeline-stage-row label{color:#6B7280}.animate-deploying{animation-name:left-to-right;animation-duration:1s;animation-iteration-count:infinite;color:#2563EB}@keyframes left-to-right{0%{transform:translate(-24px, 0);opacity:0}40%{opacity:1}75%{opacity:0}100%{transform:translate(24px, 0);opacity:0}}\n",""]),t.Z=o},6268:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),s=a(3645),o=a.n(s)()(n());o.push([e.id,".ff-project-overview .ff-accordion--content{transition:none}.ff-instance-info{margin-bottom:12px}.ff-instance-info h1{border-bottom:0}.ff-instance-info h1>div{display:flex;gap:6px}.ff-instance-info h1 svg{width:20px}.ff-instance-info table{padding:9px 12px;background-color:white;border-radius:0.25rem;border-collapse:separate;border-width:1px;border-color:#D1D5DB}.ff-instance-info table td{height:36px}.ff-instance-info table tr:not(:last-child) td{border-bottom:1px solid #F3F4F6}.ff-instance-info .ff-accordion{margin-bottom:0}.ff-instance-info .ff-accordion--content{background-color:white}\n",""]),t.Z=o},2648:function(e,t,a){"use strict";var i=a(8081),n=a.n(i),s=a(3645),o=a.n(s)()(n());o.push([e.id,".ff-applications-list{display:flex;flex-direction:column;gap:18px}.ff-applications-list>li{background-color:white;border-color:#D1D5DB;border-style:solid;border-radius:6px}.ff-applications-list .ff-application-list--app{display:flex;justify-content:space-between;padding:18px;border:1px solid #D1D5DB;border-top-left-radius:6px;border-top-right-radius:6px}.ff-applications-list .ff-application-list--app>span{display:flex;align-items:center;gap:1rem}.ff-applications-list .ff-application-list--app:hover{cursor:pointer;border-color:#2563EB}.ff-applications-list .ff-applications-list--instance{display:flex;flex-direction:column}.ff-applications-list .ff-applications-list--instance span{color:#9CA3AF;font-size:0.75rem}.ff-applications-list-instances{background-color:#F3F4F6;border-width:1px;border-top-width:0;border-color:#D1D5DB;border-bottom-left-radius:6px;border-bottom-right-radius:6px;padding:12px;padding-top:6px;display:flex;flex-direction:column;gap:6px}.ff-applications-list-instances>label{display:block;font-size:0.875rem;color:#6B7280;display:flex;align-items:center;gap:12px}.ff-applications-list-instances>label::after{content:'';height:1px;flex-grow:1;background-color:#D1D5DB}.ff-applications-list-instances>li{background-color:white;border-color:#D1D5DB;border-width:1px;border-style:solid;border-radius:6px;padding:12px;display:grid;align-items:center;grid-template-columns:40px 1fr 100px minmax(auto, 250px) 140px}.ff-applications-list-instances>li:hover{cursor:pointer;border-color:#2563EB}.ff-applications-list-instances>li:hover .ff-application-list--instance{color:#2563EB}.ff-applications-list-instances>li:hover .ff-icon{color:#2563EB}\n",""]),t.Z=o},5670:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var i=a(6252);const n={class:"text-lg font-medium mb-2 border-b border-gray-200 flex"},s={class:"flex-grow"};var o={name:"FormHeading"},r=(0,a(3744).Z)(o,[["render",function(e,t,a,o,r,l){return(0,i.wg)(),(0,i.iD)("h1",n,[(0,i._)("div",s,[(0,i.WI)(e.$slots,"default")]),(0,i._)("div",null,[(0,i.WI)(e.$slots,"tools")])])}]])},3587:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var i=a(6252),n=a(3577);const s={key:0,"data-el":"form-row-error",class:"ml-8 text-red-400 inline text-xs"},o={key:1,"data-el":"form-row-description",class:"ff-description pl-8 mt-1"},r=["for"],l={class:"ff-input ff-text-input"},c=["id","accept","name","placeholder","disabled"],d={key:1,"data-el":"form-row-error",class:"ml-9 text-red-400 inline text-xs"},p={key:2,"data-el":"form-row-description",class:"mt-1 ff-description mb-2 ml-9 space-y-1"},u=["for"],m={key:1,"data-el":"form-row-description",class:"ff-description mb-2 space-y-1"},h={key:2,"data-el":"form-row-error",class:"ml-4 text-red-400 text-xs"};var g=a(2262);let f=0;var v={name:"FormRow",props:["id","type","name","value","disabled","modelValue","valueEmptyText","error","options","placeholder","containerClass","wrapperClass","inputClass","appendClass","accept"],emits:["update:modelValue","blur","enter"],computed:{inputId(){return this.id||"formRow-instance-"+f++},localModelValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},data(){return{rowValue:null}},setup(e,{slots:t}){const a=(0,g.iH)(!1),i=(0,g.iH)(!1),n=(0,g.iH)(!1),s=(0,g.iH)(!1);return t.default&&t.default().length&&(a.value=!0),t.description&&t.description().length&&(i.value=!0),t.append&&t.append().length&&(n.value=!0),t.input&&t.input().length&&(s.value=!0),{hasTitle:a,hasDescription:i,hasAppend:n,hasCustomInput:s}},methods:{focus(){this.$nextTick((()=>{this.$refs.input?.focus()}))}}},y=(0,a(3744).Z)(v,[["render",function(e,t,a,g,f,v){const y=(0,i.up)("ff-checkbox"),k=(0,i.up)("ff-dropdown-option"),b=(0,i.up)("ff-dropdown"),w=(0,i.up)("ff-text-input");return(0,i.wg)(),(0,i.iD)("div",{class:(0,n.normalizeClass)(a.containerClass?a.containerClass:"max-w-sm")},[(0,i.kq)(" Checkbox "),"checkbox"===a.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",{class:(0,n.normalizeClass)(["flex",a.wrapperClass?a.wrapperClass:"items-center"])},[(0,i._)("div",null,[(0,i.Wm)(y,{id:v.inputId,ref:"input",type:"checkbox",class:(0,n.normalizeClass)(a.inputClass),modelValue:v.localModelValue,"onUpdate:modelValue":t[0]||(t[0]=e=>v.localModelValue=e),disabled:a.disabled,"data-el":"form-row-title"},{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3},8,["id","class","modelValue","disabled"])]),g.hasAppend?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,n.normalizeClass)(a.appendClass?a.appendClass:"inline ml-2")},[(0,i.WI)(e.$slots,"append")],2)):(0,i.kq)("v-if",!0)],2),a.error?((0,i.wg)(),(0,i.iD)("div",s,(0,n.toDisplayString)(a.error),1)):(0,i.kq)("v-if",!0),g.hasDescription?((0,i.wg)(),(0,i.iD)("div",o,[(0,i.WI)(e.$slots,"description")])):(0,i.kq)("v-if",!0)],64)):"file"===a.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.kq)(" Single Line File Selection "),g.hasTitle?((0,i.wg)(),(0,i.iD)("label",{key:0,"data-el":"form-row-title",for:v.inputId,class:"text-sm font-medium text-gray-800"},[(0,i.WI)(e.$slots,"default")],8,r)):(0,i.kq)("v-if",!0),(0,i._)("div",{class:(0,n.normalizeClass)(["flex",a.wrapperClass?a.wrapperClass:"items-center"])},[(0,i._)("div",l,[(0,i._)("input",{id:v.inputId,type:"file",class:(0,n.normalizeClass)(a.inputClass),accept:a.accept,name:a.name,placeholder:a.placeholder,disabled:a.disabled,onChange:t[1]||(t[1]=t=>e.$emit("update:modelValue",{obj:t.target,val:t.target.value}))},null,42,c)])],2),a.error?((0,i.wg)(),(0,i.iD)("div",d,(0,n.toDisplayString)(a.error),1)):(0,i.kq)("v-if",!0),g.hasDescription?((0,i.wg)(),(0,i.iD)("div",p,[(0,i.WI)(e.$slots,"description")])):(0,i.kq)("v-if",!0)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[g.hasTitle?((0,i.wg)(),(0,i.iD)("label",{key:0,"data-el":"form-row-title",for:v.inputId,class:(0,n.normalizeClass)([a.disabled?"text-gray-400":"text-gray-800","block text-sm font-medium mb-1"])},[(0,i.WI)(e.$slots,"default")],10,u)):(0,i.kq)("v-if",!0),g.hasDescription?((0,i.wg)(),(0,i.iD)("div",m,[(0,i.WI)(e.$slots,"description")])):(0,i.kq)("v-if",!0),(0,i._)("div",{class:(0,n.normalizeClass)(a.wrapperClass?a.wrapperClass:"flex flex-col sm:flex-row relative")},[(0,i.kq)(" Dropdown "),a.options&&"uneditable"!==a.type?((0,i.wg)(),(0,i.j4)(b,{key:0,modelValue:v.localModelValue,"onUpdate:modelValue":t[2]||(t[2]=e=>v.localModelValue=e),class:"w-full",disabled:a.disabled,placeholder:a.placeholder},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.options,(e=>((0,i.wg)(),(0,i.j4)(k,{value:e.value,label:e.label,key:e.label,class:"text-sm"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.toDisplayString)(e.label),1)])),_:2},1032,["value","label"])))),128))])),_:1},8,["modelValue","disabled","placeholder"])):g.hasCustomInput?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.kq)(" Custom Input "),(0,i.WI)(e.$slots,"input")],64)):"uneditable"===a.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i.kq)(" Static/Uneditable "),(0,i._)("div",{"data-el":"form-row-uneditable",class:(0,n.normalizeClass)(["w-full uneditable",a.inputClass+(a.disabled?" text-gray-400":" text-gray-800")])},(0,n.toDisplayString)(a.modelValue||(null==a.valueEmptyText?"No Value":a.valueEmptyText)),3)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:3},[(0,i.kq)(" Text Input "),(0,i.Wm)(w,{ref:"input",modelValue:v.localModelValue,"onUpdate:modelValue":t[3]||(t[3]=e=>v.localModelValue=e),placeholder:a.placeholder,disabled:a.disabled,type:a.type,onEnter:t[4]||(t[4]=t=>e.$emit("enter")),onBlur:t[5]||(t[5]=t=>e.$emit("blur"))},null,8,["modelValue","placeholder","disabled","type"])],64)),g.hasAppend?((0,i.wg)(),(0,i.iD)("div",{key:4,"data-el":"form-row-append",class:(0,n.normalizeClass)(a.appendClass?a.appendClass:"block sm:inline sm:absolute sm:left-full sm:ml-4 mt-2 sm:mt-0")},[(0,i.WI)(e.$slots,"append")],2)):(0,i.kq)("v-if",!0)],2),a.error?((0,i.wg)(),(0,i.iD)("div",h,(0,n.toDisplayString)(a.error),1)):(0,i.kq)("v-if",!0)],64))],2)}]])},4338:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var i=a(6252),n=a(3577);const s={class:"text-center w-64"};var o={name:"ff-loading",props:{color:{default:"black",type:String},message:{default:null,type:String}}},r=(0,a(3744).Z)(o,[["render",function(e,t,o,r,l,c){const d=(0,i.up)("lottie-animation");return(0,i.wg)(),(0,i.iD)("div",{class:(0,n.normalizeClass)(["ff-loading flex-grow flex flex-col items-center justify-center mx-auto",{"theme-light":"black"==o.color,"theme-dark":"white"==o.color}])},[(0,i._)("div",s,["white"==o.color?((0,i.wg)(),(0,i.j4)(d,{key:0,animationData:a(1341),loop:!0},null,8,["animationData"])):"black"==o.color?((0,i.wg)(),(0,i.j4)(d,{key:1,animationData:a(1081),loop:!0},null,8,["animationData"])):(0,i.kq)("v-if",!0),(0,i._)("h4",null,(0,n.toDisplayString)(o.message||"Loading..."),1)])],2)}]])},1357:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var i=a(6252);const n={class:"w-full",viewBox:"0 0 211.67 64.824",stroke:"none",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s=[(0,i.uE)('<path d="M53.052 41.012l-.144-1.321-.145 1.319c.101.007.185.003.289.002z"></path><path d="M0 52.92v1.322h211.67V52.92zM0 55.56v1.324h211.67V55.56zM0 60.86v1.322h211.67V60.86zM0 63.5v1.324h211.67V63.5z"></path><path d="M105.17 25.796c0-6.933-5.635-12.566-12.568-12.566s-12.566 5.633-12.566 12.566h1.322a11.234 11.234 0 0111.244-11.244 11.235 11.235 0 0111.246 11.244A11.235 11.235 0 0192.602 37.04l-26.54-.001.081 1.324h26.459c6.933 0 12.568-5.635 12.568-12.568z"></path><path d="M102.53 25.792c0-5.472-4.45-9.922-9.922-9.922s-9.922 4.45-9.922 9.922h1.324a8.587 8.587 0 018.598-8.598c4.757 0 8.6 3.841 8.6 8.598s-3.843 8.6-8.6 8.604l-26.863.004.196 1.322 26.667-.004c5.471-.004 9.921-4.454 9.921-9.926z"></path><path d="M99.881 25.795c0-4.01-3.267-7.275-7.277-7.275s-7.276 3.264-7.276 7.275h1.323c0-3.296 2.657-5.953 5.953-5.953s5.953 2.657 5.953 5.953a5.944 5.944 0 01-5.953 5.954H65.126l.346 1.323h27.132c4.01 0 7.276-3.266 7.276-7.277z"></path><path d="M62.97 26.46l.665 1.322 28.969-.001a1.997 1.997 0 001.984-1.986 1.995 1.995 0 00-1.984-1.985 1.995 1.995 0 00-1.985 1.984h1.324c0-.373.287-.66.66-.66s.663.287.663.66a.655.655 0 01-.662.664z"></path><path d="M39.688 13.231c-9.666 0-18.056 5.352-22.473 13.228H0v1.323h17.94l.187-.348c4.132-7.669 12.233-12.881 21.56-12.881 13.525 0 24.476 10.95 24.476 24.476 0 1.09.896 1.986 1.984 1.985h13.229a1.994 1.994 0 001.984-1.984h-1.322c0 .373-.29.66-.662.66h-13.23a.65.65 0 01-.661-.66c0-14.24-11.557-25.799-25.797-25.799z"></path><path d="M66.146 43.656h13.229a4.635 4.635 0 004.631-4.626h-1.324a3.291 3.291 0 01-3.307 3.304H66.146a3.294 3.294 0 01-3.308-3.308c0-12.782-10.372-23.156-23.15-23.156-9.217 0-17.132 5.426-20.855 13.23H0v1.323h19.613l.175-.389c3.426-7.57 11.041-12.84 19.898-12.84 12.063 0 21.828 9.765 21.828 21.832a4.636 4.636 0 004.631 4.63z"></path><path d="M86.65 39.03h-1.322a5.94 5.94 0 01-5.953 5.952h-13.23a5.94 5.94 0 01-5.952-5.954c0-11.319-9.188-20.508-20.506-20.508-8.742 0-16.153 5.513-19.1 13.229H0v1.324h19.844l1.598-.002.156-.442c2.633-7.448 9.732-12.787 18.09-12.787 10.602 0 19.182 8.582 19.182 19.186 0 4.013 3.266 7.277 7.277 7.276h13.229c4.01.001 7.275-3.263 7.275-7.274z"></path><path d="M91.943 39.03h-1.324a11.23 11.23 0 01-11.244 11.242H66.146a11.232 11.232 0 01-11.245-11.245c0-8.398-6.818-15.216-15.212-15.216v-.001c-7.718 0-14.06 5.772-15.04 13.229H.003v1.322h25.152l.65-.033.05-.572c.64-7.08 6.583-12.623 13.835-12.623 7.68 0 13.89 6.21 13.89 13.894 0 6.936 5.634 12.569 12.567 12.567h13.229c6.933.002 12.568-5.632 12.568-12.564z"></path><path d="M0 39.69v1.324l39.688-.003a1.999 1.999 0 001.984-1.987 1.995 1.995 0 00-1.984-1.984 1.995 1.995 0 00-1.984 1.984h1.322c0-.373.289-.662.662-.662s.662.29.662.662c0 .374-.289.66-.662.663z"></path><path d="M44.319 39.031c0-2.55-2.082-4.63-4.63-4.63a4.641 4.641 0 00-4.632 4.63h1.325c0-1.834 1.472-3.309 3.306-3.309s3.307 1.475 3.307 3.309-1.472 3.307-3.307 3.303L0 42.33v1.322l39.688.004a4.634 4.634 0 004.63-4.625z"></path><path d="M46.963 39.027c0-4.01-3.265-7.277-7.275-7.277s-7.276 3.266-7.276 7.277h1.323c0-3.296 2.657-5.953 5.953-5.953s5.953 2.657 5.953 5.953-2.658 5.953-5.953 5.953H0v1.322h39.688c4.01 0 7.275-3.264 7.275-7.275z"></path><path d="M52.256 39.028c0-6.933-5.635-12.568-12.568-12.568S27.12 32.095 27.12 39.028h1.324a11.235 11.235 0 0111.244-11.246 11.235 11.235 0 0111.244 11.246A11.232 11.232 0 0139.688 50.27L0 50.27v1.322l39.688.001c6.933.001 12.568-5.632 12.568-12.565zM55.102 46.302l-.77-1.322-1.417-.002c-.46-.001-.908-.053-1.339-.15l-.661 1.192c.635.182 1.306.28 2 .28zM144.86 25.796c0-6.933-5.635-12.566-12.568-12.566s-12.566 5.633-12.566 12.566h1.322a11.234 11.234 0 0111.244-11.244 11.235 11.235 0 0111.246 11.244 11.236 11.236 0 01-11.247 11.245l-13.231.002a11.227 11.227 0 01-11.242-11.245C107.821 17.4 101 10.58 92.606 10.58v-.001c-7.717 0-14.06 5.773-15.04 13.229H67.472a1.995 1.995 0 00-1.985 1.985h1.324a.65.65 0 01.66-.661h10.602l.65-.033.05-.572c.64-7.08 6.583-12.623 13.835-12.623 7.68 0 13.89 6.21 13.888 13.893-.003 6.935 5.632 12.57 12.566 12.567l13.23-.002c6.935 0 12.57-5.634 12.57-12.567z"></path><path d="M119.06 31.752a5.942 5.942 0 01-5.952-5.953c0-11.32-9.19-20.508-20.506-20.508V5.29c-8.743 0-16.156 5.513-19.103 13.229h-6.033c-3.023.001-5.622 1.856-6.72 4.486l.946 1.329a5.943 5.943 0 015.774-4.491h5.291l1.598-.002.156-.441c2.633-7.448 9.732-12.787 18.09-12.787 10.602 0 19.184 8.582 19.185 19.186.001 4.012 3.266 7.279 7.274 7.277l13.227-.002c4.011 0 7.278-3.267 7.278-7.278s-3.267-7.275-7.278-7.275-7.275 3.264-7.275 7.275h1.322c0-3.296 2.658-5.953 5.953-5.953s5.954 2.657 5.954 5.953a5.944 5.944 0 01-5.954 5.954z"></path><path d="M136.92 25.799a4.64 4.64 0 00-4.63-4.629 4.638 4.638 0 00-4.63 4.629h1.322c0-1.835 1.473-3.307 3.307-3.307s3.309 1.472 3.309 3.307-1.475 3.308-3.31 3.305H119.06a3.29 3.29 0 01-3.306-3.303c.001-12.777-10.373-23.151-23.15-23.151-9.217 0-17.133 5.426-20.856 13.23l-4.28-.005c-3.66-.005-6.861 1.984-8.582 4.939l.934 1.037a8.573 8.573 0 017.648-4.654l5.061.005.178-.388c3.425-7.571 11.039-12.84 19.896-12.84 12.063 0 21.828 9.765 21.827 21.827a4.633 4.633 0 004.63 4.625h13.229a4.636 4.636 0 004.63-4.627z"></path><path d="M119.06 26.461a.652.652 0 01-.66-.662C118.4 11.559 106.843 0 92.603 0c-9.667 0-18.057 5.352-22.474 13.228h-2.662c-4.412.001-8.298 2.283-10.54 5.728l.99.895a11.233 11.233 0 019.55-5.3h3.39l.187-.348c4.132-7.669 12.23-12.881 21.559-12.881 13.524 0 24.475 10.95 24.475 24.476 0 1.09.896 1.985 1.982 1.984l13.227-.002a1.997 1.997 0 001.985-1.987 1.995 1.995 0 00-1.984-1.984 1.995 1.995 0 00-1.984 1.984h1.324a.65.65 0 01.66-.66c.373 0 .662.287.662.66a.655.655 0 01-.663.664zM114.94 38.364l-2.852-1.324c-4.171-.002-8.342 0-12.513 0l-2.853 1.324c6.073-.002 12.145 0 18.218 0zM108.02 33.072l-.77-1.322-1.415-.001h-1.415l-.77 1.323 2.185-.001zM106.68 30.424l-.406-1.324-.435-.001h-.435l-.406 1.325.841-.001zM105.97 27.782l-.135-1.322-.136 1.322c.09-.002.18 0 .271 0zM147.5 39.024h1.324a1.995 1.995 0 00-1.985-1.984h-7.58l-2.852 1.324 10.432-.001a.65.65 0 01.661.661zM152.33 36.725l.467-1.864a7.271 7.271 0 00-5.958-3.111h-2.734l-.77 1.322h3.504a5.942 5.942 0 015.491 3.653z"></path><path d="M153.37 33.423l.659-1.232a9.895 9.895 0 00-7.19-3.091h-1.76l-.407 1.324 2.166-.001a8.57 8.57 0 016.532 3z"></path><path d="M154.78 31.064l.849-1.01a12.524 12.524 0 00-8.791-3.594h-1.321l-.136 1.322 1.457.001c3.102.001 5.91 1.253 7.942 3.281zM52.106 43.58l.392-1.277c.137.017.276.026.418.026l.438.001.406 1.324-.982-.002a4.644 4.644 0 01-.672-.072zM46.946 50.08l1.184-.877a11.238 11.238 0 004.787 1.065l6.256.002 2.852 1.324-9.108-.003a12.523 12.523 0 01-5.971-1.51zM121.04 39.03h-1.322a.65.65 0 01-.66.66H92.594l-.145 1.32c.05.004.102.006.153.005h26.456a1.994 1.994 0 001.982-1.985z"></path><path d="M126.34 39.03h-1.322a5.941 5.941 0 01-5.955 5.952l-26.461-.003a6.076 6.076 0 01-1.339-.152l-.662 1.193a7.3 7.3 0 002 .281l26.462.003c4.012.002 7.277-3.263 7.277-7.274z"></path><path d="M92.604 47.624a8.498 8.498 0 01-2.797-.459l-.922 1.065a9.787 9.787 0 003.719.718h26.458c5.47.004 9.92-4.446 9.92-9.918h-1.322a8.582 8.582 0 01-8.598 8.594z"></path><path d="M131.63 39.03h-1.324a11.231 11.231 0 01-11.246 11.242l-26.46-.004a11.245 11.245 0 01-4.786-1.065l-1.184.877c1.776.962 3.81 1.509 5.97 1.51l26.46.004c6.935.002 12.57-5.631 12.57-12.564z"></path><path d="M152.13 51.594c6.933.002 12.568-5.631 12.571-12.567a.658.658 0 01.665-.665c.373 0 .66.289.66.662 0 .327-.22.588-.526.648l-.134 1.336a1.995 1.995 0 001.984-1.984 1.995 1.995 0 00-1.984-1.984 2 2 0 00-1.987 1.987 11.237 11.237 0 01-11.25 11.245l-19.843-.004a11.246 11.246 0 01-4.786-1.065l-1.184.877c1.776.962 3.81 1.51 5.97 1.51zM211.66 41.014V39.69h-33.07a.06.06 0 01-.014.001l-.138 1.319c.05.004.102.006.152.005zM211.66 43.652V42.33h-33.072c-.142-.001-.281-.01-.418-.027l-.392 1.277c.263.046.534.07.81.071zM177.25 44.827l-.662 1.193a7.3 7.3 0 002 .28l33.072.002V44.98l-33.072-.002a6.075 6.075 0 01-1.338-.151zM173.8 49.203l-1.184.877c1.776.962 3.81 1.509 5.97 1.51l33.072.002V50.27l-33.072-.002a11.246 11.246 0 01-4.786-1.065z"></path><path d="M172.65 39.027c0-4.01-3.265-7.277-7.275-7.277s-7.278 3.266-7.279 7.278a5.943 5.943 0 01-5.956 5.953l-19.845-.003a6.075 6.075 0 01-1.338-.151l-.662 1.193a7.3 7.3 0 002 .28l19.845.004c4.012.001 7.279-3.264 7.28-7.276a5.945 5.945 0 015.955-5.954c3.295 0 5.953 2.657 5.953 5.953s-2.658 5.953-5.883 5.952a5.96 5.96 0 01-1.268-.152l-.662 1.193c.635.182 1.307.28 1.93.281 3.94.001 7.205-3.263 7.205-7.274z"></path><path d="M152.13 43.656c2.548.003 4.63-2.076 4.634-4.63.004-4.76 3.846-8.603 8.603-8.603s8.598 3.842 8.598 8.6-3.84 8.597-8.523 8.602a8.378 8.378 0 01-2.722-.459l-.923 1.064a9.686 9.686 0 003.645.719c5.397-.005 9.847-4.455 9.847-9.927s-4.45-9.921-9.922-9.921-9.922 4.45-9.926 9.926a3.3 3.3 0 01-3.311 3.307l-19.843-.004c-.142 0-.281-.01-.418-.026l-.392 1.277c.263.046.534.07.81.071z"></path><path d="M177.94 39.028c0-6.933-5.633-12.568-12.566-12.568-6.933 0-12.568 5.635-12.57 12.569a.653.653 0 01-.664.66l-19.844.002a.06.06 0 01-.015 0l-.137 1.319c.05.004.102.006.152.005l19.844-.001c1.09 0 1.986-.896 1.987-1.985a11.239 11.239 0 0111.247-11.247 11.235 11.235 0 0111.244 11.246c0 6.218-5.026 11.244-11.174 11.24a11.185 11.185 0 01-4.716-1.065l-1.184.876c1.776.963 3.81 1.51 5.9 1.512 6.863.003 12.496-5.63 12.496-12.563z"></path><g fill="none"><path d="M64.21 29.1l.499 1.324 27.896.003c2.549.003 4.63-2.079 4.63-4.628s-2.081-4.629-4.63-4.629a4.638 4.638 0 00-4.63 4.629h1.323c0-1.834 1.472-3.307 3.306-3.307s3.309 1.473 3.309 3.307-1.474 3.309-3.308 3.305z"></path><path d="M66.146 48.948h13.229c5.472.004 9.922-4.446 9.922-9.918h-1.322a8.583 8.583 0 01-8.6 8.594H66.146a8.583 8.583 0 01-8.6-8.594c0-9.856-8.003-17.86-17.858-17.86-8.25 0-15.17 5.616-17.215 13.23H0v1.322h22.49l.982-.002.121-.508c1.723-7.291 8.268-12.72 16.094-12.72 9.141 0 16.537 7.397 16.537 16.538 0 5.472 4.45 9.922 9.922 9.918z"></path><path d="M49.61 39.022c0-5.472-4.45-9.922-9.922-9.922s-9.922 4.45-9.922 9.922h1.322c0-4.757 3.843-8.6 8.6-8.6s8.6 3.843 8.6 8.6-3.843 8.598-8.6 8.598H0v1.324h39.688c5.472 0 9.922-4.45 9.922-9.922zM75.407 22.491l.984-.002.12-.508c1.722-7.29 8.267-12.719 16.094-12.719 9.14 0 16.537 7.397 16.536 16.537-.001 5.472 4.449 9.922 9.92 9.923l13.229-.004c5.472-.005 9.922-4.455 9.922-9.927s-4.45-9.922-9.922-9.922-9.921 4.45-9.921 9.922h1.324a8.587 8.587 0 018.597-8.597c4.757 0 8.6 3.84 8.6 8.597s-3.843 8.6-8.6 8.604l-13.23.004a8.59 8.59 0 01-8.597-8.6c0-9.856-8.003-17.859-17.858-17.859-8.25 0-15.17 5.615-17.216 13.229h-7.92a4.64 4.64 0 00-4.63 4.632h1.323a3.298 3.298 0 013.307-3.309zM101.35 35.722l1.312-1.322 3.175-.001h3.175l1.311 1.323-4.486-.001zM150.15 39.031h1.322c0-2.55-2.08-4.63-4.625-4.63h-4.494l-1.311 1.321 5.805.001a3.297 3.297 0 013.303 3.308zM49.197 48.23l.922-1.064a8.62 8.62 0 002.797.463l3.176.001 1.312 1.322h-4.488a9.858 9.858 0 01-3.719-.722zM92.187 42.303l-.392 1.277c.263.047.533.071.81.072l26.458.004a4.635 4.635 0 004.631-4.626h-1.324a3.291 3.291 0 01-3.307 3.303l-26.459-.004c-.141 0-.28-.01-.417-.026zM211.66 48.944V47.62l-33.073.004a8.498 8.498 0 01-2.797-.459l-.922 1.065a9.787 9.787 0 003.719.718zM152.13 48.948c5.47.004 9.92-4.446 9.925-9.918.005-1.834 1.478-3.308 3.313-3.308s3.306 1.474 3.306 3.309-1.472 3.306-3.231 3.302a6.085 6.085 0 01-.343-.03l-.392 1.277c.263.047.533.071.735.075 2.474.005 4.554-2.075 4.554-4.624s-2.08-4.631-4.63-4.631a4.648 4.648 0 00-4.635 4.63 8.59 8.59 0 01-8.602 8.594h-19.843a8.498 8.498 0 01-2.797-.458l-.922 1.064a9.787 9.787 0 003.719.718z"></path></g>',27)];var o={name:"FlowForgeLogo"},r=(0,a(3744).Z)(o,[["render",function(e,t,a,o,r,l){return(0,i.wg)(),(0,i.iD)("svg",n,s)}]])},7264:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var i=a(6252),n=a(3577);const s={class:"ff-nav-item"},o={class:"flex w-full justify-between items-center"},r=["src"],l={class:"transition-fade--color flex-grow"},c={key:2,"data-el":"premium-feature"};var d={name:"NavItem",components:{SparklesIcon:a(6368).Z},props:{icon:{type:Function,default:()=>null},avatar:{type:String,default:()=>null},label:{type:String,required:!0},featureUnavailable:{type:Boolean,default:!1},notifications:{type:Number,default:()=>0}}},p=(0,a(3744).Z)(d,[["render",function(e,t,a,d,p,u){const m=(0,i.up)("SparklesIcon"),h=(0,i.up)("ff-notification-pill");return(0,i.wg)(),(0,i.iD)("li",s,[(0,i._)("div",o,[a.icon?((0,i.wg)(),(0,i.j4)((0,i.LL)(a.icon),{key:0,class:"transition-fade--color"})):(0,i.kq)("v-if",!0),a.avatar?((0,i.wg)(),(0,i.iD)("img",{key:1,src:a.avatar,class:"ff-avatar"},null,8,r)):(0,i.kq)("v-if",!0),(0,i._)("label",l,(0,n.toDisplayString)(a.label),1),a.featureUnavailable?((0,i.wg)(),(0,i.iD)("span",c,[(0,i.Wm)(m,{class:"transition-fade--color hollow",style:{"stroke-width":"1"}})])):(0,i.kq)("v-if",!0)]),a.notifications>0?((0,i.wg)(),(0,i.j4)(h,{key:0,count:a.notifications},null,8,["count"])):(0,i.kq)("v-if",!0)])}]])},1025:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var i=a(6252),n=a(3577),s=a(9963);const o={class:"ff-layout--box"},r={key:0,class:"ff-layout--box--left hidden md:flex"},l={class:"ff-layout--box--content"},c={class:"ff-layout--box--right"},d={class:"ff-layout--box--content ff-theme-dark"},p=(0,i._)("div",{class:"ff-logo"},[(0,i._)("img",{src:"/ff-logo--wordmark-caps--dark.png"})],-1);var u=a(8356),m={name:"ff-layout-box",data(){return{alerts:[]}},computed:{alertsReversed:function(){return[...this.alerts].reverse()}},mounted(){u.Z.subscribe(this.alertReceived)},methods:{alertReceived(e,t,a){this.alerts.push({message:e,type:t,countdown:a,timestamp:Date.now()})},clear(e){this.alerts.splice(this.alerts.length-1-e,1)}}},h=(0,a(3744).Z)(m,[["render",function(e,t,a,u,m,h){const g=(0,i.up)("ff-notification-toast");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",{class:(0,n.normalizeClass)(["ff-layout--box--wrapper",{"md:grid-cols-2 max-w-6xl":!!e.$slots["splash-content"],"max-w-2xl":!e.$slots["splash-content"]}])},[e.$slots["splash-content"]?((0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",l,[(0,i.WI)(e.$slots,"splash-content")])])):(0,i.kq)("v-if",!0),(0,i._)("div",c,[(0,i._)("div",d,[p,(0,i.WI)(e.$slots,"default")])])],2),(0,i.Wm)(s.TransitionGroup,{class:"ff-notifications",name:"notifictions-list",tag:"div"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.alertsReversed,((e,t)=>((0,i.wg)(),(0,i.j4)(g,{key:e.timestamp,type:e.type,message:e.message,countdown:e.countdown||3e3,onClose:e=>h.clear(t)},null,8,["type","message","countdown","onClose"])))),128))])),_:1})])}]])},4825:function(e){"use strict";e.exports="data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27%231F2937%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3ccircle cx=%278%27 cy=%278%27 r=%274%27/%3e%3c/svg%3e"},6651:function(e){"use strict";e.exports="data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27%23374151%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3ccircle cx=%278%27 cy=%278%27 r=%274%27/%3e%3c/svg%3e"},3601:function(e){"use strict";e.exports="data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27white%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3ccircle cx=%278%27 cy=%278%27 r=%273%27/%3e%3c/svg%3e"},4465:function(e,t,a){"use strict";e.exports=a.p+"./assets/2cd66b155fbf3f0718ab.svg"},1081:function(e){"use strict";e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.1.0","a":"","k":"","d":"","tc":""},"fr":29.9700012207031,"ip":0,"op":122.000004969162,"w":1920,"h":1080,"nm":"FlowForge - Loading - Black","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,712,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 19","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1669.5,711,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-361.586,22.703],[-362.07,538.461],[-16.516,539.242],[-16.031,23.484]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[92,92],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-9,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 18","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1669.5,711,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-361.586,22.703],[-362.07,538.461],[-16.516,539.242],[-16.031,23.484]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[227,227],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-9,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 13","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1669.5,711,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-361.586,22.703],[-362.07,538.461],[-16.516,539.242],[-16.031,23.484]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[362,362],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-9,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 10","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1669.5,711,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-361.586,22.703],[-362.07,538.461],[-16.516,539.242],[-16.031,23.484]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[640,640],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-9,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Shape Layer 17","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,712,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-1019.175,-272.024],[-1016.141,-708.266],[958.969,-707.5],[964.889,37.248],[448.383,35.492],[447.996,-272.479]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[1310,1310],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.059,32.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Shape Layer 14","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,712,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-1019.173,-204.023],[-1016.141,-724.266],[958.969,-719.5],[964.889,37.248],[448.383,35.492],[447.998,-204.479]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[1178,1178],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2.012,30.203],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Shape Layer 11","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,712,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-1019.172,-136.023],[-1018.586,-736.266],[582.969,-734.75],[588.889,37.998],[448.383,35.492],[447.999,-136.479]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[1043.625,1043.625],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2.012,30.203],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,712,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-413.586,22.109],[-412.586,-498.133],[542.969,-496.75],[541.969,23.492]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[765.625,765.625],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,710,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-635.531,28.469],[-635.062,-380.469],[496.188,-383.252],[512.174,658.185],[-0.469,663.531],[-0.469,28.469]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[635.062,635.062],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"Core Circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,611.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-500.922,183.078],[-501.773,-253.413],[507.717,-275.302],[503.086,676.234],[0.922,684.922],[0.922,183.078]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[-427.026,910.943]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[501.844,501.844],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,186],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 2","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[312.578,312.578],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,186],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[118,118],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,186],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 3","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,186],"ix":2},"a":{"a":0,"k":[-2,186],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":13,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,492,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[1,642],[5,134],[-1354.933,144.387],[-1352.933,656.387]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"},{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[970.477,317.654],[970.477,750.105],[1348.503,750.105],[1348.503,317.654]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 2"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[-1087.232,941.144]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":45,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-1395.025,508.692],[1438.402,508.692]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":45,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":14,"ty":4,"nm":"Shape Layer 16","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[580.5,58.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-265.891,637.919],[-261.892,129.919],[-1034.664,136.568],[-1032.664,648.568]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":15,"ty":4,"nm":"#testing","ln":"testing","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[580.5,127.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-204.085,637.474],[-200.085,129.474],[-967.24,132.354],[-965.24,644.354]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":16,"ty":4,"nm":"Shape Layer 12","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[580.5,195.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-142.279,640.763],[-138.279,132.763],[-888.576,132.354],[-886.576,644.354]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":17,"ty":4,"nm":"Shape Layer 7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[580,354,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[1,642],[5,134],[-815.531,135.959],[-813.531,647.959]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":18,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,785,0],"ix":2},"a":{"a":0,"k":[0,508.499,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[1,642],[5,134],[-1356.337,140.173],[-1354.337,652.173]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"},{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[970.479,253.038],[967.67,819.032],[1348.501,816.223],[1349.906,243.205]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 2"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[699.536,522.642]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-1395.022,510.097],[1396.26,510.097]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":19,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,560,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[1,642],[5,134],[-1411.121,131.449],[-1409.121,643.449]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"},{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[962.048,224.944],[962.048,642.138],[1348.498,644.947],[1348.498,227.754]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 2"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-1487.735,510.097],[1348.502,508.692]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":45,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":20,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,700,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[1.428,225.252],[12.048,776.893],[-1115.831,777.337],[-1115.831,237.934]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"},{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[691,383],[692,343],[960,344],[958,378]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 2"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-960,358],[958,362]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":21,"ty":4,"nm":"BG Path - Small 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1912,698,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[101.355,71.387,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[85.903,61.563],[0,0],[0,0],[57.186,-42.055],[0,0]],"o":[[0,0],[-85.903,-61.563],[0,0],[0,0],[-57.186,42.055],[0,0]],"v":[[-295.524,592.859],[-415.304,507.024],[-511.626,420.453],[-687.068,411.302],[-790.328,509.867],[-940.038,586.258]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":45,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":22,"ty":4,"nm":"BG Path - Small 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1912,494,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[5.451,18.771],[0,0],[0,0],[11.423,-33.911],[0,0]],"o":[[0,0],[-5.451,-18.771],[0,0],[0,0],[-11.423,33.911],[0,0]],"v":[[-803.888,578.789],[-828.936,509.009],[-842.029,472.531],[-846.435,462.55],[-863.701,507.598],[-892.194,581.939]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-1487.735,510.097],[1348.502,508.692]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":45,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":23,"ty":4,"nm":"BG Path - Small","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1912,560,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-742.082,625.143],[-836.411,395.273],[-985.498,636.03],[-838.816,670.434]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-1487.735,510.097],[1348.502,508.692]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":45,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.066666666667,0.094117647059,0.152941176471,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":24,"ty":4,"nm":".red-path","cl":"red-path","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-336,6],[-2.082,-151.986],[-168,2],[0,0]],"o":[[0,0],[0,0],[339.946,-6.07],[2,146],[211.985,-2.524],[0,0]],"v":[[-968,100],[-444,98],[-20,-244],[444,160],[700,460],[1160,460]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":98,"s":[0]},{"t":122.000004969162,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":71,"s":[0]},{"t":101.000004113814,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.729411780834,0.031372550875,0.031372550875,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":145,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":56.0000022809268,"op":122.000004969162,"st":56.0000022809268,"bm":0},{"ddd":0,"ind":25,"ty":4,"nm":".red-path","cl":"red-path","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-147.951,3.794],[0,160],[122,0],[5,-160]],"o":[[0,0],[156,-4],[0,-114],[-138,0],[-5.001,160.034]],"v":[[-960,452],[-8,456],[248,184],[10,-44],[-248,200]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":35,"s":[0]},{"t":53.0000021587343,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":30.0000012219251,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.729503691196,0.030340127647,0.030340127647,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":119,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":26,"ty":4,"nm":".red-path","cl":"red-path","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[30.608,-29.428],[0,0],[0,0],[26.754,32.016],[0,0]],"o":[[0,0],[-30.608,29.428],[0,0],[0,0],[-33.231,-39.767],[0,0]],"v":[[297,398],[245.608,457.572],[179,507],[504,505],[441.231,454.767],[396,398]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[50,457],[616,451]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.729411780834,0.031372550875,0.032352942973,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":110,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":64,"s":[0]},{"t":73.000002973351,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":38,"s":[0]},{"t":45.0000018328876,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0}],"markers":[]}')},1341:function(e){"use strict";e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.1.0","a":"","k":"","d":"","tc":""},"fr":29.9700012207031,"ip":0,"op":122.000004969162,"w":1920,"h":1080,"nm":"FlowForge - Loading - White","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,712,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 19","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1669.5,711,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-361.586,22.703],[-362.07,538.461],[-16.516,539.242],[-16.031,23.484]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[92,92],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-9,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 18","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1669.5,711,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-361.586,22.703],[-362.07,538.461],[-16.516,539.242],[-16.031,23.484]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[227,227],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-9,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 13","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1669.5,711,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-361.586,22.703],[-362.07,538.461],[-16.516,539.242],[-16.031,23.484]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[362,362],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-9,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 10","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1669.5,711,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-361.586,22.703],[-362.07,538.461],[-16.516,539.242],[-16.031,23.484]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[640,640],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-9,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Shape Layer 17","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,712,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-1019.175,-272.024],[-1016.141,-708.266],[958.969,-707.5],[964.889,37.248],[448.383,35.492],[447.996,-272.479]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[1310,1310],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.059,32.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Shape Layer 14","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,712,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-1019.173,-204.023],[-1016.141,-724.266],[958.969,-719.5],[964.889,37.248],[448.383,35.492],[447.998,-204.479]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[1178,1178],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2.012,30.203],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Shape Layer 11","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,712,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-1019.172,-136.023],[-1018.586,-736.266],[582.969,-734.75],[588.889,37.998],[448.383,35.492],[447.999,-136.479]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[1043.625,1043.625],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2.012,30.203],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,712,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-413.586,22.109],[-412.586,-498.133],[542.969,-496.75],[541.969,23.492]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[765.625,765.625],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,710,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-635.531,28.469],[-635.062,-380.469],[496.188,-383.252],[512.174,658.185],[-0.469,663.531],[-0.469,28.469]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[635.062,635.062],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"Core Circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,611.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-500.922,183.078],[-501.773,-253.413],[507.717,-275.302],[503.086,676.234],[0.922,684.922],[0.922,183.078]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[-427.026,910.943]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[501.844,501.844],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,186],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 2","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[312.578,312.578],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,186],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[118,118],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,186],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 3","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,186],"ix":2},"a":{"a":0,"k":[-2,186],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":13,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,492,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[1,642],[5,134],[-1354.933,144.387],[-1352.933,656.387]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"},{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[970.477,317.654],[970.477,750.105],[1348.503,750.105],[1348.503,317.654]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 2"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[-1087.232,941.144]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":45,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-1395.025,508.692],[1438.402,508.692]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":45,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":14,"ty":4,"nm":"Shape Layer 16","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[580.5,58.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-265.891,637.919],[-261.892,129.919],[-1034.664,136.568],[-1032.664,648.568]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":15,"ty":4,"nm":"#testing","ln":"testing","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[580.5,127.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-204.085,637.474],[-200.085,129.474],[-967.24,132.354],[-965.24,644.354]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":16,"ty":4,"nm":"Shape Layer 12","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[580.5,195.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-142.279,640.763],[-138.279,132.763],[-888.576,132.354],[-886.576,644.354]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":17,"ty":4,"nm":"Shape Layer 7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[580,354,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[1,642],[5,134],[-815.531,135.959],[-813.531,647.959]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":18,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,785,0],"ix":2},"a":{"a":0,"k":[0,508.499,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[1,642],[5,134],[-1356.337,140.173],[-1354.337,652.173]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"},{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[970.479,253.038],[967.67,819.032],[1348.501,816.223],[1349.906,243.205]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 2"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[699.536,522.642]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-1395.022,510.097],[1396.26,510.097]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":19,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,560,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[1,642],[5,134],[-1411.121,131.449],[-1409.121,643.449]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"},{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[962.048,224.944],[962.048,642.138],[1348.498,644.947],[1348.498,227.754]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 2"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-1487.735,510.097],[1348.502,508.692]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":45,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":20,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,700,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[1.428,225.252],[12.048,776.893],[-1115.831,777.337],[-1115.831,237.934]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"},{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[691,383],[692,343],[960,344],[958,378]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 2"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-960,358],[958,362]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":32,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":21,"ty":4,"nm":"BG Path - Small 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1912,698,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[101.355,71.387,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[85.903,61.563],[0,0],[0,0],[57.186,-42.055],[0,0]],"o":[[0,0],[-85.903,-61.563],[0,0],[0,0],[-57.186,42.055],[0,0]],"v":[[-295.524,592.859],[-415.304,507.024],[-511.626,420.453],[-687.068,411.302],[-790.328,509.867],[-940.038,586.258]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":45,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":22,"ty":4,"nm":"BG Path - Small 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1912,494,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[5.451,18.771],[0,0],[0,0],[11.423,-33.911],[0,0]],"o":[[0,0],[-5.451,-18.771],[0,0],[0,0],[-11.423,33.911],[0,0]],"v":[[-803.888,578.789],[-828.936,509.009],[-842.029,472.531],[-846.435,462.55],[-863.701,507.598],[-892.194,581.939]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-1487.735,510.097],[1348.502,508.692]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":45,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":23,"ty":4,"nm":"BG Path - Small","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1912,560,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[71.19,71.19,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-742.082,625.143],[-836.411,395.273],[-985.498,636.03],[-838.816,670.434]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-1487.735,510.097],[1348.502,508.692]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":45,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-968,510],[958,510]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.99459252451,0.99459252451,0.99459252451,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":48,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":24,"ty":4,"nm":".red-path","cl":"red-path","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-336,6],[-2.082,-151.986],[-168,2],[0,0]],"o":[[0,0],[0,0],[339.946,-6.07],[2,146],[211.985,-2.524],[0,0]],"v":[[-968,100],[-444,98],[-20,-244],[444,160],[700,460],[1160,460]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":98,"s":[0]},{"t":122.000004969162,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":71,"s":[0]},{"t":101.000004113814,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.729411780834,0.031372550875,0.031372550875,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":145,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":56.0000022809268,"op":122.000004969162,"st":56.0000022809268,"bm":0},{"ddd":0,"ind":25,"ty":4,"nm":".red-path","cl":"red-path","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-147.951,3.794],[0,160],[122,0],[0,-160]],"o":[[0,0],[156,-4],[0,-114],[-104,0],[0,160]],"v":[[-960,452],[-8,456],[248,184],[10,-44],[-246,204]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":35,"s":[0]},{"t":53.0000021587343,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":30.0000012219251,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.729503691196,0.030340127647,0.030340127647,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":119,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0},{"ddd":0,"ind":26,"ty":4,"nm":".red-path","cl":"red-path","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[30.608,-29.428],[0,0],[0,0],[26.754,32.016],[0,0]],"o":[[0,0],[-30.608,29.428],[0,0],[0,0],[-33.231,-39.767],[0,0]],"v":[[297,398],[245.608,457.572],[179,507],[504,505],[441.231,454.767],[396,398]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[50,457],[616,451]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.729411780834,0.031372550875,0.032352942973,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":110,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.427451010311,0,0,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":64,"s":[0]},{"t":73.000002973351,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":38,"s":[0]},{"t":45.0000018328876,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":900.000036657751,"st":0,"bm":0}],"markers":[]}')}},function(e){e.O(0,[216],(function(){return 1070,e(e.s=1070)})),e.O()}]);